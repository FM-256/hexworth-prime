<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Engineering Advanced Lab - Dark Arts Vault | Hexworth Prime</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #a855f7;
            --accent: #dc2626;
            --bg: #0a0a0f;
            --surface: #1a1a2e;
            --surface-light: #2a2a3e;
            --text: #e5e5e5;
            --text-dim: #a0a0a0;
            --border: #3a3a4e;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg) 0%, #1a0a2e 100%);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .breadcrumb {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-bottom: 15px;
        }

        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: var(--accent);
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-dim);
            font-size: 1.1rem;
        }

        .progress-section {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .xp-badge {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .progress-bar {
            background: var(--bg);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            background: var(--surface);
            border: 1px solid var(--border);
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .tab:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-color: transparent;
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: var(--accent);
            margin: 20px 0 15px 0;
            font-size: 1.3rem;
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .concept-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s;
        }

        .concept-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
        }

        .concept-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .concept-card p {
            color: var(--text-dim);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .principle-card {
            background: var(--bg);
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .principle-card.negative {
            border-left-color: var(--accent);
        }

        .principle-card.positive {
            border-left-color: var(--success);
        }

        .principle-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .principle-card.negative .principle-title {
            color: var(--accent);
        }

        .principle-card.positive .principle-title {
            color: var(--success);
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            position: relative;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            flex: 1;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            max-width: 45%;
        }

        .timeline-marker {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .email-analyzer {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
        }

        .email-header {
            background: var(--surface-light);
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .email-body {
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .red-flag {
            cursor: pointer;
            position: relative;
            display: inline;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .red-flag:hover {
            border-bottom-color: var(--accent);
        }

        .red-flag.revealed {
            background: rgba(220, 38, 38, 0.2);
            border-bottom-color: var(--accent);
        }

        .analyze-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }

        .flags-found {
            margin-top: 20px;
            padding: 20px;
            background: var(--surface-light);
            border-radius: 8px;
            display: none;
        }

        .flags-found.visible {
            display: block;
            animation: fadeIn 0.3s;
        }

        .flag-item {
            padding: 10px;
            margin: 8px 0;
            background: var(--bg);
            border-left: 3px solid var(--accent);
            border-radius: 4px;
        }

        .scam-challenge {
            display: grid;
            gap: 20px;
        }

        .scenario-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 25px;
            margin: 15px 0;
        }

        .scenario-text {
            background: var(--surface-light);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-style: italic;
            line-height: 1.8;
        }

        .choice-grid {
            display: grid;
            gap: 10px;
        }

        .choice-btn {
            background: var(--surface);
            border: 1px solid var(--border);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .choice-btn:hover {
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .choice-btn.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
        }

        .choice-btn.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--danger);
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.visible {
            display: block;
            animation: fadeIn 0.3s;
        }

        .feedback.correct {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success);
        }

        .feedback.incorrect {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tool-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s;
        }

        .tool-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
        }

        .tool-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .tool-description {
            color: var(--text-dim);
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .tool-use {
            background: var(--surface-light);
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.85rem;
        }

        .quiz-container {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
        }

        .question-card {
            display: none;
            animation: fadeIn 0.3s;
        }

        .question-card.active {
            display: block;
        }

        .question-number {
            color: var(--primary);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .quiz-options {
            display: grid;
            gap: 12px;
            margin-bottom: 25px;
        }

        .quiz-option {
            background: var(--surface);
            border: 1px solid var(--border);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .quiz-option:hover:not(.selected):not(.disabled) {
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: var(--primary);
            border-color: var(--primary);
        }

        .quiz-option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .quiz-nav {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            align-items: center;
        }

        .quiz-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }

        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-results {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .quiz-results.visible {
            display: block;
            animation: fadeIn 0.3s;
        }

        .score-display {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }

        .defense-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .defense-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--success);
        }

        .defense-title {
            color: var(--success);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .attack-type-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .attack-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .attack-card:hover {
            border-color: var(--accent);
            transform: translateX(5px);
        }

        .attack-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .attack-name {
            font-weight: bold;
            color: var(--accent);
            font-size: 1.1rem;
        }

        .expand-icon {
            color: var(--primary);
            transition: transform 0.3s;
        }

        .attack-card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .attack-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
            color: var(--text-dim);
        }

        .attack-card.expanded .attack-details {
            display: block;
            animation: fadeIn 0.3s;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .nav-btn {
            background: var(--surface);
            border: 1px solid var(--border);
            padding: 12px 30px;
            border-radius: 8px;
            color: var(--text);
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            display: inline-block;
        }

        .nav-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-color: transparent;
            transform: translateY(-2px);
        }

        code {
            background: var(--surface-light);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--primary);
            font-size: 0.9rem;
        }

        ul, ol {
            margin-left: 25px;
            margin-top: 10px;
        }

        li {
            margin: 8px 0;
            color: var(--text-dim);
        }

        .highlight {
            background: rgba(168, 85, 247, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            color: var(--primary);
            font-weight: bold;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .tabs {
                flex-direction: column;
            }

            .timeline::before {
                left: 20px;
            }

            .timeline-item {
                flex-direction: column !important;
                padding-left: 50px;
            }

            .timeline-content {
                max-width: 100%;
            }

            .timeline-marker {
                position: absolute;
                left: 0;
            }

            .concept-grid,
            .tool-grid,
            .defense-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="../index.html">Dark Arts Vault</a> / Social Engineering Advanced Lab
            </div>
            <h1>Social Engineering Advanced Lab</h1>
            <p class="subtitle">Master the art of human hacking, psychological manipulation, and advanced social engineering techniques</p>
        </header>

        <div class="progress-section">
            <div class="progress-header">
                <span>Lab Progress</span>
                <span class="xp-badge">75 XP Available</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('fundamentals')">Fundamentals</div>
            <div class="tab" onclick="switchTab('psychology')">Psychological Principles</div>
            <div class="tab" onclick="switchTab('timeline')">Attack Phases</div>
            <div class="tab" onclick="switchTab('email')">Email Analyzer</div>
            <div class="tab" onclick="switchTab('attacks')">Attack Types</div>
            <div class="tab" onclick="switchTab('challenge')">Spot the Scam</div>
            <div class="tab" onclick="switchTab('tools')">SE Tools</div>
            <div class="tab" onclick="switchTab('defenses')">Defenses</div>
            <div class="tab" onclick="switchTab('quiz')">Final Quiz</div>
        </div>

        <!-- FUNDAMENTALS TAB -->
        <div id="fundamentals" class="tab-content active">
            <div class="section">
                <h2>üé≠ Social Engineering Fundamentals</h2>
                <p>Social engineering is the art of manipulating people into divulging confidential information or performing actions that compromise security. Unlike technical attacks, social engineering exploits human psychology rather than technological vulnerabilities.</p>

                <h3>Core Concepts</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>Human Hacking</h4>
                        <p>Exploiting human nature, trust, and cognitive biases to bypass technical security controls. Humans are often the weakest link in security chains.</p>
                    </div>
                    <div class="concept-card">
                        <h4>Trust Exploitation</h4>
                        <p>Building false trust relationships to gain access to sensitive information, systems, or physical locations through deception and manipulation.</p>
                    </div>
                    <div class="concept-card">
                        <h4>Fear & Urgency</h4>
                        <p>Creating artificial pressure through threats, deadlines, or emergency scenarios that cause targets to bypass normal security procedures.</p>
                    </div>
                    <div class="concept-card">
                        <h4>Authority Manipulation</h4>
                        <p>Impersonating or claiming association with authority figures (executives, IT staff, law enforcement) to compel compliance.</p>
                    </div>
                </div>

                <h3>Impact Categories</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>üí∞ Financial Loss</h4>
                        <p>Direct theft of funds, wire transfer fraud, invoice manipulation, cryptocurrency scams, and payment diversion schemes.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üìâ Reputation Damage</h4>
                        <p>Loss of customer trust, brand damage, negative media coverage, and competitive disadvantage from security breaches.</p>
                    </div>
                    <div class="concept-card">
                        <h4>‚öñÔ∏è Legal Consequences</h4>
                        <p>Regulatory fines, compliance violations, lawsuits from affected parties, and potential criminal liability for data breaches.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üè¢ Business Disruption</h4>
                        <p>Operational downtime, loss of intellectual property, compromised competitive advantage, and potential business failure.</p>
                    </div>
                </div>

                <h3>Primary Targets</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>üéß Help Desk Staff</h4>
                        <p>Often targeted for password resets and account access. Trained to be helpful, making them vulnerable to pretexting attacks.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üë®‚Äçüíº System Administrators</h4>
                        <p>Hold privileged access to critical systems. Targeted for credentials, system information, and access to infrastructure.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üëî C-Level Executives</h4>
                        <p>High-value targets for whaling attacks. Often have weak security awareness and access to sensitive financial/strategic data.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üìû Receptionists</h4>
                        <p>Gatekeepers with knowledge of organizational structure, employee schedules, and internal processes. First point of contact.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- PSYCHOLOGY TAB -->
        <div id="psychology" class="tab-content">
            <div class="section">
                <h2>üß† Psychological Principles</h2>
                <p>Social engineers exploit fundamental human psychology to manipulate targets. Understanding these principles is crucial for both offensive operations and defensive awareness.</p>

                <h3>Negative Psychological Triggers</h3>

                <div class="principle-card negative">
                    <div class="principle-title">‚ö° Authority</div>
                    <p><strong>Principle:</strong> People naturally defer to authority figures and are less likely to question their requests.</p>
                    <p><strong>Example:</strong> "This is John from the CEO's office. We need you to wire $50,000 immediately for an urgent acquisition. The CEO is in a meeting and will confirm later."</p>
                    <p><strong>Defense:</strong> Always verify authority through independent communication channels. No legitimate authority will demand you bypass verification procedures.</p>
                </div>

                <div class="principle-card negative">
                    <div class="principle-title">üí¢ Intimidation & Force</div>
                    <p><strong>Principle:</strong> Threats, aggressive language, or implied consequences pressure victims into compliance without thinking.</p>
                    <p><strong>Example:</strong> "Your account has been compromised. If you don't verify your credentials within 10 minutes, all your data will be deleted."</p>
                    <p><strong>Defense:</strong> Legitimate organizations never threaten or pressure users. Slow down and verify through official channels.</p>
                </div>

                <div class="principle-card negative">
                    <div class="principle-title">‚è∞ Urgency & Time Pressure</div>
                    <p><strong>Principle:</strong> Creating artificial deadlines bypasses rational decision-making and security protocols.</p>
                    <p><strong>Example:</strong> "Your package will be returned if you don't update your shipping address in the next hour. Click here immediately."</p>
                    <p><strong>Defense:</strong> Artificial urgency is a red flag. Take time to verify suspicious requests regardless of stated deadlines.</p>
                </div>

                <div class="principle-card negative">
                    <div class="principle-title">üí∞ Greed & Financial Incentive</div>
                    <p><strong>Principle:</strong> Promises of money, prizes, or financial gain cloud judgment and encourage risky behavior.</p>
                    <p><strong>Example:</strong> "Congratulations! You've won $1,000,000 in our lottery. Just pay $500 in processing fees to claim your prize."</p>
                    <p><strong>Defense:</strong> If it sounds too good to be true, it is. No legitimate lottery requires payment to claim prizes.</p>
                </div>

                <div class="principle-card negative">
                    <div class="principle-title">üíé Scarcity & Rarity</div>
                    <p><strong>Principle:</strong> Limited availability or exclusive opportunities trigger impulsive decisions without proper verification.</p>
                    <p><strong>Example:</strong> "Only 3 spots left! This exclusive investment opportunity closes in 1 hour. Act now or miss out forever."</p>
                    <p><strong>Defense:</strong> High-pressure scarcity tactics are manipulation. Legitimate opportunities allow time for research.</p>
                </div>

                <h3>Positive Psychological Triggers</h3>

                <div class="principle-card positive">
                    <div class="principle-title">ü§ù Trust & Relationship Building</div>
                    <p><strong>Principle:</strong> People help those they trust. Attackers build rapport over time to lower defenses.</p>
                    <p><strong>Example:</strong> An attacker sends friendly emails over weeks, sharing industry articles and building rapport before requesting sensitive information.</p>
                    <p><strong>Defense:</strong> Maintain professional boundaries. Trust should be verified through official channels, not personal relationships.</p>
                </div>

                <div class="principle-card positive">
                    <div class="principle-title">üë• Social Proof & Conformity</div>
                    <p><strong>Principle:</strong> People assume actions are correct if others are doing them. Creates false sense of legitimacy.</p>
                    <p><strong>Example:</strong> "All department heads have already completed this security survey. We just need your responses to finish the report."</p>
                    <p><strong>Defense:</strong> Verify independently. Don't assume something is safe because others supposedly participated.</p>
                </div>

                <div class="principle-card positive">
                    <div class="principle-title">‚ù§Ô∏è Helpfulness & Reciprocity</div>
                    <p><strong>Principle:</strong> Human desire to help others and return favors can be exploited for unauthorized access.</p>
                    <p><strong>Example:</strong> "I helped you with that project last month. Could you let me in? I forgot my badge and have an urgent meeting."</p>
                    <p><strong>Defense:</strong> Follow security procedures regardless of personal relationships. Helping someone bypass security helps attackers.</p>
                </div>

                <div class="principle-card positive">
                    <div class="principle-title">üò∞ Fear of Embarrassment</div>
                    <p><strong>Principle:</strong> People avoid looking incompetent or ignorant, even at the expense of security.</p>
                    <p><strong>Example:</strong> "As I mentioned in my previous email (which was never sent), the CEO needs the Q4 financials immediately."</p>
                    <p><strong>Defense:</strong> It's always better to verify than to assume. Asking questions shows diligence, not incompetence.</p>
                </div>
            </div>
        </div>

        <!-- TIMELINE TAB -->
        <div id="timeline" class="tab-content">
            <div class="section">
                <h2>üìä Social Engineering Attack Phases</h2>
                <p>Professional social engineering attacks follow a systematic methodology with distinct phases. Understanding this lifecycle is crucial for both attackers and defenders.</p>

                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>Phase 1: Research & Reconnaissance</h3>
                            <p><strong>Objective:</strong> Gather intelligence about the target organization, individuals, and systems.</p>
                            <p><strong>Activities:</strong></p>
                            <ul>
                                <li>OSINT gathering from social media (LinkedIn, Facebook, Twitter)</li>
                                <li>Company website analysis for org structure and employee names</li>
                                <li>Dumpster diving for physical documents and information</li>
                                <li>Shoulder surfing in public locations (cafes, airports)</li>
                                <li>Technical reconnaissance (DNS, WHOIS, email patterns)</li>
                                <li>Identifying key personnel and relationships</li>
                            </ul>
                            <p><strong>Duration:</strong> Days to weeks for sophisticated attacks</p>
                        </div>
                        <div class="timeline-marker">1</div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>Phase 2: Target Selection</h3>
                            <p><strong>Objective:</strong> Identify the most vulnerable and valuable targets within the organization.</p>
                            <p><strong>Activities:</strong></p>
                            <ul>
                                <li>Analyzing access levels and privileges of potential targets</li>
                                <li>Identifying employees with helpful personalities (help desk, HR)</li>
                                <li>Selecting high-value targets (executives, admins, finance)</li>
                                <li>Assessing security awareness levels of different departments</li>
                                <li>Mapping relationships and trust networks</li>
                                <li>Identifying recent hires or temporary staff (less security-aware)</li>
                            </ul>
                            <p><strong>Key Factor:</strong> Balance between access value and exploitation difficulty</p>
                        </div>
                        <div class="timeline-marker">2</div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>Phase 3: Relationship Development</h3>
                            <p><strong>Objective:</strong> Build trust and establish credibility with the target.</p>
                            <p><strong>Activities:</strong></p>
                            <ul>
                                <li>Creating believable pretexts (IT support, vendor, executive assistant)</li>
                                <li>Initial contact through low-risk communication (email, phone)</li>
                                <li>Demonstrating knowledge of internal processes and terminology</li>
                                <li>Building rapport through shared interests or concerns</li>
                                <li>Gradual escalation of requests to establish trust pattern</li>
                                <li>Using information from earlier phases to appear legitimate</li>
                            </ul>
                            <p><strong>Techniques:</strong> Mirroring, active listening, establishing common ground</p>
                        </div>
                        <div class="timeline-marker">3</div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>Phase 4: Exploitation</h3>
                            <p><strong>Objective:</strong> Execute the attack to achieve the desired outcome (access, information, credentials).</p>
                            <p><strong>Activities:</strong></p>
                            <ul>
                                <li>Requesting sensitive information or access credentials</li>
                                <li>Deploying phishing links or malicious attachments</li>
                                <li>Physical intrusion (tailgating, badge cloning)</li>
                                <li>Manipulating targets to perform unauthorized actions</li>
                                <li>Wire transfer fraud or financial manipulation</li>
                                <li>Installing physical devices (keyloggers, network taps)</li>
                            </ul>
                            <p><strong>Success Factors:</strong> Timing, confidence, and leveraging established trust</p>
                        </div>
                        <div class="timeline-marker">4</div>
                    </div>
                </div>

                <div class="concept-card">
                    <h4>üîÑ The Cycle Repeats</h4>
                    <p>After initial success, attackers often pivot to additional targets, using compromised accounts to appear more legitimate. Each successful exploitation provides new information for future attacks, creating a multiplying effect within the organization.</p>
                </div>
            </div>
        </div>

        <!-- EMAIL ANALYZER TAB -->
        <div id="email" class="tab-content">
            <div class="section">
                <h2>üìß Interactive Phishing Email Analyzer</h2>
                <p>Analyze this suspicious email and click on elements you think are red flags. Then click "Analyze Email" to reveal all the social engineering techniques being used.</p>

                <div class="email-analyzer">
                    <div class="email-header">
From: security-alert@microsfot-verify.com<br>
To: you@yourcompany.com<br>
Subject: URGENT: Your Account Will Be Suspended<br>
Date: Today, 11:47 PM
                    </div>

                    <div class="email-body">
                        <p>Dear Valued Customer,</p>

                        <p>Our security systems have detected <span class="red-flag" data-flag="1">unusual activity</span> on your account. For your protection, <span class="red-flag" data-flag="2">your account will be suspended in 24 hours</span> unless you verify your identity immediately.</p>

                        <p><span class="red-flag" data-flag="3">We take security very seriously</span> and need you to confirm the following information:</p>

                        <ul>
                            <li>Full account username and password</li>
                            <li>Social security number (last 4 digits)</li>
                            <li>Date of birth</li>
                        </ul>

                        <p><span class="red-flag" data-flag="4">Click here to verify your account now</span> ‚Üí <a href="#" style="color: #0066cc;">[Verification Link]</a></p>

                        <p><span class="red-flag" data-flag="5">Failure to comply within 24 hours will result in permanent account deletion</span> and you will lose access to all your files and emails.</p>

                        <p>This is an automated message from our security department. <span class="red-flag" data-flag="6">Do not reply to this email</span>.</p>

                        <p>Sincerely,<br>
                        <span class="red-flag" data-flag="7">Microsoft Security Team</span><br>
                        <span class="red-flag" data-flag="8">Account Verification Department</span></p>
                    </div>

                    <button class="analyze-btn" onclick="analyzeEmail()">üîç Analyze Email - Reveal All Red Flags</button>

                    <div class="flags-found" id="flagsFound">
                        <h3>üö© Red Flags Detected</h3>
                        <div class="flag-item">
                            <strong>1. Spoofed Domain:</strong> Email is from "microsfot-verify.com" (misspelling of Microsoft) - legitimate emails come from @microsoft.com
                        </div>
                        <div class="flag-item">
                            <strong>2. Generic Greeting:</strong> "Dear Valued Customer" instead of your actual name - sign of mass phishing campaign
                        </div>
                        <div class="flag-item">
                            <strong>3. Urgency & Fear:</strong> "Account will be suspended in 24 hours" creates panic to bypass rational thinking
                        </div>
                        <div class="flag-item">
                            <strong>4. Vague Threat:</strong> "Unusual activity" without specifics - legitimate alerts provide detailed information
                        </div>
                        <div class="flag-item">
                            <strong>5. Requests Sensitive Information:</strong> Asking for passwords and SSN - legitimate companies NEVER request this via email
                        </div>
                        <div class="flag-item">
                            <strong>6. Suspicious Link:</strong> Hover reveals the link doesn't go to microsoft.com - always verify link destinations
                        </div>
                        <div class="flag-item">
                            <strong>7. Extreme Consequences:</strong> "Permanent account deletion" - excessive threat to force immediate action
                        </div>
                        <div class="flag-item">
                            <strong>8. No Reply Prevention:</strong> "Do not reply" prevents you from verifying through normal channels
                        </div>
                        <div class="flag-item">
                            <strong>9. Poor Grammar:</strong> Several grammatical errors and awkward phrasing throughout
                        </div>
                        <div class="flag-item">
                            <strong>10. Sent at Odd Time:</strong> 11:47 PM is unusual for legitimate business communication
                        </div>
                    </div>
                </div>

                <h3>Key Phishing Indicators</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>üîó Suspicious Links</h4>
                        <p>Hover before clicking. Look for misspelled domains, unusual TLDs (.tk, .ml), or IP addresses. Legitimate companies use their official domains.</p>
                    </div>
                    <div class="concept-card">
                        <h4>‚ö° Artificial Urgency</h4>
                        <p>Legitimate organizations don't threaten account deletion or create artificial deadlines. Take time to verify through official channels.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üîê Requests for Credentials</h4>
                        <p>No legitimate company will ever ask for passwords, PINs, or full SSN via email. These are always phishing attempts.</p>
                    </div>
                    <div class="concept-card">
                        <h4>üìß Sender Verification</h4>
                        <p>Check the full email address, not just the display name. Attackers often use similar-looking domains (microsoft-verify.com vs microsoft.com).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ATTACK TYPES TAB -->
        <div id="attacks" class="tab-content">
            <div class="section">
                <h2>‚öîÔ∏è Social Engineering Attack Types</h2>
                <p>Social engineering attacks can be categorized into human-based, computer-based, and mobile-based techniques. Click each attack type to learn more.</p>

                <h3>Human-Based Attacks</h3>
                <div class="attack-type-grid">
                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Piggybacking</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Following authorized personnel through secured doors</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Attacker follows an authorized person through a secure door without using their own credentials. Often combined with carrying boxes or appearing distracted to avoid suspicion.</p>
                            <p><strong>Example:</strong> Carrying coffee and files while following an employee, asking them to "hold the door."</p>
                            <p><strong>Defense:</strong> Challenge unknown individuals, never hold doors for strangers, use mantrap entrances, require badge visibility.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Tailgating</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Closely following authorized personnel without their knowledge</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Unlike piggybacking, the authorized person is unaware they're being followed. Attacker times their entry to slip through closing security doors.</p>
                            <p><strong>Example:</strong> Waiting near a secure entrance and rushing through as someone exits, pretending to be on a phone call.</p>
                            <p><strong>Defense:</strong> Security cameras monitoring entry points, turnstiles, security guards, awareness training about closing doors fully.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Dumpster Diving</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Searching trash for sensitive information</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Physically searching through garbage bins and dumpsters for discarded documents, post-it notes, hard drives, or other information-bearing materials.</p>
                            <p><strong>Target Data:</strong> Financial records, network diagrams, password lists, employee directories, customer data, strategic documents.</p>
                            <p><strong>Defense:</strong> Cross-cut shredding all documents, locked dumpster areas, hard drive destruction policies, clean desk policies.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Vishing (Voice Phishing)</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Phone-based social engineering attacks</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Using phone calls to trick victims into revealing sensitive information or performing actions. Often uses caller ID spoofing to appear legitimate.</p>
                            <p><strong>Example:</strong> "This is IT support. We're having server issues and need to verify your password to restore your access."</p>
                            <p><strong>Defense:</strong> Callback verification procedures, never provide credentials over phone, establish code words for verification.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Impersonation</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Pretending to be someone else to gain trust</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Posing as IT staff, executives, vendors, repair technicians, or other trusted roles to gain physical or logical access.</p>
                            <p><strong>Common Personas:</strong> IT support, delivery person, fire inspector, cleaning crew, consultant, new employee.</p>
                            <p><strong>Defense:</strong> Badge verification systems, visitor logs, escort requirements, background checks for vendors.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Shoulder Surfing</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Observing information entry from nearby</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Directly observing sensitive information as it's being entered, viewed, or discussed. Can use cameras, binoculars, or simply standing close.</p>
                            <p><strong>Target Locations:</strong> ATMs, airport lounges, cafes, public transportation, shared workspaces.</p>
                            <p><strong>Defense:</strong> Privacy screens, awareness of surroundings when handling sensitive data, password masking, physical barriers.</p>
                        </div>
                    </div>
                </div>

                <h3>Computer-Based Attacks</h3>
                <div class="attack-type-grid">
                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Phishing</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Mass email campaigns impersonating legitimate organizations</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Sending fraudulent emails to large numbers of targets, pretending to be from banks, tech companies, or government agencies.</p>
                            <p><strong>Goal:</strong> Steal credentials, install malware, harvest personal information, or initiate fraudulent transactions.</p>
                            <p><strong>Indicators:</strong> Generic greetings, spoofed sender addresses, urgent language, suspicious links, requests for sensitive data.</p>
                            <p><strong>Defense:</strong> Email filtering, SPF/DKIM/DMARC, user awareness training, multi-factor authentication.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Spear Phishing</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Targeted phishing against specific individuals or organizations</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Highly personalized emails using researched information about the target (name, position, projects, relationships) to appear legitimate.</p>
                            <p><strong>Research Sources:</strong> LinkedIn, company websites, social media, previous data breaches, professional publications.</p>
                            <p><strong>Example:</strong> "Hi Sarah, I saw your presentation at the security conference last week. Here's the whitepaper I mentioned: [malicious link]"</p>
                            <p><strong>Defense:</strong> More difficult to detect. Requires verification of unexpected requests even from known senders, digital signatures.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Whaling</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Spear phishing targeting high-level executives</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Sophisticated attacks against C-level executives, board members, or other high-value targets with access to sensitive data or financial controls.</p>
                            <p><strong>Common Scenarios:</strong> Fake subpoenas, executive-level business proposals, merger/acquisition communications, board meeting materials.</p>
                            <p><strong>Impact:</strong> Wire transfer fraud, strategic data theft, compromised business decisions, reputational damage.</p>
                            <p><strong>Defense:</strong> Executive security awareness training, out-of-band verification for financial requests, limited public information exposure.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Spam</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Unsolicited bulk messages containing malicious content</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Mass distribution of unwanted emails containing advertisements, scams, or malware. Often used to distribute ransomware or build botnets.</p>
                            <p><strong>Variations:</strong> Lottery scams, fake product offers, "Nigerian prince" advance-fee fraud, work-from-home scams.</p>
                            <p><strong>Defense:</strong> Spam filters, blacklists, never respond to spam (confirms active email), report to email provider.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Spimming</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Spam via instant messaging platforms</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Sending unsolicited messages through IM platforms (Slack, Teams, Discord, WhatsApp) containing malicious links or social engineering attempts.</p>
                            <p><strong>Why Effective:</strong> People trust IM more than email, less filtering, faster response expected, appears more personal.</p>
                            <p><strong>Defense:</strong> Restrict external IM contacts, verify unexpected links before clicking, report suspicious messages.</p>
                        </div>
                    </div>
                </div>

                <h3>Mobile-Based Attacks</h3>
                <div class="attack-type-grid">
                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">SMiShing (SMS Phishing)</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Phishing attacks via text messages</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Sending fraudulent SMS messages that appear to be from banks, delivery services, government agencies, or tech companies.</p>
                            <p><strong>Example:</strong> "Your package couldn't be delivered. Confirm your address: [malicious link]" or "Your bank account has been locked. Verify here: [link]"</p>
                            <p><strong>Why Effective:</strong> High open rates (98% vs 20% for email), mobile users less cautious, limited URL preview on phones.</p>
                            <p><strong>Defense:</strong> Never click links in unsolicited texts, verify through official apps, report suspicious texts to carrier.</p>
                        </div>
                    </div>

                    <div class="attack-card" onclick="toggleAttack(this)">
                        <div class="attack-header">
                            <span class="attack-name">Fake Mobile Apps</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <p>Malicious apps impersonating legitimate software</p>
                        <div class="attack-details">
                            <p><strong>Technique:</strong> Creating fake apps that mimic popular banking, cryptocurrency, or utility apps to steal credentials and financial information.</p>
                            <p><strong>Distribution:</strong> Third-party app stores, phishing links, social media ads, occasionally slip through official store review processes.</p>
                            <p><strong>Indicators:</strong> Misspelled names, poor reviews, excessive permissions, unknown developer, low download count.</p>
                            <p><strong>Defense:</strong> Only download from official stores, verify developer, check permissions, read reviews carefully, use mobile security software.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CHALLENGE TAB -->
        <div id="challenge" class="tab-content">
            <div class="section">
                <h2>üéØ Spot the Scam Challenge</h2>
                <p>Test your ability to identify social engineering attacks in realistic scenarios. Analyze each situation and choose the correct response.</p>

                <div class="scam-challenge">
                    <div class="scenario-card">
                        <h3>Scenario 1: The Urgent Executive Request</h3>
                        <div class="scenario-text">
                            You receive an email from your CEO's address at 6:30 PM: "I'm in a critical negotiation and need you to wire $45,000 to this account immediately for the deal to go through. I'm in meetings all evening so just confirm once it's sent. This is time-sensitive." The email signature matches the CEO's usual format.
                        </div>
                        <div class="choice-grid">
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario1', false)">
                                A) Wire the money immediately - the CEO needs it urgently
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario1', false)">
                                B) Reply to the email asking for more details about the negotiation
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario1', true)">
                                C) Call the CEO directly on their known phone number to verify the request
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario1', false)">
                                D) Forward to your supervisor and ask what to do
                            </div>
                        </div>
                        <div class="feedback" id="scenario1-feedback"></div>
                    </div>

                    <div class="scenario-card">
                        <h3>Scenario 2: The Helpful IT Support</h3>
                        <div class="scenario-text">
                            Someone calls claiming to be from IT support: "We're rolling out a security update and need to verify your credentials. What's your username and password? This will only take a minute and ensures your account stays protected." They know your name and department.
                        </div>
                        <div class="choice-grid">
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario2', false)">
                                A) Provide the information - they seem legitimate
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario2', true)">
                                B) Refuse and contact IT through official channels to verify
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario2', false)">
                                C) Give your username but not password
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario2', false)">
                                D) Ask for their employee ID number before complying
                            </div>
                        </div>
                        <div class="feedback" id="scenario2-feedback"></div>
                    </div>

                    <div class="scenario-card">
                        <h3>Scenario 3: The Tailgating Delivery Person</h3>
                        <div class="scenario-text">
                            You're entering your secure office building when someone carrying boxes with a delivery company logo approaches: "Hey, can you hold the door? I've got a delivery for the 3rd floor but my hands are full." You don't recognize them and they're not wearing a visitor badge.
                        </div>
                        <div class="choice-grid">
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario3', false)">
                                A) Hold the door - they're just doing their job
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario3', false)">
                                B) Take the packages and deliver them yourself
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario3', true)">
                                C) Direct them to the reception desk for proper check-in
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario3', false)">
                                D) Let them in but escort them to the 3rd floor
                            </div>
                        </div>
                        <div class="feedback" id="scenario3-feedback"></div>
                    </div>

                    <div class="scenario-card">
                        <h3>Scenario 4: The LinkedIn Connection</h3>
                        <div class="scenario-text">
                            You receive a LinkedIn message from someone claiming to be a recruiter at a major tech company: "I saw your profile and think you'd be perfect for a senior position. Salary range $180K-$220K. Fill out this quick form with your current employment details and we'll schedule an interview." The profile looks legitimate with 500+ connections.
                        </div>
                        <div class="choice-grid">
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario4', false)">
                                A) Fill out the form immediately - it's a great opportunity
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario4', true)">
                                B) Research the recruiter on the company's official site and contact them directly
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario4', false)">
                                C) Ask for more details about the position first
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario4', false)">
                                D) Share your resume and wait for their response
                            </div>
                        </div>
                        <div class="feedback" id="scenario4-feedback"></div>
                    </div>

                    <div class="scenario-card">
                        <h3>Scenario 5: The USB Drive in Parking Lot</h3>
                        <div class="scenario-text">
                            You find a USB drive in the company parking lot labeled "Executive Salary Data Q4 2024 - CONFIDENTIAL". You're curious about what's on it and whether it belongs to someone in your organization.
                        </div>
                        <div class="choice-grid">
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario5', false)">
                                A) Plug it into your work computer to see who it belongs to
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario5', false)">
                                B) Plug it into your personal computer at home instead
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario5', true)">
                                C) Turn it over to IT or security without plugging it in
                            </div>
                            <div class="choice-btn" onclick="checkChoice(this, 'scenario5', false)">
                                D) Post about it on internal company Slack to find the owner
                            </div>
                        </div>
                        <div class="feedback" id="scenario5-feedback"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TOOLS TAB -->
        <div id="tools" class="tab-content">
            <div class="section">
                <h2>üõ†Ô∏è Social Engineering Tools</h2>
                <p>Professional tools used by penetration testers and attackers to conduct social engineering campaigns. These tools are for authorized security testing only.</p>

                <div class="tool-grid">
                    <div class="tool-card">
                        <div class="tool-name">Social Engineering Toolkit (SET)</div>
                        <div class="tool-description">
                            Comprehensive framework by TrustedSec for social engineering penetration testing. Includes phishing, credential harvesting, infectious media, and payload delivery capabilities.
                        </div>
                        <div class="tool-use">
                            <strong>Key Features:</strong><br>
                            ‚Ä¢ Spear-phishing attack vectors<br>
                            ‚Ä¢ Website cloning for credential harvesting<br>
                            ‚Ä¢ Infectious media generator<br>
                            ‚Ä¢ Mass mailer with template support<br>
                            ‚Ä¢ Arduino-based attacks<br>
                            ‚Ä¢ SMS spoofing module
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">ShellPhish</div>
                        <div class="tool-description">
                            Automated phishing tool that creates fake login pages for 30+ popular services including social media, email, and banking platforms.
                        </div>
                        <div class="tool-use">
                            <strong>Usage:</strong><br>
                            git clone https://github.com/suljot_gjoka/shellphish<br>
                            cd shellphish<br>
                            bash shellphish.sh<br><br>
                            <strong>Targets:</strong> Facebook, Instagram, Google, Microsoft, PayPal, Twitter, Netflix, LinkedIn
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">King Phisher</div>
                        <div class="tool-description">
                            Professional phishing campaign toolkit with campaign management, email templates, and detailed analytics. Ideal for corporate security awareness training.
                        </div>
                        <div class="tool-use">
                            <strong>Features:</strong><br>
                            ‚Ä¢ Campaign tracking and analytics<br>
                            ‚Ä¢ Email template customization<br>
                            ‚Ä¢ Credential harvesting<br>
                            ‚Ä¢ Visit tracking and geolocation<br>
                            ‚Ä¢ Training mode for awareness programs<br>
                            ‚Ä¢ Export reports in multiple formats
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">GoPhish</div>
                        <div class="tool-description">
                            Open-source phishing framework with web-based interface for launching and tracking phishing campaigns. Widely used by security teams for employee testing.
                        </div>
                        <div class="tool-use">
                            <strong>Capabilities:</strong><br>
                            ‚Ä¢ Email template designer<br>
                            ‚Ä¢ Landing page cloner<br>
                            ‚Ä¢ Real-time campaign monitoring<br>
                            ‚Ä¢ Scheduled sending<br>
                            ‚Ä¢ Detailed reporting dashboard<br>
                            ‚Ä¢ CSV import for target lists
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">Evilginx2</div>
                        <div class="tool-description">
                            Advanced man-in-the-middle phishing framework that can bypass 2FA by intercepting session cookies. Operates as a reverse proxy between target and legitimate website.
                        </div>
                        <div class="tool-use">
                            <strong>Advanced Features:</strong><br>
                            ‚Ä¢ Transparent proxy to real sites<br>
                            ‚Ä¢ Session cookie capture<br>
                            ‚Ä¢ 2FA bypass capability<br>
                            ‚Ä¢ Real-time interaction monitoring<br>
                            ‚Ä¢ Custom phishlet creation
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">Modlishka</div>
                        <div class="tool-description">
                            Reverse proxy tool for phishing attacks with automatic credential and session capture. Supports all web-based authentication schemes including OAuth.
                        </div>
                        <div class="tool-use">
                            <strong>Highlights:</strong><br>
                            ‚Ä¢ Fully automatic operation<br>
                            ‚Ä¢ Zero JavaScript injection<br>
                            ‚Ä¢ Certificate pinning bypass<br>
                            ‚Ä¢ Session hijacking<br>
                            ‚Ä¢ Plugin architecture
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">BeEF (Browser Exploitation Framework)</div>
                        <div class="tool-description">
                            Penetration testing tool focusing on web browser exploitation. Once a browser is hooked, it can be used as a beachhead for further attacks.
                        </div>
                        <div class="tool-use">
                            <strong>Attack Vectors:</strong><br>
                            ‚Ä¢ Browser hooking via XSS<br>
                            ‚Ä¢ Social engineering modules<br>
                            ‚Ä¢ Network reconnaissance<br>
                            ‚Ä¢ Phishing page injection<br>
                            ‚Ä¢ Keylogging and form grabbing
                        </div>
                    </div>

                    <div class="tool-card">
                        <div class="tool-name">CredSniper</div>
                        <div class="tool-description">
                            Credential harvesting tool with 2FA support. Creates phishing pages that mimic login portals and captures credentials plus 2FA codes.
                        </div>
                        <div class="tool-use">
                            <strong>Installation:</strong><br>
                            git clone https://github.com/ustayready/CredSniper<br>
                            cd CredSniper<br>
                            python3 credsniper.py --twofactor<br><br>
                            Captures username, password, and 2FA tokens
                        </div>
                    </div>
                </div>

                <div class="concept-card" style="margin-top: 30px;">
                    <h4>‚ö†Ô∏è Legal and Ethical Considerations</h4>
                    <p><strong>CRITICAL WARNING:</strong> Using these tools against targets without explicit written authorization is illegal and constitutes computer fraud and wire fraud under federal law (Computer Fraud and Abuse Act, 18 U.S.C. ¬ß 1030).</p>
                    <p><strong>Legitimate Use Cases:</strong></p>
                    <ul>
                        <li>Authorized penetration testing with signed contracts and scope agreements</li>
                        <li>Corporate security awareness training programs</li>
                        <li>Red team exercises with management approval</li>
                        <li>Educational research in controlled lab environments</li>
                    </ul>
                    <p><strong>Required Documentation:</strong> Rules of Engagement (ROE), signed authorization letters, defined scope, emergency contact procedures, and legal review.</p>
                </div>
            </div>
        </div>

        <!-- DEFENSES TAB -->
        <div id="defenses" class="tab-content">
            <div class="section">
                <h2>üõ°Ô∏è Social Engineering Defenses</h2>
                <p>Defending against social engineering requires a combination of technical controls, policies, training, and organizational culture focused on security awareness.</p>

                <h3>Primary Defense Strategies</h3>
                <div class="defense-grid">
                    <div class="defense-card">
                        <div class="defense-title">üéì Security Awareness Training</div>
                        <p><strong>Implementation:</strong> Regular, mandatory training for all employees covering current attack techniques, real-world examples, and reporting procedures.</p>
                        <p><strong>Best Practices:</strong></p>
                        <ul>
                            <li>Quarterly training sessions with updated content</li>
                            <li>Role-specific training (executives, IT staff, finance)</li>
                            <li>Interactive scenarios and gamification</li>
                            <li>Phishing simulation campaigns</li>
                            <li>Metrics tracking and improvement goals</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üîê Strong Password Policies</div>
                        <p><strong>Requirements:</strong> Enforce complex passwords that resist guessing and social engineering attempts.</p>
                        <p><strong>Policy Elements:</strong></p>
                        <ul>
                            <li>Minimum 12-14 characters with complexity requirements</li>
                            <li>Password managers for secure storage</li>
                            <li>No password sharing or writing passwords down</li>
                            <li>Different passwords for different systems</li>
                            <li>Regular password audits against breach databases</li>
                            <li>Account lockout after failed attempts</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üî¢ Multi-Factor Authentication (MFA)</div>
                        <p><strong>Critical Control:</strong> Even if credentials are compromised, MFA prevents unauthorized access.</p>
                        <p><strong>Implementation Strategy:</strong></p>
                        <ul>
                            <li>Mandatory for all remote access and privileged accounts</li>
                            <li>Hardware tokens or authenticator apps (avoid SMS)</li>
                            <li>Phishing-resistant MFA (FIDO2, WebAuthn)</li>
                            <li>Risk-based adaptive authentication</li>
                            <li>Backup authentication methods</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üéØ Simulated Phishing Tests</div>
                        <p><strong>Purpose:</strong> Measure and improve employee response to phishing attacks through safe, controlled testing.</p>
                        <p><strong>Program Design:</strong></p>
                        <ul>
                            <li>Monthly or quarterly phishing simulations</li>
                            <li>Varied attack types (general phishing, spear phishing)</li>
                            <li>Immediate training for users who click</li>
                            <li>Track metrics: click rate, reporting rate, improvement</li>
                            <li>Non-punitive approach focused on education</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üìß Email Security Controls</div>
                        <p><strong>Technical Defenses:</strong> Implement email security technologies to filter malicious messages.</p>
                        <p><strong>Technologies:</strong></p>
                        <ul>
                            <li>SPF, DKIM, and DMARC authentication</li>
                            <li>Advanced spam and phishing filters</li>
                            <li>Link sandboxing and URL rewriting</li>
                            <li>Attachment sandboxing and detonation</li>
                            <li>External email warnings/banners</li>
                            <li>Email encryption for sensitive data</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">‚úÖ Verification Procedures</div>
                        <p><strong>Policy:</strong> Establish and enforce verification protocols for sensitive requests.</p>
                        <p><strong>Key Procedures:</strong></p>
                        <ul>
                            <li>Out-of-band verification for financial transactions</li>
                            <li>Callback verification for credential requests</li>
                            <li>Dual authorization for wire transfers</li>
                            <li>Identity verification for password resets</li>
                            <li>Visitor check-in and escort requirements</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üö™ Physical Security Controls</div>
                        <p><strong>Objective:</strong> Prevent unauthorized physical access that enables social engineering.</p>
                        <p><strong>Controls:</strong></p>
                        <ul>
                            <li>Badge access systems with photo IDs</li>
                            <li>Mantrap entrances and turnstiles</li>
                            <li>Security cameras and monitoring</li>
                            <li>Visitor management systems</li>
                            <li>Clean desk and clear screen policies</li>
                            <li>Secure disposal (shredding, drive destruction)</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üì± Mobile Security Policies</div>
                        <p><strong>Focus:</strong> Protect against mobile-specific social engineering attacks.</p>
                        <p><strong>Policies:</strong></p>
                        <ul>
                            <li>Mobile device management (MDM) solutions</li>
                            <li>App whitelisting/blacklisting</li>
                            <li>Prohibition of third-party app stores</li>
                            <li>Mobile anti-malware software</li>
                            <li>Remote wipe capabilities</li>
                            <li>Training on SMiShing recognition</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üìû Help Desk Security</div>
                        <p><strong>Critical Area:</strong> Help desks are prime social engineering targets requiring strict protocols.</p>
                        <p><strong>Protocols:</strong></p>
                        <ul>
                            <li>Strict identity verification before password resets</li>
                            <li>Challenge questions with non-public answers</li>
                            <li>Logging all support interactions</li>
                            <li>Escalation procedures for suspicious requests</li>
                            <li>Never provide system information to unverified callers</li>
                        </ul>
                    </div>

                    <div class="defense-card">
                        <div class="defense-title">üéØ Incident Response Plan</div>
                        <p><strong>Preparation:</strong> Have procedures for responding to successful social engineering attacks.</p>
                        <p><strong>Plan Components:</strong></p>
                        <ul>
                            <li>Clear reporting channels for suspicious activity</li>
                            <li>Immediate response procedures</li>
                            <li>Credential reset processes</li>
                            <li>Forensic analysis capabilities</li>
                            <li>Communication plans (internal/external)</li>
                            <li>Post-incident review and improvement</li>
                        </ul>
                    </div>
                </div>

                <h3>Building a Security-Aware Culture</h3>
                <div class="concept-card">
                    <h4>üèõÔ∏è Organizational Culture is the Ultimate Defense</h4>
                    <p>Technology and policies are important, but security culture determines real-world effectiveness:</p>
                    <ul>
                        <li><strong>Leadership Buy-in:</strong> Executives must model security-conscious behavior</li>
                        <li><strong>Positive Reinforcement:</strong> Reward employees who report suspicious activity</li>
                        <li><strong>Non-Punitive Reporting:</strong> Employees should feel safe reporting mistakes</li>
                        <li><strong>Continuous Communication:</strong> Regular security updates and reminders</li>
                        <li><strong>Shared Responsibility:</strong> Security is everyone's job, not just IT</li>
                        <li><strong>Real-World Examples:</strong> Share actual incidents (anonymized) to maintain awareness</li>
                    </ul>
                </div>

                <div class="concept-card">
                    <h4>üéì Red Flags to Teach Employees</h4>
                    <p>Train staff to recognize these universal social engineering indicators:</p>
                    <ul>
                        <li>Requests for credentials, passwords, or sensitive data</li>
                        <li>Artificial urgency or time pressure</li>
                        <li>Threats of negative consequences</li>
                        <li>Requests to bypass normal procedures</li>
                        <li>Unsolicited communications about security issues</li>
                        <li>Generic greetings in supposedly personal messages</li>
                        <li>Mismatched or suspicious sender addresses</li>
                        <li>Requests to keep something secret or not verify</li>
                        <li>Too-good-to-be-true offers or opportunities</li>
                        <li>Emotional manipulation (fear, greed, curiosity)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- QUIZ TAB -->
        <div id="quiz" class="tab-content">
            <div class="section">
                <h2>üìù Final Assessment Quiz</h2>
                <p>Test your knowledge of social engineering concepts, techniques, and defenses. Complete all questions to earn 75 XP.</p>

                <div class="quiz-container">
                    <div id="quizQuestions">
                        <!-- Questions will be inserted here -->
                    </div>

                    <div class="quiz-results" id="quizResults">
                        <h3>Quiz Complete!</h3>
                        <div class="score-display" id="scoreDisplay">0%</div>
                        <p id="scoreMessage"></p>
                        <button class="quiz-btn" onclick="resetQuiz()">Retake Quiz</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-buttons">
            <a href="../index.html" class="nav-btn">‚Üê Back to Dark Arts Vault</a>
            <a href="../index.html" class="nav-btn">View All Labs ‚Üí</a>
        </div>
    </div>

    <script>
        // Progress tracking
        let completedSections = new Set();
        const totalSections = 9;

        function updateProgress() {
            const progress = (completedSections.size / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            if (completedSections.size === totalSections) {
                localStorage.setItem('se-advanced-complete', 'true');
            }
        }

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');

            completedSections.add(tabName);
            updateProgress();
        }

        // Email analyzer
        let redFlags = new Set();

        document.querySelectorAll('.red-flag').forEach(flag => {
            flag.addEventListener('click', function() {
                this.classList.add('revealed');
                redFlags.add(this.dataset.flag);
            });
        });

        function analyzeEmail() {
            document.querySelectorAll('.red-flag').forEach(flag => {
                flag.classList.add('revealed');
            });
            document.getElementById('flagsFound').classList.add('visible');
            completedSections.add('email-analyzer');
            updateProgress();
        }

        // Attack card expansion
        function toggleAttack(card) {
            card.classList.toggle('expanded');
        }

        // Spot the Scam Challenge
        const scenarioFeedback = {
            scenario1: {
                correct: "Correct! Always verify financial requests through direct communication using known contact information, never by replying to the email. Email accounts can be compromised or spoofed. This is a classic CEO fraud/whaling attack using urgency and authority.",
                incorrect: "Incorrect. This is a CEO fraud attack. Never process financial transactions based solely on email requests, even if they appear to come from executives. Always verify through a phone call to a known number or in-person confirmation."
            },
            scenario2: {
                correct: "Correct! Legitimate IT departments never ask for passwords. This is a classic vishing attack. Always contact IT through official channels (internal directory, ticketing system) to verify any requests for credentials or system access.",
                incorrect: "Incorrect. No legitimate IT support will ever ask for your password. This is a vishing (voice phishing) attack. Real IT can reset passwords without knowing your current one. Hang up and contact IT through official channels."
            },
            scenario3: {
                correct: "Correct! All visitors must check in through reception for proper verification and visitor badge issuance. This prevents tailgating attacks. Never allow strangers into secure areas, regardless of how legitimate they appear or how helpful you want to be.",
                incorrect: "Incorrect. This is a tailgating/piggybacking attack. Never hold doors for unauthorized individuals, even if they're carrying packages. All deliveries should go through reception for proper check-in and verification."
            },
            scenario4: {
                correct: "Correct! Verify recruitment legitimacy through official company channels. Scammers create fake recruiter profiles to harvest employment data, credentials, and personal information. Never provide sensitive information through unofficial channels.",
                incorrect: "Incorrect. This could be a social engineering attack to harvest personal and employment information. Legitimate recruiters can be contacted through official company websites. Verify independently before sharing any information."
            },
            scenario5: {
                correct: "Correct! USB drops are a classic social engineering attack vector. The drive could contain malware that automatically executes when plugged in (BadUSB attack). Always report found media to IT/security without connecting it to any system.",
                incorrect: "Incorrect. This is a USB drop attack. The drive likely contains malware that auto-executes when connected. Never plug unknown USB devices into any computer (work or personal). Report it to IT/security immediately."
            }
        };

        function checkChoice(button, scenario, isCorrect) {
            const choices = button.parentElement.querySelectorAll('.choice-btn');
            choices.forEach(btn => btn.classList.add('disabled'));

            const feedback = document.getElementById(scenario + '-feedback');

            if (isCorrect) {
                button.classList.add('correct');
                feedback.className = 'feedback visible correct';
                feedback.innerHTML = '<strong>‚úì Correct!</strong><br>' + scenarioFeedback[scenario].correct;
            } else {
                button.classList.add('incorrect');
                feedback.className = 'feedback visible incorrect';
                feedback.innerHTML = '<strong>‚úó Incorrect.</strong><br>' + scenarioFeedback[scenario].incorrect;

                // Highlight the correct answer
                choices.forEach(btn => {
                    if (btn.onclick.toString().includes('true')) {
                        btn.classList.add('correct');
                    }
                });
            }

            completedSections.add('challenge');
            updateProgress();
        }

        // Quiz functionality
        const quizQuestions = [
            {
                question: "What is the primary objective of social engineering?",
                options: [
                    "Exploiting software vulnerabilities",
                    "Manipulating people to divulge information or perform actions that compromise security",
                    "Breaking encryption algorithms",
                    "Conducting network reconnaissance"
                ],
                correct: 1
            },
            {
                question: "Which psychological principle involves people deferring to authority figures without questioning their requests?",
                options: [
                    "Scarcity",
                    "Social proof",
                    "Authority",
                    "Reciprocity"
                ],
                correct: 2
            },
            {
                question: "In the social engineering attack lifecycle, what is the first phase?",
                options: [
                    "Exploitation",
                    "Relationship development",
                    "Target selection",
                    "Research and reconnaissance"
                ],
                correct: 3
            },
            {
                question: "What is the difference between piggybacking and tailgating?",
                options: [
                    "There is no difference - they are the same technique",
                    "Piggybacking involves the authorized person's knowledge; tailgating does not",
                    "Tailgating is done during daytime; piggybacking at night",
                    "Piggybacking is physical; tailgating is digital"
                ],
                correct: 1
            },
            {
                question: "What type of attack specifically targets high-level executives and C-suite personnel?",
                options: [
                    "Phishing",
                    "Spear phishing",
                    "Whaling",
                    "Vishing"
                ],
                correct: 2
            },
            {
                question: "Which tool is a comprehensive framework by TrustedSec for social engineering penetration testing?",
                options: [
                    "GoPhish",
                    "King Phisher",
                    "Social Engineering Toolkit (SET)",
                    "ShellPhish"
                ],
                correct: 2
            },
            {
                question: "What does SMiShing stand for?",
                options: [
                    "Social Media Phishing",
                    "SMS Phishing",
                    "Small Business Phishing",
                    "Smart Phone Fishing"
                ],
                correct: 1
            },
            {
                question: "Which defense is considered critical because it prevents unauthorized access even when credentials are compromised?",
                options: [
                    "Strong password policies",
                    "Email filtering",
                    "Multi-factor authentication (MFA)",
                    "Security awareness training"
                ],
                correct: 2
            },
            {
                question: "What is the primary purpose of simulated phishing tests in an organization?",
                options: [
                    "To punish employees who fall for phishing attacks",
                    "To identify and fire security-unaware employees",
                    "To measure and improve employee response through safe, controlled testing",
                    "To collect employee credentials for security auditing"
                ],
                correct: 2
            },
            {
                question: "Which of the following is NOT a red flag in a potential phishing email?",
                options: [
                    "Generic greetings like 'Dear Customer'",
                    "Urgent requests with tight deadlines",
                    "Personalized subject line with your name",
                    "Requests for password or credential verification"
                ],
                correct: 2
            }
        ];

        let currentQuestion = 0;
        let answers = [];

        function initQuiz() {
            const container = document.getElementById('quizQuestions');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card' + (index === 0 ? ' active' : '');
                questionCard.innerHTML = `
                    <div class="question-number">Question ${index + 1} of ${quizQuestions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="quiz-options">
                        ${q.options.map((opt, i) => `
                            <div class="quiz-option" onclick="selectAnswer(${index}, ${i})">${opt}</div>
                        `).join('')}
                    </div>
                    <div class="quiz-nav">
                        <button class="quiz-btn" onclick="prevQuestion()" ${index === 0 ? 'style="visibility:hidden"' : ''}>‚Üê Previous</button>
                        <button class="quiz-btn" onclick="nextQuestion()" id="nextBtn${index}">
                            ${index === quizQuestions.length - 1 ? 'Submit Quiz' : 'Next ‚Üí'}
                        </button>
                    </div>
                `;
                container.appendChild(questionCard);
            });
        }

        function selectAnswer(questionIndex, optionIndex) {
            answers[questionIndex] = optionIndex;

            const questionCard = document.querySelectorAll('.question-card')[questionIndex];
            const options = questionCard.querySelectorAll('.quiz-option');

            options.forEach((opt, i) => {
                opt.classList.remove('selected');
                if (i === optionIndex) {
                    opt.classList.add('selected');
                }
            });
        }

        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                document.querySelectorAll('.question-card')[currentQuestion].classList.remove('active');
                currentQuestion++;
                document.querySelectorAll('.question-card')[currentQuestion].classList.add('active');
            } else {
                submitQuiz();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                document.querySelectorAll('.question-card')[currentQuestion].classList.remove('active');
                currentQuestion--;
                document.querySelectorAll('.question-card')[currentQuestion].classList.add('active');
            }
        }

        function submitQuiz() {
            let correct = 0;
            quizQuestions.forEach((q, i) => {
                if (answers[i] === q.correct) correct++;
            });

            const percentage = Math.round((correct / quizQuestions.length) * 100);

            document.getElementById('quizQuestions').style.display = 'none';
            document.getElementById('quizResults').classList.add('visible');
            document.getElementById('scoreDisplay').textContent = percentage + '%';

            let message = '';
            if (percentage === 100) {
                message = 'üéâ Perfect score! You have mastered social engineering concepts. 75 XP awarded!';
                completedSections.add('quiz');
                updateProgress();
            } else if (percentage >= 80) {
                message = '‚úÖ Excellent work! You have a strong understanding of social engineering. 75 XP awarded!';
                completedSections.add('quiz');
                updateProgress();
            } else if (percentage >= 70) {
                message = 'üëç Good job! You understand most concepts. Review the materials and try again for full credit.';
            } else {
                message = 'üìö Keep studying! Review the lab materials and retake the quiz to improve your score.';
            }

            document.getElementById('scoreMessage').textContent = message;
        }

        function resetQuiz() {
            currentQuestion = 0;
            answers = [];
            document.getElementById('quizResults').classList.remove('visible');
            document.getElementById('quizQuestions').style.display = 'block';
            initQuiz();
        }

        // Initialize quiz on page load
        initQuiz();

        // Check if lab was previously completed
        if (localStorage.getItem('se-advanced-complete') === 'true') {
            completedSections = new Set(['fundamentals', 'psychology', 'timeline', 'email', 'attacks', 'challenge', 'tools', 'defenses', 'quiz']);
            updateProgress();
        }
    </script>
<script src="../../components/FluxCapacitor.js"></script>
</body>
</html>