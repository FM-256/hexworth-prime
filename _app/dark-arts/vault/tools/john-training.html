<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>John the Ripper Training Lab - Dark Arts Vault | Hexworth Prime</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a0a1a 0%, #2d0a2d 100%);
            min-height: 100vh;
            padding: 20px;
            color: #e0e0e0;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(26, 10, 26, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .header {
            background: linear-gradient(135deg, #7c3aed 0%, #dc2626 100%);
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #a855f7;
        }

        .header h1 {
            color: #ffffff;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            color: #fecaca;
            font-size: 1.1em;
        }

        .back-link {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 0;
            min-height: calc(100vh - 200px);
        }

        .workspace {
            display: flex;
            flex-direction: column;
            border-right: 2px solid rgba(168, 85, 247, 0.3);
        }

        .tab-container {
            display: flex;
            background: rgba(26, 10, 26, 0.9);
            border-bottom: 2px solid rgba(168, 85, 247, 0.3);
            padding: 10px 20px 0;
            gap: 5px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 20px;
            background: rgba(124, 58, 237, 0.3);
            color: #a855f7;
            border: none;
            cursor: pointer;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
            font-size: 0.95em;
            font-weight: 500;
            border: 2px solid transparent;
            border-bottom: none;
        }

        .tab:hover {
            background: rgba(168, 85, 247, 0.3);
            color: #e0e0e0;
        }

        .tab.active {
            background: rgba(124, 58, 237, 0.6);
            color: #ffffff;
            border-color: #a855f7;
        }

        .tab-content {
            display: none;
            flex: 1;
            overflow: hidden;
            flex-direction: column;
        }

        .tab-content.active {
            display: flex;
        }

        /* Learn Tab Styles */
        .learn-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .learn-section {
            margin-bottom: 30px;
        }

        .learn-section h2 {
            color: #a855f7;
            font-size: 1.8em;
            margin-bottom: 15px;
            border-bottom: 2px solid #dc2626;
            padding-bottom: 10px;
        }

        .learn-section h3 {
            color: #dc2626;
            font-size: 1.3em;
            margin: 20px 0 10px;
        }

        .learn-section p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .learn-section ul, .learn-section ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        .learn-section li {
            line-height: 1.8;
            margin-bottom: 8px;
            color: #d0d0d0;
        }

        .info-box {
            background: rgba(220, 38, 38, 0.15);
            border-left: 4px solid #dc2626;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .info-box.warning {
            background: rgba(251, 146, 60, 0.15);
            border-left-color: #fb923c;
        }

        .info-box.success {
            background: rgba(34, 197, 94, 0.15);
            border-left-color: #22c55e;
        }

        .info-box.critical {
            background: rgba(239, 68, 68, 0.2);
            border-left-color: #ef4444;
            border-width: 4px;
            border: 4px solid #ef4444;
            border-radius: 8px;
        }

        .info-box strong {
            color: #dc2626;
            display: block;
            margin-bottom: 5px;
        }

        .info-box.warning strong {
            color: #fb923c;
        }

        .info-box.success strong {
            color: #22c55e;
        }

        .info-box.critical strong {
            color: #ef4444;
            font-size: 1.2em;
        }

        code {
            background: rgba(124, 58, 237, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #a855f7;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.6);
            padding: 15px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            border: 1px solid rgba(168, 85, 247, 0.3);
        }

        .code-block .comment {
            color: #6b7280;
        }

        .code-block .command {
            color: #22c55e;
        }

        .code-block .flag {
            color: #fb923c;
        }

        .code-block .hash {
            color: #dc2626;
        }

        /* Cracker Lab Styles */
        .cracker-lab {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .lab-controls {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-bottom: 2px solid rgba(168, 85, 247, 0.3);
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .control-group label {
            display: block;
            color: #a855f7;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .control-group input[type="text"],
        .control-group textarea,
        .control-group select {
            width: 100%;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.3);
            color: #e0e0e0;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }

        .control-group textarea {
            resize: vertical;
            min-height: 80px;
            font-size: 0.85em;
        }

        .control-group select {
            cursor: pointer;
        }

        .control-group input:focus,
        .control-group textarea:focus,
        .control-group select:focus {
            outline: none;
            border-color: #a855f7;
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
        }

        .control-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .lab-button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .run-btn {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            width: 100%;
        }

        .run-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4);
        }

        .run-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .stop-btn {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #ef4444;
            color: #ef4444;
            width: 100%;
        }

        .stop-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .sample-hashes {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .sample-btn {
            padding: 8px 15px;
            background: rgba(124, 58, 237, 0.3);
            border: 1px solid #a855f7;
            color: #a855f7;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s ease;
        }

        .sample-btn:hover {
            background: rgba(124, 58, 237, 0.5);
            transform: translateY(-2px);
        }

        /* Output Console */
        .output-console {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.6);
        }

        .console-header {
            background: rgba(124, 58, 237, 0.3);
            padding: 10px 20px;
            border-bottom: 1px solid rgba(168, 85, 247, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .console-header h4 {
            color: #a855f7;
            font-size: 0.95em;
        }

        .clear-console {
            padding: 5px 12px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
            color: #ef4444;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
        }

        .clear-console:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .console-output {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .console-line {
            margin-bottom: 5px;
            color: #d0d0d0;
        }

        .console-line.info {
            color: #06b6d4;
        }

        .console-line.success {
            color: #22c55e;
            font-weight: 600;
        }

        .console-line.warning {
            color: #fb923c;
        }

        .console-line.error {
            color: #ef4444;
        }

        .console-line.hash {
            color: #dc2626;
        }

        .console-line.crack {
            color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
            padding: 5px 10px;
            border-radius: 4px;
            border-left: 3px solid #22c55e;
        }

        .progress-display {
            background: rgba(124, 58, 237, 0.2);
            padding: 15px 20px;
            border-top: 1px solid rgba(168, 85, 247, 0.3);
        }

        .progress-bar-container {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: linear-gradient(90deg, #dc2626 0%, #a855f7 100%);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            font-size: 0.85em;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            color: #888;
            display: block;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #a855f7;
            font-weight: 600;
            font-size: 1.1em;
        }

        /* Challenges Styles */
        .challenges-container {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .challenge-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .challenge-card:hover {
            border-color: #a855f7;
            transform: translateY(-2px);
        }

        .challenge-card.completed {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.05);
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .challenge-title {
            font-size: 1.2em;
            color: #a855f7;
            font-weight: 600;
        }

        .challenge-card.completed .challenge-title {
            color: #22c55e;
        }

        .challenge-points {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .challenge-description {
            color: #d0d0d0;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .challenge-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.3);
            color: #e0e0e0;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin-bottom: 10px;
        }

        .challenge-input:focus {
            outline: none;
            border-color: #a855f7;
        }

        .challenge-input.correct {
            border-color: #22c55e;
        }

        .challenge-input.incorrect {
            border-color: #ef4444;
        }

        .challenge-buttons {
            display: flex;
            gap: 10px;
        }

        .challenge-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .submit-btn {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            flex: 1;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4);
        }

        .hint-btn {
            background: rgba(124, 58, 237, 0.2);
            border: 2px solid #7c3aed;
            color: #a855f7;
            padding: 10px 20px;
        }

        .hint-btn:hover {
            background: rgba(124, 58, 237, 0.3);
        }

        .challenge-feedback {
            margin-top: 10px;
            padding: 10px 15px;
            border-radius: 6px;
            display: none;
        }

        .challenge-feedback.show {
            display: block;
        }

        .challenge-feedback.correct {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
            color: #22c55e;
        }

        .challenge-feedback.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
            color: #ef4444;
        }

        .challenge-feedback.hint {
            background: rgba(251, 146, 60, 0.2);
            border: 1px solid #fb923c;
            color: #fb923c;
        }

        /* Reference Tab */
        .reference-container {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .ref-category {
            margin-bottom: 30px;
        }

        .ref-category h3 {
            color: #a855f7;
            font-size: 1.4em;
            margin-bottom: 15px;
            border-bottom: 2px solid #dc2626;
            padding-bottom: 10px;
        }

        .ref-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .ref-item {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ref-item:hover {
            border-color: #a855f7;
            transform: translateY(-2px);
            background: rgba(124, 58, 237, 0.2);
        }

        .command-syntax {
            font-family: 'Courier New', monospace;
            color: #22c55e;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .command-explanation {
            color: #d0d0d0;
            font-size: 0.9em;
            line-height: 1.6;
        }

        /* Settings Tab */
        .settings-container {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .settings-section {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .settings-section h3 {
            color: #a855f7;
            font-size: 1.3em;
            margin-bottom: 20px;
            border-bottom: 2px solid #dc2626;
            padding-bottom: 10px;
        }

        .settings-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }

        .settings-row:last-child {
            border-bottom: none;
        }

        .settings-row label {
            color: #d0d0d0;
            font-size: 0.95em;
        }

        .settings-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .settings-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
        }

        .settings-btn.secondary {
            background: rgba(124, 58, 237, 0.2);
            border: 2px solid #7c3aed;
        }

        .settings-btn.danger {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #ef4444;
            color: #ef4444;
        }

        .settings-btn.danger:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        /* Progress tracker */
        .progress-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .progress-section h3 {
            color: #a855f7;
            margin-bottom: 10px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #888;
        }

        /* Sidebar */
        .sidebar {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            overflow-y: auto;
            border-left: 2px solid rgba(168, 85, 247, 0.3);
        }

        .sidebar h3 {
            color: #a855f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            border-bottom: 2px solid #dc2626;
            padding-bottom: 10px;
        }

        .sidebar h4 {
            color: #dc2626;
            font-size: 1em;
            margin: 20px 0 10px;
        }

        .sidebar p {
            color: #d0d0d0;
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .tip-box {
            background: rgba(168, 85, 247, 0.15);
            border-left: 3px solid #a855f7;
            padding: 12px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .tip-box strong {
            color: #a855f7;
            display: block;
            margin-bottom: 5px;
        }

        .quick-commands {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quick-cmd-btn {
            padding: 10px;
            background: rgba(124, 58, 237, 0.3);
            border: 1px solid #a855f7;
            color: #a855f7;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            text-align: left;
            transition: all 0.3s ease;
        }

        .quick-cmd-btn:hover {
            background: rgba(124, 58, 237, 0.5);
            transform: translateX(5px);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .sidebar {
                border-left: none;
                border-top: 2px solid rgba(168, 85, 247, 0.3);
                max-height: 350px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(26, 10, 26, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(124, 58, 237, 0.5);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a855f7;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .cracking {
            animation: pulse 1s infinite;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .console-line {
            animation: slideIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîì John the Ripper Training Lab</h1>
            <p>Master Password Cracking Techniques for Authorized Security Testing</p>
            <a href="../index.html" class="back-link">‚Üê Back to Dark Arts Vault</a>
        </div>

        <div class="main-content">
            <div class="workspace">
                <div class="tab-container">
                    <button class="tab active" onclick="switchTab('learn')">üìö Learn</button>
                    <button class="tab" onclick="switchTab('cracker-lab')">üî¨ Cracker Lab</button>
                    <button class="tab" onclick="switchTab('challenges')">üéØ Challenges</button>
                    <button class="tab" onclick="switchTab('reference')">üìñ Reference</button>
                    <button class="tab" onclick="switchTab('settings')">‚öôÔ∏è Settings</button>
                </div>

                <!-- LEARN TAB -->
                <div id="learn" class="tab-content active">
                    <div class="learn-content">
                        <div class="info-box critical">
                            <strong>‚ö†Ô∏è CRITICAL LEGAL NOTICE - READ CAREFULLY</strong>
                            <p><strong>This tool is for AUTHORIZED SECURITY TESTING ONLY.</strong> Using password cracking tools on systems or accounts you do not own or have explicit written permission to test is ILLEGAL and constitutes a federal crime under the Computer Fraud and Abuse Act (CFAA) and similar laws worldwide.</p>
                            <p><strong>Legal uses include:</strong> Your own accounts, systems you own, authorized penetration testing with written permission, security research in isolated lab environments.</p>
                            <p><strong>Illegal uses include:</strong> Breaking into someone else's accounts, unauthorized access to systems, stealing credentials, any use without explicit permission.</p>
                            <p><strong>By proceeding, you acknowledge that you will only use these techniques for lawful, authorized purposes. Misuse can result in criminal prosecution, fines, and imprisonment.</strong></p>
                        </div>

                        <div class="learn-section">
                            <h2>What is John the Ripper?</h2>
                            <p>John the Ripper (often called "John" or "JtR") is one of the most popular and powerful password cracking tools in cybersecurity. It's a free, open-source password security auditing and password recovery tool available for many operating systems.</p>

                            <div class="info-box">
                                <strong>üéØ Key Concept</strong>
                                <p>John doesn't "hack" passwords in real-time. Instead, it takes password hashes (encrypted representations of passwords) and attempts to find the original plaintext password by testing millions of possibilities per second.</p>
                            </div>

                            <h3>Why Do Security Professionals Use John?</h3>
                            <ul>
                                <li><strong>Password Auditing:</strong> Test if your organization's passwords are strong enough</li>
                                <li><strong>Penetration Testing:</strong> Assess the strength of captured password hashes</li>
                                <li><strong>Incident Response:</strong> Recover access to encrypted systems when passwords are lost</li>
                                <li><strong>Security Research:</strong> Study password patterns and improve defensive strategies</li>
                                <li><strong>Compliance Testing:</strong> Verify that password policies are actually effective</li>
                            </ul>

                            <h3>How Fast Can It Crack?</h3>
                            <p>Modern hardware can test millions (even billions with GPU acceleration) of passwords per second. A weak password like "password123" in MD5 format can be cracked in milliseconds. However, a strong 12+ character password with mixed characters can take centuries to crack.</p>

                            <div class="info-box warning">
                                <strong>‚ö†Ô∏è Important Reality Check</strong>
                                <p>Movies and TV shows dramatically misrepresent password cracking. In reality, cracking a truly strong password (14+ characters, mixed case, numbers, symbols) is practically impossible with current technology. John's power comes from exploiting WEAK passwords and common patterns.</p>
                            </div>
                        </div>

                        <div class="learn-section">
                            <h2>Understanding Password Hashing</h2>
                            <p>Before we can crack passwords, we must understand how they're stored. Systems don't store passwords in plaintext - they store mathematical representations called hashes.</p>

                            <h3>What is a Hash?</h3>
                            <p>A hash is a one-way mathematical function that converts any input into a fixed-length output. The same input always produces the same output, but you cannot reverse the process to get the original input from the hash.</p>

                            <div class="code-block">
                                <span class="comment"># Example: The word "password" hashed with different algorithms</span><br><br>
                                <span style="color: #888;">MD5:</span><br>
                                <span class="hash">5f4dcc3b5aa765d61d8327deb882cf99</span><br><br>
                                <span style="color: #888;">SHA1:</span><br>
                                <span class="hash">5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8</span><br><br>
                                <span style="color: #888;">SHA256:</span><br>
                                <span class="hash">5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8</span>
                            </div>

                            <h3>Common Hash Types You'll Encounter</h3>
                            <ul>
                                <li><strong>MD5:</strong> 32 hex characters. Fast but cryptographically broken. Still widely used in older systems. Example: <code>5f4dcc3b5aa765d61d8327deb882cf99</code></li>
                                <li><strong>SHA1:</strong> 40 hex characters. Also considered weak. Found in older databases. Example: <code>5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8</code></li>
                                <li><strong>SHA256:</strong> 64 hex characters. Strong but can still be brute-forced if the password is weak.</li>
                                <li><strong>bcrypt:</strong> Starts with $2a$, $2b$, or $2y$. Designed to be slow (good for security). Example: <code>$2a$10$N9qo8uLOickgx2ZMRZoMy.ABCD...</code></li>
                                <li><strong>NTLM:</strong> Windows password hashes. 32 hex characters, no salt. Notoriously weak.</li>
                            </ul>

                            <div class="info-box success">
                                <strong>‚úÖ Pro Tip: Identifying Hashes</strong>
                                <p>Length is your first clue: 32 chars = MD5 or NTLM, 40 = SHA1, 64 = SHA256. Prefixes like $2a$ indicate bcrypt. The hash-identifier tool can automate this.</p>
                            </div>
                        </div>

                        <div class="learn-section">
                            <h2>Attack Modes: How John Cracks Passwords</h2>
                            <p>John the Ripper uses several different strategies to crack passwords. Understanding when to use each mode is crucial for success.</p>

                            <h3>1. Dictionary Attack</h3>
                            <p>The most common and often most effective method. John reads through a wordlist (dictionary) of potential passwords and tests each one.</p>
                            <div class="code-block">
                                <span class="command">john</span> <span class="flag">--wordlist=</span>rockyou.txt <span class="flag">--format=</span>raw-md5 hashes.txt
                            </div>
                            <p><strong>Best for:</strong> Users who choose dictionary words, common phrases, or popular passwords.<br>
                            <strong>Speed:</strong> Very fast - millions of attempts per second.<br>
                            <strong>Success rate:</strong> High for weak passwords (30-60% in real audits).</p>

                            <h3>2. Brute Force Attack</h3>
                            <p>Try every possible combination of characters up to a certain length. Extremely thorough but very slow.</p>
                            <div class="code-block">
                                <span class="command">john</span> <span class="flag">--incremental</span> <span class="flag">--format=</span>raw-md5 hashes.txt
                            </div>
                            <p><strong>Best for:</strong> Short passwords (1-8 characters) or when all else fails.<br>
                            <strong>Speed:</strong> Depends on length. 6 chars = hours, 8 chars = days/weeks, 10+ chars = impractical.<br>
                            <strong>Success rate:</strong> 100% given enough time, but time is usually the limiting factor.</p>

                            <h3>3. Rule-Based Attack</h3>
                            <p>Apply transformation rules to dictionary words. This catches variations like "Password123!" from the word "password".</p>
                            <div class="code-block">
                                <span class="command">john</span> <span class="flag">--wordlist=</span>rockyou.txt <span class="flag">--rules</span> <span class="flag">--format=</span>raw-md5 hashes.txt
                            </div>
                            <p><strong>Common rules:</strong> Capitalize first letter, add numbers to end, replace letters with numbers (l33tspeak), add special characters.<br>
                            <strong>Best for:</strong> Users who take a dictionary word and modify it slightly.<br>
                            <strong>Success rate:</strong> Significantly higher than pure dictionary (can double crack rate).</p>

                            <div class="info-box">
                                <strong>üéØ Rule Examples</strong>
                                <p>If dictionary contains "password", rules generate:<br>
                                Password, PASSWORD, password1, password123, P@ssw0rd, password!, passworD1!, etc.</p>
                            </div>

                            <h3>4. Hybrid Attack</h3>
                            <p>Combines dictionary words with brute force on part of the password. For example, dictionary word + any 3 digits.</p>

                            <h3>5. Mask Attack</h3>
                            <p>Similar to brute force but you specify a pattern. Example: 8 characters, starts with capital, ends with 2 digits.</p>
                        </div>

                        <div class="learn-section">
                            <h2>Wordlists: The Fuel for Cracking</h2>
                            <p>Your wordlist quality directly impacts success. Garbage in, garbage out.</p>

                            <h3>Famous Wordlists</h3>
                            <ul>
                                <li><strong>rockyou.txt:</strong> 14 million real passwords from the 2009 RockYou breach. The gold standard for password cracking. Most security professionals' first choice.</li>
                                <li><strong>SecLists:</strong> Curated collection of wordlists for security testing, including passwords, usernames, and more.</li>
                                <li><strong>CrackStation:</strong> 1.5 billion entries. Massive but slow to process.</li>
                                <li><strong>john.txt:</strong> Built-in wordlist with John, focused on common passwords.</li>
                            </ul>

                            <div class="info-box warning">
                                <strong>‚ö†Ô∏è Wordlist Management</strong>
                                <p>Bigger is not always better. A targeted 100,000 word list of industry-specific terms can outperform a generic 10 million word list. Always consider your target when choosing a wordlist.</p>
                            </div>

                            <h3>Creating Custom Wordlists</h3>
                            <p>For targeted attacks (authorized testing only!), you can create custom wordlists based on:</p>
                            <ul>
                                <li>Company name and variations</li>
                                <li>Industry-specific terminology</li>
                                <li>Location names (city, building, street names)</li>
                                <li>Employee names, pet names, sports teams</li>
                                <li>Keyboard patterns (qwerty, 12345, asdfgh)</li>
                            </ul>

                            <div class="code-block">
                                <span class="comment"># Tools for generating custom wordlists</span><br>
                                <span class="command">cewl</span> https://targetcompany.com <span class="flag">-m</span> 6 <span class="flag">-w</span> company-words.txt<br>
                                <span class="command">cupp</span> <span class="flag">-i</span>  <span class="comment"># Interactive tool for person-specific wordlists</span>
                            </div>
                        </div>

                        <div class="learn-section">
                            <h2>Identifying Hash Types</h2>
                            <p>Before cracking, you must tell John what type of hash it's dealing with. Getting this wrong means zero results.</p>

                            <h3>Visual Identification</h3>
                            <div class="code-block">
                                <span class="comment"># MD5 - 32 hex characters</span><br>
                                <span class="hash">5f4dcc3b5aa765d61d8327deb882cf99</span><br><br>
                                <span class="comment"># SHA1 - 40 hex characters</span><br>
                                <span class="hash">5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8</span><br><br>
                                <span class="comment"># SHA256 - 64 hex characters</span><br>
                                <span class="hash">5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8</span><br><br>
                                <span class="comment"># NTLM - 32 hex characters (same length as MD5, context matters!)</span><br>
                                <span class="hash">8846f7eaee8fb117ad06bdd830b7586c</span><br><br>
                                <span class="comment"># bcrypt - starts with $2a$, $2b$, or $2y$</span><br>
                                <span class="hash">$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy</span><br><br>
                                <span class="comment"># Linux SHA512 - starts with $6$</span><br>
                                <span class="hash">$6$rounds=5000$GokFcXvIpazxnF..$sZWXuzcJCuQN1L4WVu4U...</span>
                            </div>

                            <h3>Using John to Identify</h3>
                            <div class="code-block">
                                <span class="comment"># John can sometimes auto-detect the format</span><br>
                                <span class="command">john</span> <span class="flag">--format=</span>list hashes.txt<br><br>
                                <span class="comment"># List all formats John supports</span><br>
                                <span class="command">john</span> <span class="flag">--list=</span>formats
                            </div>
                        </div>

                        <div class="learn-section">
                            <h2>Understanding Crack Time</h2>
                            <p>Why can some passwords be cracked in seconds while others would take centuries?</p>

                            <h3>Factors That Affect Cracking Speed</h3>
                            <ul>
                                <li><strong>Hash Algorithm:</strong> MD5 is extremely fast to compute (billions per second). bcrypt is designed to be slow (thousands per second).</li>
                                <li><strong>Password Length:</strong> Each additional character exponentially increases the search space.</li>
                                <li><strong>Character Set:</strong> Lowercase only = 26 options per character. Add uppercase, numbers, symbols = 94+ options per character.</li>
                                <li><strong>Hardware:</strong> GPU acceleration can be 100x faster than CPU-only cracking.</li>
                                <li><strong>Attack Method:</strong> Dictionary = fast. Brute force = slow. Rules = medium.</li>
                            </ul>

                            <div class="info-box success">
                                <strong>‚úÖ Real-World Expectations</strong>
                                <p><strong>Weak passwords (dictionary words, common patterns):</strong> Seconds to minutes<br>
                                <strong>Medium passwords (dictionary + numbers):</strong> Minutes to hours<br>
                                <strong>Strong passwords (12+ mixed characters):</strong> Years to centuries<br>
                                <strong>Enterprise-grade (14+ characters, properly random):</strong> Effectively uncrackable</p>
                            </div>

                            <h3>Why This Matters for Defense</h3>
                            <p>This is why security professionals recommend:</p>
                            <ul>
                                <li>Passwords 14+ characters minimum (16+ is better)</li>
                                <li>Passphrases instead of passwords ("correct horse battery staple" vs "P@ssw0rd!")</li>
                                <li>Unique passwords for every account (password managers)</li>
                                <li>Multi-factor authentication (even if password is cracked, attacker still can't get in)</li>
                            </ul>
                        </div>

                        <div class="learn-section">
                            <h2>Ethical and Legal Boundaries</h2>
                            <p>This cannot be stressed enough: the line between legal security testing and illegal hacking is consent and authorization.</p>

                            <h3>Legal Scenarios</h3>
                            <ul>
                                <li>Testing your own systems and accounts</li>
                                <li>Authorized penetration testing with a signed contract and defined scope</li>
                                <li>Security research in isolated lab environments with no real targets</li>
                                <li>Academic research with proper ethics approval</li>
                                <li>Password recovery for your own lost/forgotten passwords</li>
                            </ul>

                            <h3>Illegal Scenarios</h3>
                            <ul>
                                <li>Cracking passwords on systems you don't own without explicit written permission</li>
                                <li>Using cracked credentials to access accounts without authorization</li>
                                <li>Testing "just to see if you can" on production systems you don't own</li>
                                <li>Sharing or selling cracked credentials</li>
                                <li>Any activity that causes damage or unauthorized access</li>
                            </ul>

                            <div class="info-box critical">
                                <strong>‚öñÔ∏è Legal Consequences Are Real</strong>
                                <p>Under the Computer Fraud and Abuse Act (CFAA) and similar laws worldwide, unauthorized password cracking can result in:<br>
                                - Up to 10 years in federal prison (20 years for repeat offenders)<br>
                                - Fines up to $250,000<br>
                                - Civil lawsuits from victims<br>
                                - Permanent criminal record<br>
                                - End of your career in technology<br><br>
                                <strong>ALWAYS get explicit written permission before testing ANY system you don't personally own.</strong></p>
                            </div>

                            <h3>Professional Boundaries</h3>
                            <p>Even in authorized testing, you must:</p>
                            <ul>
                                <li>Stay within the defined scope (if you're authorized to test Server A, don't test Server B)</li>
                                <li>Protect any cracked credentials (treat them as highly sensitive)</li>
                                <li>Report findings professionally without exploiting them</li>
                                <li>Delete captured hashes and cracked passwords when testing is complete</li>
                                <li>Never use testing as an opportunity to access personal data or pivot to unauthorized systems</li>
                            </ul>
                        </div>

                        <div class="learn-section">
                            <h2>Ready to Practice?</h2>
                            <p>Now that you understand the theory, head to the <strong>Cracker Lab</strong> tab to simulate password cracking in a safe environment. Then test your knowledge in the <strong>Challenges</strong> section!</p>

                            <div class="info-box success">
                                <strong>üéÆ Interactive Learning</strong>
                                <p>The Cracker Lab provides a simulated environment with pre-loaded hashes. You can practice different attack modes and see realistic output without any risk. All activity is local to your browser - no real cracking is happening.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CRACKER LAB TAB -->
                <div id="cracker-lab" class="tab-content">
                    <div class="cracker-lab">
                        <div class="lab-controls">
                            <div class="control-group">
                                <label>Password Hashes (one per line, or paste a hash file)</label>
                                <textarea id="hashInput" placeholder="Paste hashes here... e.g., 5f4dcc3b5aa765d61d8327deb882cf99"></textarea>
                                <div class="sample-hashes">
                                    <strong style="color: #a855f7; font-size: 0.9em;">Sample Hashes:</strong>
                                    <button class="sample-btn" onclick="loadSampleHash('md5-easy')">MD5 (Easy)</button>
                                    <button class="sample-btn" onclick="loadSampleHash('sha1-medium')">SHA1 (Medium)</button>
                                    <button class="sample-btn" onclick="loadSampleHash('ntlm-windows')">NTLM (Windows)</button>
                                    <button class="sample-btn" onclick="loadSampleHash('bcrypt-hard')">bcrypt (Hard)</button>
                                    <button class="sample-btn" onclick="loadSampleHash('multiple')">Multiple Hashes</button>
                                </div>
                            </div>

                            <div class="control-row">
                                <div class="control-group">
                                    <label>Hash Format</label>
                                    <select id="formatSelect">
                                        <option value="raw-md5">MD5</option>
                                        <option value="raw-sha1">SHA1</option>
                                        <option value="raw-sha256">SHA256</option>
                                        <option value="NT">NTLM (Windows)</option>
                                        <option value="bcrypt">bcrypt</option>
                                        <option value="sha512crypt">SHA512crypt (Linux)</option>
                                    </select>
                                </div>

                                <div class="control-group">
                                    <label>Attack Mode</label>
                                    <select id="attackMode">
                                        <option value="dictionary">Dictionary Attack</option>
                                        <option value="rules">Dictionary + Rules</option>
                                        <option value="incremental">Brute Force (Incremental)</option>
                                        <option value="mask">Mask Attack</option>
                                    </select>
                                </div>
                            </div>

                            <div class="control-group" id="wordlistGroup">
                                <label>Wordlist</label>
                                <select id="wordlistSelect">
                                    <option value="rockyou">rockyou.txt (14M passwords)</option>
                                    <option value="common">common-passwords.txt (10K)</option>
                                    <option value="fasttrack">fasttrack.txt (222)</option>
                                    <option value="custom">Custom List</option>
                                </select>
                            </div>

                            <div class="control-group" id="maskGroup" style="display: none;">
                                <label>Mask Pattern (e.g., ?u?l?l?l?l?d?d?d = Pword123)</label>
                                <input type="text" id="maskPattern" placeholder="?u?l?l?l?l?d?d?d" value="?u?l?l?l?l?d?d">
                                <small style="color: #888; font-size: 0.85em;">?l=lowercase ?u=uppercase ?d=digit ?s=special ?a=all</small>
                            </div>

                            <button class="lab-button run-btn" id="runBtn" onclick="startCracking()">üîì Run Attack</button>
                            <button class="lab-button stop-btn" id="stopBtn" onclick="stopCracking()" style="display: none; margin-top: 10px;">‚èπÔ∏è Stop Attack</button>
                        </div>

                        <div class="output-console">
                            <div class="console-header">
                                <h4>Output Console</h4>
                                <button class="clear-console" onclick="clearConsole()">Clear</button>
                            </div>
                            <div class="console-output" id="consoleOutput">
                                <div class="console-line info">John the Ripper 1.9.0-jumbo-1 (Simulated Training Environment)</div>
                                <div class="console-line info">Loaded 0 password hashes</div>
                                <div class="console-line">Ready. Load hashes and select attack parameters to begin.</div>
                            </div>
                            <div class="progress-display">
                                <div class="progress-bar-container">
                                    <div class="progress-bar" id="crackProgress"></div>
                                </div>
                                <div class="progress-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">Attempts</span>
                                        <span class="stat-value" id="attemptsCount">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Speed</span>
                                        <span class="stat-value" id="crackSpeed">0 p/s</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Cracked</span>
                                        <span class="stat-value" id="crackedCount">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CHALLENGES TAB -->
                <div id="challenges" class="tab-content">
                    <div class="challenges-container">
                        <div class="progress-section">
                            <h3>Your Progress</h3>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
                            </div>
                            <div class="progress-text">
                                <span><span id="completedCount">0</span> of <span id="totalChallenges">10</span> challenges completed</span>
                                <span id="totalPoints">0 points</span>
                            </div>
                        </div>

                        <div id="challengeList"></div>
                    </div>
                </div>

                <!-- REFERENCE TAB -->
                <div id="reference" class="tab-content">
                    <div class="reference-container">
                        <div class="ref-category">
                            <h3>üîç Basic Commands</h3>
                            <div class="ref-grid">
                                <div class="ref-item" onclick="copyCommand('john --format=raw-md5 hashes.txt')">
                                    <div class="command-syntax">john --format=raw-md5 hashes.txt</div>
                                    <div class="command-explanation">Crack MD5 hashes using default settings</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --wordlist=rockyou.txt hashes.txt')">
                                    <div class="command-syntax">john --wordlist=rockyou.txt hashes.txt</div>
                                    <div class="command-explanation">Use dictionary attack with rockyou wordlist</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --show hashes.txt')">
                                    <div class="command-syntax">john --show hashes.txt</div>
                                    <div class="command-explanation">Display already cracked passwords</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --format=NT hashes.txt')">
                                    <div class="command-syntax">john --format=NT hashes.txt</div>
                                    <div class="command-explanation">Crack NTLM hashes (Windows passwords)</div>
                                </div>
                            </div>
                        </div>

                        <div class="ref-category">
                            <h3>‚öôÔ∏è Attack Modes</h3>
                            <div class="ref-grid">
                                <div class="ref-item" onclick="copyCommand('john --wordlist=rockyou.txt --rules hashes.txt')">
                                    <div class="command-syntax">john --wordlist=rockyou.txt --rules hashes.txt</div>
                                    <div class="command-explanation">Apply transformation rules to wordlist (recommended)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --incremental hashes.txt')">
                                    <div class="command-syntax">john --incremental hashes.txt</div>
                                    <div class="command-explanation">Brute force attack (try all combinations)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --incremental=Digits --format=raw-md5 hashes.txt')">
                                    <div class="command-syntax">john --incremental=Digits hashes.txt</div>
                                    <div class="command-explanation">Brute force numbers only (PINs, numeric passwords)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --mask=?u?l?l?l?l?d?d hashes.txt')">
                                    <div class="command-syntax">john --mask=?u?l?l?l?l?d?d hashes.txt</div>
                                    <div class="command-explanation">Mask attack: Capital + 4 lowercase + 2 digits</div>
                                </div>
                            </div>
                        </div>

                        <div class="ref-category">
                            <h3>üéØ Format Specifications</h3>
                            <div class="ref-grid">
                                <div class="ref-item" onclick="copyCommand('john --format=raw-sha1 hashes.txt')">
                                    <div class="command-syntax">john --format=raw-sha1 hashes.txt</div>
                                    <div class="command-explanation">Crack SHA1 hashes (40 hex characters)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --format=raw-sha256 hashes.txt')">
                                    <div class="command-syntax">john --format=raw-sha256 hashes.txt</div>
                                    <div class="command-explanation">Crack SHA256 hashes (64 hex characters)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --format=bcrypt hashes.txt')">
                                    <div class="command-syntax">john --format=bcrypt hashes.txt</div>
                                    <div class="command-explanation">Crack bcrypt hashes (starts with $2a$, $2b$, $2y$)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --format=sha512crypt hashes.txt')">
                                    <div class="command-syntax">john --format=sha512crypt hashes.txt</div>
                                    <div class="command-explanation">Crack Linux SHA512 hashes (starts with $6$)</div>
                                </div>
                            </div>
                        </div>

                        <div class="ref-category">
                            <h3>üìä Session Management</h3>
                            <div class="ref-grid">
                                <div class="ref-item" onclick="copyCommand('john --session=mysession hashes.txt')">
                                    <div class="command-syntax">john --session=mysession hashes.txt</div>
                                    <div class="command-explanation">Start a named session (can resume later)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --restore=mysession')">
                                    <div class="command-syntax">john --restore=mysession</div>
                                    <div class="command-explanation">Resume a previously interrupted session</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --status')">
                                    <div class="command-syntax">john --status</div>
                                    <div class="command-explanation">Show status of current/last session</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --list=formats')">
                                    <div class="command-syntax">john --list=formats</div>
                                    <div class="command-explanation">List all supported hash formats</div>
                                </div>
                            </div>
                        </div>

                        <div class="ref-category">
                            <h3>üöÄ Advanced Techniques</h3>
                            <div class="ref-grid">
                                <div class="ref-item" onclick="copyCommand('john --wordlist=rockyou.txt --rules=Jumbo hashes.txt')">
                                    <div class="command-syntax">john --wordlist=rockyou.txt --rules=Jumbo hashes.txt</div>
                                    <div class="command-explanation">Use specific rule set (Jumbo = comprehensive)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --wordlist=rockyou.txt --min-length=8 hashes.txt')">
                                    <div class="command-syntax">john --wordlist=rockyou.txt --min-length=8 hashes.txt</div>
                                    <div class="command-explanation">Only try passwords 8+ characters long</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --pot=custom.pot --show hashes.txt')">
                                    <div class="command-syntax">john --pot=custom.pot --show hashes.txt</div>
                                    <div class="command-explanation">Use custom pot file (stores cracked passwords)</div>
                                </div>
                                <div class="ref-item" onclick="copyCommand('john --fork=4 hashes.txt')">
                                    <div class="command-syntax">john --fork=4 hashes.txt</div>
                                    <div class="command-explanation">Use 4 CPU cores for faster cracking</div>
                                </div>
                            </div>
                        </div>

                        <div class="ref-category">
                            <h3>üî§ Mask Attack Patterns</h3>
                            <div style="background: rgba(0, 0, 0, 0.4); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 15px;">
                                    <div>
                                        <strong style="color: #a855f7;">?l</strong> = lowercase (a-z)
                                    </div>
                                    <div>
                                        <strong style="color: #a855f7;">?u</strong> = uppercase (A-Z)
                                    </div>
                                    <div>
                                        <strong style="color: #a855f7;">?d</strong> = digit (0-9)
                                    </div>
                                    <div>
                                        <strong style="color: #a855f7;">?s</strong> = special (!@#$%...)
                                    </div>
                                    <div>
                                        <strong style="color: #a855f7;">?a</strong> = all characters
                                    </div>
                                    <div>
                                        <strong style="color: #a855f7;">?b</strong> = binary (0x00-0xFF)
                                    </div>
                                </div>
                                <div class="code-block" style="margin: 0;">
                                    <span class="comment"># Common mask patterns:</span><br>
                                    ?u?l?l?l?l?d?d        <span class="comment"># Capital + 4 lowercase + 2 digits (e.g., "Admin99")</span><br>
                                    ?u?l?l?l?l?d?d?d?d    <span class="comment"># Capital + 4 lowercase + 4 digits (e.g., "Pass2024")</span><br>
                                    ?d?d?d?d?d?d          <span class="comment"># 6-digit PIN</span><br>
                                    ?u?l?l?l?l?l?l?d?s    <span class="comment"># Uppercase + 6 lowercase + digit + special</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SETTINGS TAB -->
                <div id="settings" class="tab-content">
                    <div class="settings-container">
                        <div class="settings-section">
                            <h3>Progress Management</h3>
                            <div class="settings-row">
                                <label>Export your challenge progress</label>
                                <button class="settings-btn" onclick="exportProgress()">Export Progress</button>
                            </div>
                            <div class="settings-row">
                                <label>Import previously saved progress</label>
                                <button class="settings-btn secondary" onclick="importProgress()">Import Progress</button>
                            </div>
                            <div class="settings-row">
                                <label>Reset all challenge progress</label>
                                <button class="settings-btn danger" onclick="resetProgress()">Reset Progress</button>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Statistics</h3>
                            <div class="settings-row">
                                <label>Challenges Completed</label>
                                <span id="statsCompleted" style="color: #22c55e; font-weight: 600;">0 / 10</span>
                            </div>
                            <div class="settings-row">
                                <label>Total Points Earned</label>
                                <span id="statsPoints" style="color: #fbbf24; font-weight: 600;">0</span>
                            </div>
                            <div class="settings-row">
                                <label>Hashes Cracked (Lab)</label>
                                <span id="statsHashes" style="color: #dc2626; font-weight: 600;">0</span>
                            </div>
                            <div class="settings-row">
                                <label>Simulated Attempts</label>
                                <span id="statsAttempts" style="color: #a855f7; font-weight: 600;">0</span>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>About This Lab</h3>
                            <p style="color: #d0d0d0; line-height: 1.8; margin-bottom: 15px;">
                                This training lab simulates John the Ripper in a safe, browser-based environment. All cracking activity is simulated - no actual password cracking is performed. This tool is designed for educational purposes to teach security professionals about password security and authorized testing techniques.
                            </p>
                            <p style="color: #d0d0d0; line-height: 1.8;">
                                <strong style="color: #a855f7;">Version:</strong> 1.0.0<br>
                                <strong style="color: #a855f7;">Last Updated:</strong> December 2025<br>
                                <strong style="color: #a855f7;">Part of:</strong> Hexworth Prime - Dark Arts Vault
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SIDEBAR -->
            <div class="sidebar" id="sidebar">
                <h3>üìñ Training Panel</h3>
                <div id="learningContent">
                    <h4>Welcome to John the Ripper Training!</h4>
                    <p>This interactive lab teaches you password cracking fundamentals for authorized security testing.</p>

                    <div class="tip-box">
                        <strong>üí° Getting Started</strong>
                        <p>Start with the <strong>Learn</strong> tab, then practice in the <strong>Cracker Lab</strong>!</p>
                    </div>

                    <div class="info-box critical" style="margin-top: 15px; padding: 10px;">
                        <strong style="font-size: 0.9em;">‚ö†Ô∏è Legal Reminder</strong>
                        <p style="font-size: 0.85em; margin: 5px 0 0 0;">Only use these techniques on systems you own or have explicit written permission to test.</p>
                    </div>

                    <h4>Quick Commands</h4>
                    <p>Click to copy to clipboard:</p>
                    <div class="quick-commands">
                        <button class="quick-cmd-btn" onclick="copyCommand('john --format=raw-md5 hashes.txt')">john --format=raw-md5 hashes.txt</button>
                        <button class="quick-cmd-btn" onclick="copyCommand('john --wordlist=rockyou.txt --rules hashes.txt')">john --wordlist=rockyou.txt --rules</button>
                        <button class="quick-cmd-btn" onclick="copyCommand('john --show hashes.txt')">john --show hashes.txt</button>
                        <button class="quick-cmd-btn" onclick="copyCommand('john --incremental hashes.txt')">john --incremental hashes.txt</button>
                    </div>

                    <h4>Hash Identification</h4>
                    <div style="font-size: 0.85em; color: #d0d0d0; line-height: 1.6;">
                        <strong style="color: #a855f7;">32 chars:</strong> MD5 or NTLM<br>
                        <strong style="color: #a855f7;">40 chars:</strong> SHA1<br>
                        <strong style="color: #a855f7;">64 chars:</strong> SHA256<br>
                        <strong style="color: #a855f7;">$2a$, $2b$:</strong> bcrypt<br>
                        <strong style="color: #a855f7;">$6$:</strong> SHA512crypt
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== STATE MANAGEMENT ====================
        let isRaining = false;
        let crackingInterval = null;
        let currentAttempts = 0;
        let currentCracked = 0;
        let totalHashesCracked = 0;
        let totalSimulatedAttempts = 0;

        // Challenge state
        let challenges = [];
        let completedChallenges = new Set();
        let totalPoints = 0;

        // ==================== SAMPLE HASH DATABASE ====================
        const hashDatabase = {
            // MD5 hashes
            '5f4dcc3b5aa765d61d8327deb882cf99': { password: 'password', type: 'raw-md5', difficulty: 'easy' },
            '098f6bcd4621d373cade4e832627b4f6': { password: 'test', type: 'raw-md5', difficulty: 'easy' },
            'e10adc3949ba59abbe56e057f20f883e': { password: '123456', type: 'raw-md5', difficulty: 'easy' },
            '25d55ad283aa400af464c76d713c07ad': { password: '12345678', type: 'raw-md5', difficulty: 'easy' },
            '827ccb0eea8a706c4c34a16891f84e7b': { password: '12345', type: 'raw-md5', difficulty: 'easy' },
            '202cb962ac59075b964b07152d234b70': { password: '123', type: 'raw-md5', difficulty: 'easy' },
            '5ebe2294ecd0e0f08eab7690d2a6ee69': { password: 'secret', type: 'raw-md5', difficulty: 'easy' },
            '7c6a180b36896a0a8c02787eeafb0e4c': { password: 'password1', type: 'raw-md5', difficulty: 'medium' },
            'aab4a77e0498a70f74b17b0769e987a9': { password: 'Summer2024', type: 'raw-md5', difficulty: 'medium' },
            'b59c67bf196a4758191e42f76670ceba': { password: 'password!', type: 'raw-md5', difficulty: 'medium' },

            // SHA1 hashes
            '5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8': { password: 'password', type: 'raw-sha1', difficulty: 'easy' },
            'a94a8fe5ccb19ba61c4c0873d391e987982fbbd3': { password: 'test', type: 'raw-sha1', difficulty: 'easy' },
            '7c4a8d09ca3762af61e59520943dc26494f8941b': { password: '123456', type: 'raw-sha1', difficulty: 'easy' },
            '8cb2237d0679ca88db6464eac60da96345513964': { password: 'password123', type: 'raw-sha1', difficulty: 'medium' },
            'e38ad214943daad1d64c102faec29de4afe9da3d': { password: 'Password1', type: 'raw-sha1', difficulty: 'medium' },

            // NTLM hashes
            '8846f7eaee8fb117ad06bdd830b7586c': { password: 'password', type: 'NT', difficulty: 'easy' },
            '0cb6948805f797bf2a82807973b89537': { password: 'admin', type: 'NT', difficulty: 'easy' },
            '209c6174da490caeb422f3fa5a7ae634': { password: 'Admin123', type: 'NT', difficulty: 'medium' },
            'a87f3a337d73085c45f9416be5787d86': { password: 'Password!', type: 'NT', difficulty: 'medium' },
            'e19ccf75ee54e06b06a5907af13cef42': { password: 'P@ssw0rd', type: 'NT', difficulty: 'hard' },

            // SHA256 hashes
            '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8': { password: 'password', type: 'raw-sha256', difficulty: 'easy' },
            '9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08': { password: 'test', type: 'raw-sha256', difficulty: 'easy' },
            '8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92': { password: '123456', type: 'raw-sha256', difficulty: 'easy' },
            'ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f': { password: 'password123', type: 'raw-sha256', difficulty: 'medium' },

            // bcrypt hashes (slower to crack)
            '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy': { password: 'password', type: 'bcrypt', difficulty: 'hard' },
            '$2a$10$YCRcR4J4EKp6EHsCzF4Lqeq7yZHZPGpvm2dj8K5/X9R8kqQJGQ7EW': { password: 'admin123', type: 'bcrypt', difficulty: 'hard' }
        };

        // ==================== CHALLENGE DEFINITIONS ====================
        const challengeDefinitions = [
            {
                id: 1,
                title: 'Identify Hash Type',
                description: 'What hash algorithm produces a 32-character hexadecimal hash? (Answer with the hash name in lowercase, e.g., "sha1")',
                hint: 'MD5 and NTLM are both 32 characters. MD5 is more common.',
                points: 10,
                check: (answer) => answer.trim().toLowerCase() === 'md5' || answer.trim().toLowerCase() === 'ntlm'
            },
            {
                id: 2,
                title: 'Crack Simple MD5',
                description: 'Crack this MD5 hash: 5f4dcc3b5aa765d61d8327deb882cf99 (Use the Cracker Lab or recognize it)',
                hint: 'This is one of the most common passwords ever. Try loading it in the Cracker Lab with a dictionary attack.',
                points: 15,
                check: (answer) => answer.trim().toLowerCase() === 'password'
            },
            {
                id: 3,
                title: 'Identify SHA1',
                description: 'How many hexadecimal characters are in a SHA1 hash? (Enter just the number)',
                hint: 'SHA1 is longer than MD5 but shorter than SHA256.',
                points: 10,
                check: (answer) => answer.trim() === '40'
            },
            {
                id: 4,
                title: 'Crack NTLM Hash',
                description: 'Crack this NTLM hash: 8846f7eaee8fb117ad06bdd830b7586c',
                hint: 'NTLM hashes are commonly used in Windows. This is a very common password.',
                points: 15,
                check: (answer) => answer.trim().toLowerCase() === 'password'
            },
            {
                id: 5,
                title: 'Best Attack Mode',
                description: 'What attack mode would you use FIRST on a set of unknown hashes? (Choose: dictionary, brute-force, rules, or mask)',
                hint: 'Always start with the fastest and most effective method that catches common passwords.',
                points: 15,
                check: (answer) => answer.trim().toLowerCase() === 'dictionary'
            },
            {
                id: 6,
                title: 'Understand Rule-Based Attacks',
                description: 'If a dictionary contains "password" and rules apply capitalization and add numbers, which password would be generated? Choose: PASSWORD123 or Password123',
                hint: 'Rules typically capitalize the first letter and append numbers.',
                points: 20,
                check: (answer) => answer.trim() === 'Password123'
            },
            {
                id: 7,
                title: 'Identify bcrypt',
                description: 'What prefix indicates a bcrypt hash? (Answer with the prefix, e.g., "$1$")',
                hint: 'bcrypt hashes start with $2a$, $2b$, or $2y$',
                points: 15,
                check: (answer) => {
                    const a = answer.trim().toLowerCase();
                    return a === '$2a$' || a === '$2b$' || a === '$2y$' || a === '$2a' || a === '$2b' || a === '$2y';
                }
            },
            {
                id: 8,
                title: 'Crack with Rules',
                description: 'Crack this MD5 hash that requires rules: b59c67bf196a4758191e42f76670ceba',
                hint: 'This is "password" with a special character added. Use dictionary + rules attack in the lab.',
                points: 20,
                check: (answer) => answer.trim().toLowerCase() === 'password!'
            },
            {
                id: 9,
                title: 'Ethical Boundary',
                description: 'Is it legal to crack password hashes from a company\'s database without permission for "security research"? (Answer: yes or no)',
                hint: 'Even for educational purposes, you need explicit written permission.',
                points: 15,
                check: (answer) => answer.trim().toLowerCase() === 'no'
            },
            {
                id: 10,
                title: 'Famous Wordlist',
                description: 'What is the most famous password wordlist from a 2009 data breach? (Answer with the filename without extension)',
                hint: 'This wordlist contains 14 million real passwords and is named after the company that was breached.',
                points: 10,
                check: (answer) => answer.trim().toLowerCase() === 'rockyou'
            }
        ];

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', () => {
            initializeChallenges();
            loadProgress();
            updateStats();
            setupAttackModeListener();
        });

        function setupAttackModeListener() {
            const attackMode = document.getElementById('attackMode');
            attackMode.addEventListener('change', (e) => {
                const wordlistGroup = document.getElementById('wordlistGroup');
                const maskGroup = document.getElementById('maskGroup');

                if (e.target.value === 'mask') {
                    wordlistGroup.style.display = 'none';
                    maskGroup.style.display = 'block';
                } else if (e.target.value === 'incremental') {
                    wordlistGroup.style.display = 'none';
                    maskGroup.style.display = 'none';
                } else {
                    wordlistGroup.style.display = 'block';
                    maskGroup.style.display = 'none';
                }
            });
        }

        function initializeChallenges() {
            challenges = [...challengeDefinitions];
            renderChallenges();
        }

        function renderChallenges() {
            const container = document.getElementById('challengeList');
            container.innerHTML = challenges.map(challenge => {
                const isCompleted = completedChallenges.has(challenge.id);
                return `
                    <div class="challenge-card ${isCompleted ? 'completed' : ''}" id="challenge-${challenge.id}">
                        <div class="challenge-header">
                            <div class="challenge-title">${challenge.id}. ${challenge.title}</div>
                            <div class="challenge-points">${challenge.points} pts</div>
                        </div>
                        <div class="challenge-description">${challenge.description}</div>
                        ${!isCompleted ? `
                            <input type="text" class="challenge-input" id="input-${challenge.id}" placeholder="Enter your answer..." ${isCompleted ? 'disabled' : ''}>
                            <div class="challenge-buttons">
                                <button class="challenge-btn submit-btn" onclick="submitChallenge(${challenge.id})">Submit Answer</button>
                                <button class="challenge-btn hint-btn" onclick="showHint(${challenge.id})">Hint</button>
                            </div>
                            <div class="challenge-feedback" id="feedback-${challenge.id}"></div>
                        ` : `
                            <div class="challenge-feedback correct show">‚úÖ Challenge Completed! +${challenge.points} points</div>
                        `}
                    </div>
                `;
            }).join('');
            updateProgress();
        }

        function submitChallenge(id) {
            const challenge = challenges.find(c => c.id === id);
            const input = document.getElementById(`input-${id}`);
            const feedback = document.getElementById(`feedback-${id}`);
            const answer = input.value;

            if (challenge.check(answer)) {
                // Correct answer
                completedChallenges.add(id);
                totalPoints += challenge.points;

                feedback.className = 'challenge-feedback correct show';
                feedback.textContent = `‚úÖ Correct! +${challenge.points} points`;

                input.classList.add('correct');
                input.disabled = true;

                // Re-render to show completed state
                setTimeout(() => {
                    renderChallenges();
                    saveProgress();
                    updateStats();
                }, 1500);
            } else {
                // Incorrect answer
                feedback.className = 'challenge-feedback incorrect show';
                feedback.textContent = '‚ùå Incorrect. Try again or use the hint.';
                input.classList.add('incorrect');

                setTimeout(() => {
                    input.classList.remove('incorrect');
                    feedback.classList.remove('show');
                }, 3000);
            }
        }

        function showHint(id) {
            const challenge = challenges.find(c => c.id === id);
            const feedback = document.getElementById(`feedback-${id}`);

            feedback.className = 'challenge-feedback hint show';
            feedback.textContent = `üí° Hint: ${challenge.hint}`;
        }

        function updateProgress() {
            const completed = completedChallenges.size;
            const total = challenges.length;
            const percentage = (completed / total) * 100;

            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('totalChallenges').textContent = total;
            document.getElementById('totalPoints').textContent = totalPoints + ' points';
        }

        // ==================== CRACKER LAB ====================
        function loadSampleHash(type) {
            const hashInput = document.getElementById('hashInput');
            const formatSelect = document.getElementById('formatSelect');

            const samples = {
                'md5-easy': {
                    hashes: '5f4dcc3b5aa765d61d8327deb882cf99\n098f6bcd4621d373cade4e832627b4f6\ne10adc3949ba59abbe56e057f20f883e',
                    format: 'raw-md5'
                },
                'sha1-medium': {
                    hashes: '5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8\na94a8fe5ccb19ba61c4c0873d391e987982fbbd3\n8cb2237d0679ca88db6464eac60da96345513964',
                    format: 'raw-sha1'
                },
                'ntlm-windows': {
                    hashes: '8846f7eaee8fb117ad06bdd830b7586c\n0cb6948805f797bf2a82807973b89537\n209c6174da490caeb422f3fa5a7ae634',
                    format: 'NT'
                },
                'bcrypt-hard': {
                    hashes: '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy',
                    format: 'bcrypt'
                },
                'multiple': {
                    hashes: '5f4dcc3b5aa765d61d8327deb882cf99\n8846f7eaee8fb117ad06bdd830b7586c\n5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8\nb59c67bf196a4758191e42f76670ceba\naab4a77e0498a70f74b17b0769e987a9',
                    format: 'raw-md5'
                }
            };

            const sample = samples[type];
            hashInput.value = sample.hashes;
            formatSelect.value = sample.format;

            logToConsole('Sample hashes loaded. Ready to crack.', 'info');
        }

        function startCracking() {
            const hashInput = document.getElementById('hashInput').value.trim();
            const format = document.getElementById('formatSelect').value;
            const attackMode = document.getElementById('attackMode').value;
            const wordlist = document.getElementById('wordlistSelect').value;

            if (!hashInput) {
                logToConsole('Error: No hashes provided. Please enter or load sample hashes.', 'error');
                return;
            }

            const hashes = hashInput.split('\n').filter(h => h.trim());

            // Clear console and reset
            clearConsole();
            currentAttempts = 0;
            currentCracked = 0;

            // Update UI
            document.getElementById('runBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'block';

            // Log startup
            logToConsole('John the Ripper 1.9.0-jumbo-1 (Simulated Training Environment)', 'info');
            logToConsole(`Loaded ${hashes.length} password hash${hashes.length > 1 ? 'es' : ''} with format "${format}"`, 'info');

            if (attackMode === 'dictionary' || attackMode === 'rules') {
                const wordlistNames = {
                    'rockyou': 'rockyou.txt (14,344,392 passwords)',
                    'common': 'common-passwords.txt (10,000 passwords)',
                    'fasttrack': 'fasttrack.txt (222 passwords)',
                    'custom': 'custom.txt'
                };
                logToConsole(`Using wordlist: ${wordlistNames[wordlist]}`, 'info');
            }

            if (attackMode === 'rules') {
                logToConsole('Applying rule set: Jumbo (best64 + custom rules)', 'info');
            } else if (attackMode === 'incremental') {
                logToConsole('Using incremental mode: ASCII (brute force)', 'info');
            } else if (attackMode === 'mask') {
                const mask = document.getElementById('maskPattern').value;
                logToConsole(`Using mask: ${mask}`, 'info');
            }

            logToConsole('Starting attack...', 'info');
            logToConsole('', '');

            // Simulate cracking
            const speedPerSecond = getSpeedForFormat(format);
            simulateCracking(hashes, format, attackMode, speedPerSecond);
        }

        function getSpeedForFormat(format) {
            const speeds = {
                'raw-md5': 8500000,      // 8.5M p/s
                'raw-sha1': 4200000,     // 4.2M p/s
                'raw-sha256': 1800000,   // 1.8M p/s
                'NT': 12000000,          // 12M p/s (NTLM is fast)
                'bcrypt': 4500,          // 4.5K p/s (intentionally slow)
                'sha512crypt': 28000     // 28K p/s
            };
            return speeds[format] || 1000000;
        }

        function simulateCracking(hashes, format, attackMode, speed) {
            let currentHashIndex = 0;
            let attempts = 0;

            crackingInterval = setInterval(() => {
                if (currentHashIndex >= hashes.length) {
                    stopCracking();
                    logToConsole('', '');
                    logToConsole('Session completed', 'success');
                    logToConsole(`${currentCracked} password hash${currentCracked !== 1 ? 'es' : ''} cracked, ${hashes.length - currentCracked} left`, 'info');
                    return;
                }

                const hash = hashes[currentHashIndex].trim();

                // Determine if/when this hash will crack
                const hashData = hashDatabase[hash] || hashDatabase[hash.toLowerCase()];
                const willCrack = hashData && hashData.type === format;

                // Simulate some attempts
                const attemptsThisRound = Math.floor(speed * 0.1); // 100ms intervals
                attempts += attemptsThisRound;
                currentAttempts = attempts;

                // Update progress
                updateCrackingProgress(attempts, speed, currentCracked);

                // Random chance to crack based on difficulty
                if (willCrack) {
                    const crackChance = attackMode === 'rules' ? 0.15 :
                                      attackMode === 'dictionary' ? 0.10 : 0.05;

                    if (Math.random() < crackChance) {
                        // CRACKED!
                        currentCracked++;
                        totalHashesCracked++;
                        logToConsole(`${hash} (${hashData.password})`, 'crack');
                        logToConsole(`Cracked ${currentCracked}/${hashes.length} hashes`, 'success');
                        currentHashIndex++;
                        attempts = 0;
                    }
                } else {
                    // Can't crack - not in database or wrong format
                    if (attempts > speed * 5) { // Give up after 5 simulated seconds
                        logToConsole(`${hash} - no match found`, 'warning');
                        currentHashIndex++;
                        attempts = 0;
                    }
                }

            }, 100);
        }

        function updateCrackingProgress(attempts, speed, cracked) {
            document.getElementById('attemptsCount').textContent = formatNumber(attempts);
            document.getElementById('crackSpeed').textContent = formatSpeed(speed);
            document.getElementById('crackedCount').textContent = cracked;

            totalSimulatedAttempts = attempts;
        }

        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        function formatSpeed(speed) {
            if (speed >= 1000000) return (speed / 1000000).toFixed(1) + 'M p/s';
            if (speed >= 1000) return (speed / 1000).toFixed(1) + 'K p/s';
            return speed + ' p/s';
        }

        function stopCracking() {
            if (crackingInterval) {
                clearInterval(crackingInterval);
                crackingInterval = null;
            }

            document.getElementById('runBtn').style.display = 'block';
            document.getElementById('stopBtn').style.display = 'none';

            saveProgress();
            updateStats();
        }

        function clearConsole() {
            document.getElementById('consoleOutput').innerHTML = '';
            document.getElementById('crackProgress').style.width = '0%';
            document.getElementById('attemptsCount').textContent = '0';
            document.getElementById('crackSpeed').textContent = '0 p/s';
            document.getElementById('crackedCount').textContent = '0';
        }

        function logToConsole(message, type = '') {
            const output = document.getElementById('consoleOutput');
            const line = document.createElement('div');
            line.className = `console-line ${type}`;
            line.textContent = message;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        // ==================== REFERENCE ====================
        function copyCommand(command) {
            navigator.clipboard.writeText(command).then(() => {
                showNotification('Command copied to clipboard!');
            });
        }

        function showNotification(message) {
            // Simple notification (could be enhanced with a toast component)
            const sidebar = document.getElementById('learningContent');
            const notification = document.createElement('div');
            notification.style.cssText = 'background: rgba(34, 197, 94, 0.2); border: 1px solid #22c55e; color: #22c55e; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85em;';
            notification.textContent = message;
            sidebar.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 2000);
        }

        // ==================== TAB SWITCHING ====================
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active from all tab buttons
            document.querySelectorAll('.tab').forEach(button => {
                button.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');

            // Activate button
            event.target.classList.add('active');
        }

        // ==================== SETTINGS ====================
        function exportProgress() {
            const data = {
                completedChallenges: Array.from(completedChallenges),
                totalPoints: totalPoints,
                totalHashesCracked: totalHashesCracked,
                totalSimulatedAttempts: totalSimulatedAttempts,
                exportDate: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `john-training-progress-${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function importProgress() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = (e) => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const data = JSON.parse(event.target.result);
                        completedChallenges = new Set(data.completedChallenges);
                        totalPoints = data.totalPoints;
                        totalHashesCracked = data.totalHashesCracked || 0;
                        totalSimulatedAttempts = data.totalSimulatedAttempts || 0;
                        renderChallenges();
                        updateStats();
                        saveProgress();
                        alert('Progress imported successfully!');
                    } catch (error) {
                        alert('Error importing progress. Please check the file format.');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                completedChallenges = new Set();
                totalPoints = 0;
                totalHashesCracked = 0;
                totalSimulatedAttempts = 0;
                renderChallenges();
                updateStats();
                saveProgress();
                alert('Progress reset successfully!');
            }
        }

        function saveProgress() {
            const data = {
                completedChallenges: Array.from(completedChallenges),
                totalPoints: totalPoints,
                totalHashesCracked: totalHashesCracked,
                totalSimulatedAttempts: totalSimulatedAttempts
            };
            localStorage.setItem('johnTrainingProgress', JSON.stringify(data));
        }

        function loadProgress() {
            const saved = localStorage.getItem('johnTrainingProgress');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    completedChallenges = new Set(data.completedChallenges || []);
                    totalPoints = data.totalPoints || 0;
                    totalHashesCracked = data.totalHashesCracked || 0;
                    totalSimulatedAttempts = data.totalSimulatedAttempts || 0;
                } catch (error) {
                    console.error('Error loading progress:', error);
                }
            }
        }

        function updateStats() {
            document.getElementById('statsCompleted').textContent = `${completedChallenges.size} / ${challenges.length}`;
            document.getElementById('statsPoints').textContent = totalPoints;
            document.getElementById('statsHashes').textContent = totalHashesCracked;
            document.getElementById('statsAttempts').textContent = formatNumber(totalSimulatedAttempts);
        }
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>