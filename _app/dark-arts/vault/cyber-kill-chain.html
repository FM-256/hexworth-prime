<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <script src="../../components/AchievementManager.js"></script>
    <script src="../../components/ModuleProgress.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Kill Chain - Dark Arts Vault</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0508 0%, #1a0a15 50%, #0f0610 100%);
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            color: #c4b5d4;
            overflow-x: hidden;
        }

        /* Animated background gradient */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse at 20% 30%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(220, 38, 38, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.08) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
            animation: gradientShift 20s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Header */
        .header {
            padding: 20px 40px;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
            background: rgba(10, 5, 15, 0.95);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .back-link {
            color: #a855f7;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid transparent;
        }

        .back-link:hover {
            background: rgba(168, 85, 247, 0.1);
            border-color: rgba(168, 85, 247, 0.3);
            transform: translateX(-3px);
        }

        .header-title {
            font-size: 1.5rem;
            color: #e0d5ef;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .skull-icon {
            font-size: 1.8rem;
            color: #dc2626;
            filter: drop-shadow(0 0 8px rgba(220, 38, 38, 0.5));
        }

        /* Main content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
            position: relative;
            z-index: 10;
        }

        /* Hero section */
        .hero {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 20px;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%);
            border-radius: 16px;
            border: 1px solid rgba(168, 85, 247, 0.2);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 2.8rem;
            color: #e0d5ef;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
        }

        .hero .subtitle {
            font-size: 1.1rem;
            color: #9a7aaa;
            margin-bottom: 10px;
        }

        .hero .description {
            font-size: 0.95rem;
            color: #8a6a9a;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Section styling */
        .section {
            margin-bottom: 50px;
            padding: 30px;
            background: rgba(20, 10, 25, 0.6);
            border-radius: 12px;
            border: 1px solid rgba(168, 85, 247, 0.15);
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-size: 1.8rem;
            color: #a855f7;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(168, 85, 247, 0.3);
        }

        .section-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.5));
        }

        /* Kill Chain Diagram */
        .kill-chain-diagram {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .phase-card {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.08) 0%, rgba(220, 38, 38, 0.05) 100%);
            border: 2px solid rgba(168, 85, 247, 0.2);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #a855f7, #dc2626);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .phase-card:hover {
            transform: translateY(-5px);
            border-color: #a855f7;
            box-shadow: 0 8px 25px rgba(168, 85, 247, 0.3);
        }

        .phase-card:hover::before {
            transform: scaleX(1);
        }

        .phase-card.expanded {
            border-color: #dc2626;
            box-shadow: 0 8px 30px rgba(220, 38, 38, 0.4);
        }

        .phase-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #a855f7, #dc2626);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
        }

        .phase-title {
            font-size: 1.3rem;
            color: #e0d5ef;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .phase-summary {
            font-size: 0.9rem;
            color: #9a7aaa;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .phase-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .phase-card.expanded .phase-details {
            max-height: 2000px;
        }

        .expand-indicator {
            text-align: center;
            color: #a855f7;
            font-size: 0.85rem;
            margin-top: 10px;
            opacity: 0.7;
        }

        .phase-card.expanded .expand-indicator {
            display: none;
        }

        .detail-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(168, 85, 247, 0.2);
        }

        .detail-title {
            font-size: 1rem;
            color: #a855f7;
            margin-bottom: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-content {
            font-size: 0.9rem;
            color: #c4b5d4;
            line-height: 1.6;
        }

        .detail-list {
            list-style: none;
            padding-left: 0;
        }

        .detail-list li {
            padding: 8px 0 8px 25px;
            position: relative;
        }

        .detail-list li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 5px;
            color: #dc2626;
        }

        .example-box {
            background: rgba(10, 5, 15, 0.6);
            border-left: 3px solid #dc2626;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
            font-style: italic;
        }

        /* Comparison table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border: 1px solid rgba(168, 85, 247, 0.2);
        }

        .comparison-table th {
            background: rgba(168, 85, 247, 0.2);
            color: #e0d5ef;
            font-weight: 600;
        }

        .comparison-table td {
            background: rgba(20, 10, 25, 0.4);
            color: #c4b5d4;
        }

        .comparison-table tr:hover td {
            background: rgba(168, 85, 247, 0.1);
        }

        /* Diamond Model */
        .diamond-model {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .diamond-element {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(220, 38, 38, 0.05));
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .diamond-element-title {
            font-size: 1.2rem;
            color: #a855f7;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .diamond-element-desc {
            font-size: 0.9rem;
            color: #c4b5d4;
            line-height: 1.5;
        }

        /* Quiz Section */
        .quiz-section {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(168, 85, 247, 0.1));
            border: 2px solid rgba(220, 38, 38, 0.3);
            border-radius: 12px;
            padding: 30px;
            margin-top: 50px;
        }

        .quiz-title {
            font-size: 2rem;
            color: #dc2626;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 15px rgba(220, 38, 38, 0.5);
        }

        .quiz-intro {
            text-align: center;
            color: #c4b5d4;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .question {
            background: rgba(20, 10, 25, 0.6);
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.1rem;
            color: #e0d5ef;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #a855f7, #dc2626);
            color: #fff;
            padding: 4px 12px;
            border-radius: 6px;
            margin-right: 10px;
            font-weight: 600;
        }

        .options {
            list-style: none;
            padding: 0;
        }

        .option {
            background: rgba(168, 85, 247, 0.05);
            border: 2px solid rgba(168, 85, 247, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option:hover {
            background: rgba(168, 85, 247, 0.15);
            border-color: #a855f7;
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(168, 85, 247, 0.2);
            border-color: #a855f7;
        }

        .option.correct {
            background: rgba(34, 197, 94, 0.2);
            border-color: #22c55e;
        }

        .option.incorrect {
            background: rgba(220, 38, 38, 0.2);
            border-color: #dc2626;
        }

        .option input[type="radio"] {
            accent-color: #a855f7;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .option label {
            flex: 1;
            cursor: pointer;
            color: #c4b5d4;
        }

        .submit-quiz {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 30px auto;
            padding: 15px 30px;
            background: linear-gradient(135deg, #a855f7, #dc2626);
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
        }

        .submit-quiz:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(168, 85, 247, 0.6);
        }

        .submit-quiz:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-results {
            text-align: center;
            padding: 30px;
            background: rgba(20, 10, 25, 0.8);
            border-radius: 12px;
            margin-top: 30px;
            display: none;
        }

        .quiz-results.show {
            display: block;
        }

        .score {
            font-size: 3rem;
            color: #a855f7;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
        }

        .score-message {
            font-size: 1.3rem;
            color: #e0d5ef;
            margin-bottom: 20px;
        }

        .feedback {
            font-size: 1rem;
            color: #c4b5d4;
            line-height: 1.6;
        }

        /* Progress indicator */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(168, 85, 247, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #a855f7, #dc2626);
            width: 0;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.6);
        }

        /* Info boxes */
        .info-box {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(59, 130, 246, 0.1));
            border-left: 4px solid #3b82f6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(234, 179, 8, 0.1), rgba(168, 85, 247, 0.1));
            border-left: 4px solid #eab308;
            padding: 20px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .danger-box {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(168, 85, 247, 0.1));
            border-left: 4px solid #dc2626;
            padding: 20px;
            margin: 20px 0;
            border-radius: 6px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .kill-chain-diagram {
                grid-template-columns: 1fr;
            }

            .diamond-model {
                grid-template-columns: 1fr;
            }

            .comparison-table {
                font-size: 0.85rem;
            }

            .header {
                padding: 15px 20px;
            }

            .header-title {
                font-size: 1.2rem;
            }
        }

        /* Loading animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading {
            animation: pulse 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <a href="../index.html" class="back-link">
            <span>‚Üê</span>
            <span>Back to Vault</span>
        </a>
        <h1 class="header-title">
            <span class="skull-icon">üíÄ</span>
            <span>Cyber Kill Chain</span>
        </h1>
        <div style="width: 120px;"></div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>The Cyber Kill Chain</h1>
                <p class="subtitle">Lockheed Martin's Framework for Understanding Cyber Attacks</p>
                <p class="description">
                    Developed by Lockheed Martin, the Cyber Kill Chain is a military-inspired framework
                    that breaks down cyber attacks into seven distinct phases. Understanding each phase
                    empowers defenders to identify, disrupt, and prevent intrusions at multiple stages
                    of the attack lifecycle.
                </p>
            </div>
        </section>

        <!-- Kill Chain Overview -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-icon">‚öîÔ∏è</span>
                <span>The Seven Phases</span>
            </h2>
            <p style="margin-bottom: 30px; color: #c4b5d4; line-height: 1.6;">
                Each phase of the Cyber Kill Chain represents a critical step in a cyber attack.
                Click on any phase to expand and learn about attack techniques, defensive strategies,
                and real-world examples.
            </p>

            <div class="kill-chain-diagram" id="killChainDiagram">
                <!-- Phase 1: Reconnaissance -->
                <div class="phase-card" data-phase="1">
                    <span class="phase-number">1</span>
                    <h3 class="phase-title">Reconnaissance</h3>
                    <p class="phase-summary">
                        Gathering intelligence and identifying potential targets through passive
                        and active information collection.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Open Source Intelligence (OSINT):</strong> Social media, company websites, job postings, DNS records</li>
                                <li><strong>Network Scanning:</strong> Port scanning, vulnerability scanning, service enumeration</li>
                                <li><strong>Social Engineering Reconnaissance:</strong> LinkedIn profiling, organizational charts, technology stack research</li>
                                <li><strong>Physical Reconnaissance:</strong> Dumpster diving, building surveillance, badge cloning</li>
                                <li><strong>Technical Footprinting:</strong> WHOIS lookups, subdomain enumeration, email harvesting</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Implement robust information security policies limiting public data exposure</li>
                                <li>Monitor for unusual reconnaissance activities (port scans, enumeration attempts)</li>
                                <li>Employee training on social media operational security (OPSEC)</li>
                                <li>Use web analytics to detect reconnaissance traffic patterns</li>
                                <li>Deploy honeypots and canary tokens to detect attacker interest</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>APT1 (Comment Crew):</strong> Chinese state-sponsored group extensively researched
                                target organizations through LinkedIn, identifying key employees in IT and security roles.
                                They harvested email addresses, organizational structure, and technology details before
                                launching spear-phishing campaigns.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 2: Weaponization -->
                <div class="phase-card" data-phase="2">
                    <span class="phase-number">2</span>
                    <h3 class="phase-title">Weaponization</h3>
                    <p class="phase-summary">
                        Creating a deliverable malicious payload by coupling exploit code with a backdoor.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Exploit Development:</strong> Creating or acquiring exploits for known vulnerabilities</li>
                                <li><strong>Payload Coupling:</strong> Embedding malware in documents (macros, PDFs, Office files)</li>
                                <li><strong>Backdoor Creation:</strong> Remote Access Trojans (RATs), web shells, reverse shells</li>
                                <li><strong>Obfuscation:</strong> Code obfuscation, encryption, anti-analysis techniques</li>
                                <li><strong>Exploit Kits:</strong> Automated frameworks (Angler, RIG, Magnitude)</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Monitor threat intelligence feeds for new exploit techniques</li>
                                <li>Implement advanced malware analysis capabilities (sandboxing)</li>
                                <li>Deploy email security gateways with attachment analysis</li>
                                <li>Keep vulnerability databases updated and prioritize patching</li>
                                <li>Share threat intelligence with industry partners and ISACs</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>WannaCry Ransomware (2017):</strong> Attackers weaponized the EternalBlue SMB exploit
                                (leaked from NSA) and coupled it with ransomware payload. The weaponized package could
                                self-propagate, leading to a global outbreak affecting 200,000+ systems across 150 countries.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 3: Delivery -->
                <div class="phase-card" data-phase="3">
                    <span class="phase-number">3</span>
                    <h3 class="phase-title">Delivery</h3>
                    <p class="phase-summary">
                        Transmitting the weaponized payload to the target environment through various attack vectors.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Email-Based Delivery:</strong> Spear-phishing, malicious attachments, embedded links</li>
                                <li><strong>Web-Based Delivery:</strong> Watering hole attacks, drive-by downloads, malicious ads</li>
                                <li><strong>USB/Removable Media:</strong> Infected USB drives, BadUSB attacks</li>
                                <li><strong>Supply Chain Compromise:</strong> Trojanized software updates, compromised vendors</li>
                                <li><strong>Network-Based:</strong> Exploitation of internet-facing services, RDP attacks</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Deploy email filtering with attachment sandboxing and link analysis</li>
                                <li>Implement network segmentation and micro-segmentation</li>
                                <li>Use web proxies and URL filtering to block malicious sites</li>
                                <li>Disable USB ports or implement USB device control policies</li>
                                <li>Deploy Intrusion Prevention Systems (IPS) at network boundaries</li>
                                <li>User awareness training on phishing and social engineering</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>SolarWinds Supply Chain Attack (2020):</strong> Attackers compromised SolarWinds'
                                build system and delivered trojanized updates to 18,000+ customers through legitimate
                                software update mechanisms. The delivery method exploited inherent trust in vendor updates.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 4: Exploitation -->
                <div class="phase-card" data-phase="4">
                    <span class="phase-number">4</span>
                    <h3 class="phase-title">Exploitation</h3>
                    <p class="phase-summary">
                        Triggering the vulnerability to execute malicious code on the target system.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Software Vulnerabilities:</strong> Buffer overflows, SQL injection, command injection</li>
                                <li><strong>Zero-Day Exploits:</strong> Previously unknown vulnerabilities</li>
                                <li><strong>Social Engineering:</strong> Tricking users into executing malicious code</li>
                                <li><strong>Configuration Exploits:</strong> Default credentials, misconfigurations</li>
                                <li><strong>Privilege Escalation:</strong> Local exploits to gain elevated access</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Maintain aggressive patch management and vulnerability remediation programs</li>
                                <li>Deploy Endpoint Detection and Response (EDR) solutions</li>
                                <li>Implement application whitelisting and execution controls</li>
                                <li>Use Data Execution Prevention (DEP) and Address Space Layout Randomization (ASLR)</li>
                                <li>Monitor for exploitation indicators (process injection, unusual behavior)</li>
                                <li>Implement least privilege principles and minimize attack surface</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>Equifax Breach (2017):</strong> Attackers exploited CVE-2017-5638, a vulnerability
                                in Apache Struts web framework. Despite a patch being available for months, Equifax failed
                                to update, allowing attackers to exploit the flaw and gain initial access to systems
                                containing 147 million records.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 5: Installation -->
                <div class="phase-card" data-phase="5">
                    <span class="phase-number">5</span>
                    <h3 class="phase-title">Installation</h3>
                    <p class="phase-summary">
                        Installing persistent backdoors and malware to maintain access to compromised systems.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Persistence Mechanisms:</strong> Registry keys, scheduled tasks, services</li>
                                <li><strong>Rootkits:</strong> Kernel-mode and user-mode rootkits</li>
                                <li><strong>Web Shells:</strong> Installing backdoor scripts on web servers</li>
                                <li><strong>DLL Hijacking:</strong> Planting malicious libraries in search paths</li>
                                <li><strong>Bootkits:</strong> Firmware-level persistence (UEFI/BIOS)</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Deploy Host-based Intrusion Detection Systems (HIDS)</li>
                                <li>Monitor file system changes and registry modifications</li>
                                <li>Implement file integrity monitoring (FIM) solutions</li>
                                <li>Use anti-malware with behavioral analysis capabilities</li>
                                <li>Regular system baseline comparisons and anomaly detection</li>
                                <li>Implement application containment and sandboxing</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>NotPetya Attack (2017):</strong> After initial exploitation, the malware installed
                                itself with persistence mechanisms including scheduled tasks and credential dumping tools.
                                It also modified the Master Boot Record (MBR) for persistence, masquerading as ransomware
                                while actually being a wiper with destructive intent.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 6: Command & Control -->
                <div class="phase-card" data-phase="6">
                    <span class="phase-number">6</span>
                    <h3 class="phase-title">Command & Control (C2)</h3>
                    <p class="phase-summary">
                        Establishing communication channels between compromised systems and attacker infrastructure.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>HTTP/HTTPS C2:</strong> Blending with legitimate web traffic</li>
                                <li><strong>DNS Tunneling:</strong> Exfiltrating data through DNS queries</li>
                                <li><strong>Social Media C2:</strong> Using Twitter, Reddit, GitHub for command channels</li>
                                <li><strong>Domain Generation Algorithms (DGA):</strong> Dynamically generating C2 domains</li>
                                <li><strong>Encrypted Channels:</strong> Custom encryption, Tor, VPNs</li>
                                <li><strong>Cloud Services:</strong> Abusing legitimate cloud platforms (Dropbox, Google Drive)</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Deploy network traffic analysis and anomaly detection</li>
                                <li>Implement DNS monitoring and filtering solutions</li>
                                <li>Use threat intelligence feeds to block known C2 infrastructure</li>
                                <li>Deploy SSL/TLS inspection for encrypted traffic analysis</li>
                                <li>Monitor for beaconing behavior and unusual outbound connections</li>
                                <li>Implement egress filtering and restrict outbound connections</li>
                                <li>Use Security Information and Event Management (SIEM) for correlation</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>APT29 (Cozy Bear):</strong> Used sophisticated C2 channels including steganography
                                (hiding commands in image files on public websites), Twitter handles for staging, and
                                multi-tier proxy networks. They employed domain fronting to make C2 traffic appear as
                                legitimate connections to major cloud providers.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase 7: Actions on Objectives -->
                <div class="phase-card" data-phase="7">
                    <span class="phase-number">7</span>
                    <h3 class="phase-title">Actions on Objectives</h3>
                    <p class="phase-summary">
                        Achieving the attacker's ultimate goals such as data exfiltration, destruction, or encryption.
                    </p>
                    <div class="expand-indicator">Click to expand ‚ñº</div>
                    <div class="phase-details">
                        <div class="detail-section">
                            <h4 class="detail-title">üéØ Attack Techniques</h4>
                            <ul class="detail-list">
                                <li><strong>Data Exfiltration:</strong> Stealing intellectual property, credentials, customer data</li>
                                <li><strong>Lateral Movement:</strong> Spreading through the network to reach target assets</li>
                                <li><strong>Privilege Escalation:</strong> Gaining domain admin or root access</li>
                                <li><strong>Ransomware Deployment:</strong> Encrypting critical systems and data</li>
                                <li><strong>Destruction:</strong> Wiping systems, deleting backups, sabotage</li>
                                <li><strong>Persistence Expansion:</strong> Creating multiple backdoors and accounts</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üõ°Ô∏è Defense Strategies</h4>
                            <ul class="detail-list">
                                <li>Implement Data Loss Prevention (DLP) solutions</li>
                                <li>Deploy network segmentation to limit lateral movement</li>
                                <li>Monitor for mass data access and unusual transfer patterns</li>
                                <li>Maintain offline, immutable backups for ransomware recovery</li>
                                <li>Use privileged access management (PAM) and just-in-time access</li>
                                <li>Implement comprehensive logging and retention policies</li>
                                <li>Regular incident response drills and playbook testing</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h4 class="detail-title">üìã Real-World Example</h4>
                            <div class="example-box">
                                <strong>Colonial Pipeline Attack (2021):</strong> After gaining access through compromised
                                VPN credentials, DarkSide ransomware group moved laterally through the network, exfiltrated
                                nearly 100GB of data, and deployed ransomware across IT systems. The attack disrupted fuel
                                distribution across the U.S. East Coast and resulted in a $4.4 million ransom payment.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MITRE ATT&CK Comparison -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-icon">üî¨</span>
                <span>MITRE ATT&CK vs Cyber Kill Chain</span>
            </h2>
            <p style="margin-bottom: 20px; color: #c4b5d4; line-height: 1.6;">
                While the Cyber Kill Chain provides a linear view of attacks, MITRE ATT&CK offers a more
                granular, matrix-based framework with specific techniques and sub-techniques.
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspect</th>
                        <th>Cyber Kill Chain</th>
                        <th>MITRE ATT&CK</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Structure</strong></td>
                        <td>7 sequential phases</td>
                        <td>14 tactics with 100+ techniques</td>
                    </tr>
                    <tr>
                        <td><strong>Focus</strong></td>
                        <td>Perimeter-based attacks</td>
                        <td>Post-compromise behavior</td>
                    </tr>
                    <tr>
                        <td><strong>Granularity</strong></td>
                        <td>High-level phases</td>
                        <td>Detailed techniques and sub-techniques</td>
                    </tr>
                    <tr>
                        <td><strong>Use Case</strong></td>
                        <td>Understanding attack flow</td>
                        <td>Detection engineering, threat hunting</td>
                    </tr>
                    <tr>
                        <td><strong>Attack Model</strong></td>
                        <td>Linear progression</td>
                        <td>Non-linear, iterative</td>
                    </tr>
                    <tr>
                        <td><strong>Updates</strong></td>
                        <td>Static framework</td>
                        <td>Continuously updated with new TTPs</td>
                    </tr>
                    <tr>
                        <td><strong>Best For</strong></td>
                        <td>Executive communication, strategic defense</td>
                        <td>SOC operations, purple teaming</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box" style="margin-top: 25px;">
                <h4 style="color: #3b82f6; margin-bottom: 10px; font-size: 1.1rem;">üí° Integration Strategy</h4>
                <p style="color: #c4b5d4; line-height: 1.6;">
                    Many organizations use both frameworks complementarily: the Cyber Kill Chain for strategic
                    planning and stakeholder communication, and MITRE ATT&CK for tactical detection and response.
                    The Kill Chain helps identify WHERE in the attack lifecycle you are, while ATT&CK helps
                    understand WHAT specific techniques are being used.
                </p>
            </div>
        </section>

        <!-- Diamond Model -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-icon">üíé</span>
                <span>Diamond Model of Intrusion Analysis</span>
            </h2>
            <p style="margin-bottom: 20px; color: #c4b5d4; line-height: 1.6;">
                The Diamond Model complements the Kill Chain by focusing on the relationships between
                four core features of any intrusion event.
            </p>

            <div class="diamond-model">
                <div class="diamond-element">
                    <div class="diamond-element-title">üé≠ Adversary</div>
                    <div class="diamond-element-desc">
                        The actor or organization conducting the attack. Can be state-sponsored APT groups,
                        cybercriminal organizations, hacktivists, or insiders. Attribution is often challenging
                        and based on TTPs, infrastructure, and motivations.
                    </div>
                </div>

                <div class="diamond-element">
                    <div class="diamond-element-title">üõ†Ô∏è Capability</div>
                    <div class="diamond-element-desc">
                        The tools, techniques, and procedures (TTPs) used in the attack. Includes malware, exploits,
                        delivery mechanisms, and operational tradecraft. Understanding capabilities helps predict
                        future attacks and defensive priorities.
                    </div>
                </div>

                <div class="diamond-element">
                    <div class="diamond-element-title">üèóÔ∏è Infrastructure</div>
                    <div class="diamond-element-desc">
                        The physical or logical systems controlled by adversaries for C2, staging, and delivery.
                        Includes domains, IP addresses, cloud instances, compromised websites, and bulletproof
                        hosting providers.
                    </div>
                </div>

                <div class="diamond-element">
                    <div class="diamond-element-title">üéØ Victim</div>
                    <div class="diamond-element-desc">
                        The target organization, individual, or asset. Understanding victim selection patterns
                        helps identify targeting criteria (industry, technology, geography) and predict future
                        potential targets.
                    </div>
                </div>
            </div>

            <div class="warning-box" style="margin-top: 25px;">
                <h4 style="color: #eab308; margin-bottom: 10px; font-size: 1.1rem;">‚ö° Analytical Power</h4>
                <p style="color: #c4b5d4; line-height: 1.6;">
                    The Diamond Model's true value lies in its pivot capabilities. By understanding one vertex
                    (e.g., infrastructure), you can pivot to discover related vertices (adversaries using that
                    infrastructure, capabilities deployed from it, other victims targeted). This enables proactive
                    threat intelligence and pattern recognition across seemingly unrelated incidents.
                </p>
            </div>
        </section>

        <!-- Defensive Strategy Summary -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-icon">üõ°Ô∏è</span>
                <span>Breaking the Kill Chain: Layered Defense</span>
            </h2>
            <p style="margin-bottom: 20px; color: #c4b5d4; line-height: 1.6;">
                The fundamental principle of Kill Chain defense is that adversaries must successfully complete
                every phase, but defenders only need to successfully disrupt one phase to break the chain.
            </p>

            <div class="info-box">
                <h4 style="color: #3b82f6; margin-bottom: 15px; font-size: 1.1rem;">üéØ Defense in Depth Strategy</h4>
                <ul class="detail-list">
                    <li><strong>Early Detection (Recon/Weaponization):</strong> Cheapest and most effective. Threat intelligence, deception technology, OSINT monitoring</li>
                    <li><strong>Perimeter Defense (Delivery/Exploitation):</strong> Email security, web filtering, network segmentation, patch management</li>
                    <li><strong>Endpoint Protection (Installation):</strong> EDR, application whitelisting, HIDS, file integrity monitoring</li>
                    <li><strong>Network Monitoring (C2):</strong> Network traffic analysis, DNS monitoring, egress filtering, SIEM correlation</li>
                    <li><strong>Data Protection (Actions on Objectives):</strong> DLP, encryption, access controls, backup integrity</li>
                </ul>
            </div>

            <div class="danger-box" style="margin-top: 25px;">
                <h4 style="color: #dc2626; margin-bottom: 10px; font-size: 1.1rem;">üö® Critical Reality</h4>
                <p style="color: #c4b5d4; line-height: 1.6;">
                    No single defensive measure is 100% effective. Sophisticated adversaries will eventually breach
                    perimeter defenses. The goal is not perfect prevention but rather: <strong>(1)</strong> Make
                    attacks so costly that adversaries move to easier targets, <strong>(2)</strong> Detect intrusions
                    early enough to respond before critical damage, and <strong>(3)</strong> Maintain resilience
                    through backups, segmentation, and incident response capabilities.
                </p>
            </div>
        </section>

        <!-- Quiz Section -->
        <section class="quiz-section">
            <h2 class="quiz-title">‚öîÔ∏è Test Your Knowledge</h2>
            <p class="quiz-intro">
                Complete this 10-question assessment to validate your understanding of the Cyber Kill Chain
                and earn completion credit for this module.
            </p>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <form id="quizForm">
                <!-- Question 1 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q1</span>
                        Which phase of the Cyber Kill Chain involves creating a malicious payload by coupling
                        an exploit with a backdoor?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q1" value="a" id="q1a">
                            <label for="q1a">Reconnaissance</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q1" value="b" id="q1b">
                            <label for="q1b">Weaponization</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q1" value="c" id="q1c">
                            <label for="q1c">Delivery</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q1" value="d" id="q1d">
                            <label for="q1d">Exploitation</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 2 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q2</span>
                        What is the primary advantage of disrupting an attack during the Reconnaissance phase?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q2" value="a" id="q2a">
                            <label for="q2a">It's the easiest phase to detect</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q2" value="b" id="q2b">
                            <label for="q2b">It's the most cost-effective defense point</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q2" value="c" id="q2c">
                            <label for="q2c">Attackers cannot bypass reconnaissance</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q2" value="d" id="q2d">
                            <label for="q2d">It provides legal evidence for prosecution</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 3 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q3</span>
                        Which attack vector was used in the SolarWinds supply chain attack for the Delivery phase?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q3" value="a" id="q3a">
                            <label for="q3a">Spear-phishing emails</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q3" value="b" id="q3b">
                            <label for="q3b">Trojanized software updates</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q3" value="c" id="q3c">
                            <label for="q3c">USB drive infection</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q3" value="d" id="q3d">
                            <label for="q3d">Watering hole attack</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 4 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q4</span>
                        What defensive technology is most effective at disrupting the Command & Control (C2) phase?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q4" value="a" id="q4a">
                            <label for="q4a">Antivirus software</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q4" value="b" id="q4b">
                            <label for="q4b">Network traffic analysis and egress filtering</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q4" value="c" id="q4c">
                            <label for="q4c">Email security gateway</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q4" value="d" id="q4d">
                            <label for="q4d">Patch management</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 5 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q5</span>
                        How many phases are in the Lockheed Martin Cyber Kill Chain?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q5" value="a" id="q5a">
                            <label for="q5a">5 phases</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q5" value="b" id="q5b">
                            <label for="q5b">7 phases</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q5" value="c" id="q5c">
                            <label for="q5c">9 phases</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q5" value="d" id="q5d">
                            <label for="q5d">14 phases</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 6 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q6</span>
                        In the Diamond Model of Intrusion Analysis, what are the four core features?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q6" value="a" id="q6a">
                            <label for="q6a">Attacker, Malware, Network, Data</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q6" value="b" id="q6b">
                            <label for="q6b">Adversary, Capability, Infrastructure, Victim</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q6" value="c" id="q6c">
                            <label for="q6c">Threat, Vulnerability, Risk, Impact</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q6" value="d" id="q6d">
                            <label for="q6d">Prevention, Detection, Response, Recovery</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 7 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q7</span>
                        Which technique is commonly used during the Installation phase to maintain persistent access?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q7" value="a" id="q7a">
                            <label for="q7a">Port scanning</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q7" value="b" id="q7b">
                            <label for="q7b">Creating registry keys and scheduled tasks</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q7" value="c" id="q7c">
                            <label for="q7c">DNS enumeration</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q7" value="d" id="q7d">
                            <label for="q7d">Social engineering</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 8 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q8</span>
                        What is the key difference between the Cyber Kill Chain and MITRE ATT&CK frameworks?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q8" value="a" id="q8a">
                            <label for="q8a">Kill Chain is for defense, ATT&CK is for offense</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q8" value="b" id="q8b">
                            <label for="q8b">Kill Chain is linear and high-level, ATT&CK is granular and non-linear</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q8" value="c" id="q8c">
                            <label for="q8c">ATT&CK only covers reconnaissance</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q8" value="d" id="q8d">
                            <label for="q8d">They are identical frameworks with different names</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 9 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q9</span>
                        During which phase would an attacker use Domain Generation Algorithms (DGA)?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q9" value="a" id="q9a">
                            <label for="q9a">Weaponization</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q9" value="b" id="q9b">
                            <label for="q9b">Delivery</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q9" value="c" id="q9c">
                            <label for="q9c">Command & Control</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q9" value="d" id="q9d">
                            <label for="q9d">Actions on Objectives</label>
                        </li>
                    </ul>
                </div>

                <!-- Question 10 -->
                <div class="question">
                    <p class="question-text">
                        <span class="question-number">Q10</span>
                        What is the strategic advantage of understanding the Kill Chain for defenders?
                    </p>
                    <ul class="options">
                        <li class="option">
                            <input type="radio" name="q10" value="a" id="q10a">
                            <label for="q10a">Defenders must disrupt all phases to succeed</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q10" value="b" id="q10b">
                            <label for="q10b">Defenders only need to successfully disrupt one phase to break the attack</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q10" value="c" id="q10c">
                            <label for="q10c">It eliminates the need for incident response</label>
                        </li>
                        <li class="option">
                            <input type="radio" name="q10" value="d" id="q10d">
                            <label for="q10d">It guarantees 100% prevention of all attacks</label>
                        </li>
                    </ul>
                </div>

                <button type="submit" class="submit-quiz" id="submitBtn">Submit Quiz</button>
            </form>

            <div class="quiz-results" id="quizResults">
                <div class="score" id="scoreDisplay"></div>
                <div class="score-message" id="scoreMessage"></div>
                <div class="feedback" id="feedbackText"></div>
            </div>
        </section>
    </div>

    <script>
        // Phase card expansion functionality
        document.addEventListener('DOMContentLoaded', function() {
            const phaseCards = document.querySelectorAll('.phase-card');

            phaseCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Toggle expanded state
                    this.classList.toggle('expanded');

                    // Close other cards (optional - remove if you want multiple cards open)
                    // phaseCards.forEach(otherCard => {
                    //     if (otherCard !== this) {
                    //         otherCard.classList.remove('expanded');
                    //     }
                    // });
                });
            });

            // Quiz functionality
            const quizForm = document.getElementById('quizForm');
            const submitBtn = document.getElementById('submitBtn');
            const quizResults = document.getElementById('quizResults');
            const progressFill = document.getElementById('progressFill');

            // Correct answers
            const answers = {
                q1: 'b',  // Weaponization
                q2: 'b',  // Cost-effective defense point
                q3: 'b',  // Trojanized software updates
                q4: 'b',  // Network traffic analysis
                q5: 'b',  // 7 phases
                q6: 'b',  // Adversary, Capability, Infrastructure, Victim
                q7: 'b',  // Registry keys and scheduled tasks
                q8: 'b',  // Linear vs granular
                q9: 'c',  // Command & Control
                q10: 'b'  // Only need to disrupt one phase
            };

            // Track progress
            const allRadios = quizForm.querySelectorAll('input[type="radio"]');
            allRadios.forEach(radio => {
                radio.addEventListener('change', updateProgress);
            });

            function updateProgress() {
                const totalQuestions = 10;
                let answeredQuestions = 0;

                for (let i = 1; i <= totalQuestions; i++) {
                    if (quizForm.querySelector(`input[name="q${i}"]:checked`)) {
                        answeredQuestions++;
                    }
                }

                const progress = (answeredQuestions / totalQuestions) * 100;
                progressFill.style.width = progress + '%';

                // Enable submit button when all questions answered
                if (answeredQuestions === totalQuestions) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            }

            // Handle quiz submission
            quizForm.addEventListener('submit', function(e) {
                e.preventDefault();

                let score = 0;
                const totalQuestions = Object.keys(answers).length;

                // Check each answer
                for (let question in answers) {
                    const selectedAnswer = quizForm.querySelector(`input[name="${question}"]:checked`);
                    const options = quizForm.querySelectorAll(`input[name="${question}"]`);

                    if (selectedAnswer) {
                        const selectedOption = selectedAnswer.parentElement;
                        const correctOption = quizForm.querySelector(`input[name="${question}"][value="${answers[question]}"]`).parentElement;

                        // Visual feedback
                        if (selectedAnswer.value === answers[question]) {
                            score++;
                            selectedOption.classList.add('correct');
                        } else {
                            selectedOption.classList.add('incorrect');
                            correctOption.classList.add('correct');
                        }

                        // Disable all options
                        options.forEach(opt => opt.disabled = true);
                    }
                }

                // Calculate percentage
                const percentage = Math.round((score / totalQuestions) * 100);

                // Display results
                document.getElementById('scoreDisplay').textContent = `${score}/${totalQuestions}`;

                let message, feedback;
                if (percentage >= 90) {
                    message = 'üèÜ Outstanding! Kill Chain Master!';
                    feedback = 'You have demonstrated exceptional understanding of the Cyber Kill Chain framework, defensive strategies, and related frameworks. You\'re ready to apply this knowledge in real-world threat analysis and defense planning.';
                } else if (percentage >= 70) {
                    message = 'üéØ Great Job! Solid Understanding!';
                    feedback = 'You have a strong grasp of the Cyber Kill Chain concepts. Review the phases where you missed questions to strengthen your knowledge further.';
                } else if (percentage >= 50) {
                    message = 'üìö Good Effort! Keep Learning!';
                    feedback = 'You understand the basics but should review the material, especially focusing on defensive strategies and real-world applications. Consider re-reading the expanded phase details.';
                } else {
                    message = 'üîÑ Review Recommended';
                    feedback = 'The Cyber Kill Chain is fundamental to understanding cyber attacks and defense. We recommend reviewing all seven phases carefully and exploring the defensive strategies for each. Take your time with the material and try again.';
                }

                document.getElementById('scoreMessage').textContent = message;
                document.getElementById('feedbackText').textContent = feedback;
                quizResults.classList.add('show');

                // Disable submit button
                submitBtn.disabled = true;
                submitBtn.textContent = 'Quiz Completed';

                // Scroll to results
                quizResults.scrollIntoView({ behavior: 'smooth', block: 'center' });

                // Record completion with ModuleProgress
                if (typeof ModuleProgress !== 'undefined') {
                    ModuleProgress.recordCompletion('dark-arts', 'cyber-kill-chain', {
                        score: score,
                        totalQuestions: totalQuestions,
                        percentage: percentage,
                        timestamp: new Date().toISOString()
                    });
                }

                // Award achievement for high scores
                if (typeof AchievementManager !== 'undefined') {
                    if (percentage === 100) {
                        AchievementManager.unlock('kill-chain-perfect');
                    } else if (percentage >= 90) {
                        AchievementManager.unlock('kill-chain-master');
                    }
                }
            });

            // Initialize progress
            updateProgress();
        });

        // Option click handling (for better UX)
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function(e) {
                if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'LABEL') {
                    const radio = this.querySelector('input[type="radio"]');
                    if (!radio.disabled) {
                        radio.checked = true;
                        radio.dispatchEvent(new Event('change'));
                    }
                }
            });
        });
    </script>
<script src="../../components/FluxCapacitor.js"></script>
</body>
</html>
