<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('dark-arts');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandbox Setup Guide - The Dark Arts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0a0508;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #c0a0d0;
            line-height: 1.7;
        }

        /* Header */
        .module-header {
            background: linear-gradient(180deg, rgba(60, 30, 80, 0.3) 0%, transparent 100%);
            border-bottom: 1px solid rgba(100, 60, 130, 0.2);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            background: rgba(80, 40, 100, 0.2);
            border: 1px solid rgba(100, 60, 130, 0.3);
            color: #9a7aaa;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(100, 60, 130, 0.3);
        }

        .module-title {
            font-size: 1.1rem;
            color: #b090c0;
            letter-spacing: 0.1em;
        }

        .progress-bar {
            width: 200px;
            height: 6px;
            background: rgba(60, 30, 80, 0.3);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6a4a8a, #9a6aba);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Main content */
        .module-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px;
        }

        /* Section styling */
        .section {
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-number {
            font-size: 0.7rem;
            color: #6a4a7a;
            letter-spacing: 0.3em;
            margin-bottom: 10px;
        }

        .section-title {
            font-size: 1.8rem;
            color: #c0a0d0;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .section-content {
            color: #a080b0;
            font-size: 1rem;
        }

        .section-content p {
            margin-bottom: 15px;
        }

        /* Intro banner */
        .intro-banner {
            background: linear-gradient(135deg, rgba(60, 30, 80, 0.4), rgba(40, 20, 60, 0.3));
            border: 1px solid rgba(80, 50, 100, 0.3);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            margin-bottom: 50px;
        }

        .intro-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
        }

        .intro-title {
            font-size: 2rem;
            color: #c0a0d0;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .intro-text {
            color: #9080a0;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Warning callout */
        .callout {
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }

        .callout.warning {
            background: rgba(100, 80, 40, 0.2);
            border-left: 4px solid #c0a060;
            color: #d0c090;
        }

        .callout.danger {
            background: rgba(100, 40, 40, 0.2);
            border-left: 4px solid #c06060;
            color: #d09090;
        }

        .callout.info {
            background: rgba(40, 60, 100, 0.2);
            border-left: 4px solid #6090c0;
            color: #90b0d0;
        }

        .callout.success {
            background: rgba(40, 100, 60, 0.2);
            border-left: 4px solid #60c080;
            color: #90d0a0;
        }

        /* VM Cards */
        .vm-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .vm-card {
            background: rgba(20, 10, 30, 0.6);
            border: 1px solid rgba(80, 50, 100, 0.3);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .vm-card:hover {
            border-color: rgba(120, 80, 150, 0.5);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transform: translateY(-5px);
        }

        .vm-header {
            padding: 25px;
            background: linear-gradient(135deg, rgba(60, 30, 80, 0.4), rgba(40, 20, 60, 0.3));
            border-bottom: 1px solid rgba(80, 50, 100, 0.2);
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .vm-logo {
            width: 60px;
            height: 60px;
            background: rgba(40, 20, 60, 0.5);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .vm-info h3 {
            color: #c0a0d0;
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .vm-info span {
            color: #8a6a9a;
            font-size: 0.85rem;
        }

        .vm-body {
            padding: 25px;
        }

        .vm-description {
            color: #a090b0;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .vm-features {
            margin-bottom: 20px;
        }

        .feature-label {
            font-size: 0.7rem;
            color: #7a5a8a;
            letter-spacing: 0.2em;
            margin-bottom: 10px;
        }

        .feature-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .feature-tag {
            padding: 5px 12px;
            background: rgba(60, 30, 80, 0.4);
            border-radius: 15px;
            font-size: 0.8rem;
            color: #a090b0;
        }

        .vm-link {
            display: inline-block;
            padding: 10px 20px;
            background: rgba(80, 40, 100, 0.3);
            border: 1px solid rgba(100, 60, 130, 0.3);
            border-radius: 6px;
            color: #b090c0;
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .vm-link:hover {
            background: rgba(100, 60, 130, 0.4);
            border-color: rgba(120, 80, 150, 0.5);
        }

        /* Network diagram */
        .network-diagram {
            background: rgba(15, 8, 20, 0.8);
            border: 1px solid rgba(80, 50, 100, 0.3);
            border-radius: 8px;
            padding: 30px;
            margin: 30px 0;
        }

        .diagram-title {
            text-align: center;
            color: #9a7aaa;
            font-size: 0.85rem;
            margin-bottom: 20px;
            letter-spacing: 0.1em;
        }

        .network-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            padding: 20px;
        }

        .network-node {
            background: rgba(40, 20, 60, 0.5);
            border: 2px solid rgba(80, 50, 100, 0.4);
            border-radius: 8px;
            padding: 20px 25px;
            text-align: center;
            min-width: 120px;
        }

        .network-node.host {
            border-color: rgba(60, 100, 60, 0.5);
            background: rgba(40, 60, 40, 0.3);
        }

        .network-node.malware-vm {
            border-color: rgba(100, 60, 60, 0.5);
            background: rgba(60, 40, 40, 0.3);
        }

        .network-node.isolated {
            border-color: rgba(100, 80, 40, 0.5);
            background: rgba(60, 50, 30, 0.3);
        }

        .node-icon {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .node-label {
            font-size: 0.8rem;
            color: #a090b0;
        }

        .network-arrow {
            color: #6a4a7a;
            font-size: 1.5rem;
        }

        .network-blocker {
            color: #c06060;
            font-size: 1.8rem;
        }

        /* Steps list */
        .steps-container {
            margin: 30px 0;
        }

        .step-item {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(25, 12, 35, 0.4);
            border-radius: 8px;
            border-left: 3px solid rgba(100, 60, 130, 0.5);
            transition: all 0.3s ease;
        }

        .step-item:hover {
            background: rgba(35, 18, 50, 0.5);
            border-left-color: rgba(120, 80, 150, 0.7);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: rgba(80, 40, 100, 0.4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #c0a0d0;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content h4 {
            color: #b090c0;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .step-content p {
            color: #9080a0;
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* Code blocks */
        pre {
            background: rgba(15, 8, 20, 0.9);
            border: 1px solid rgba(60, 30, 80, 0.3);
            border-radius: 6px;
            padding: 20px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: #a090b0;
            margin: 15px 0;
        }

        code {
            background: rgba(40, 20, 60, 0.5);
            padding: 2px 8px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #c0a0d0;
        }

        .code-comment {
            color: #6a5a7a;
        }

        .code-command {
            color: #9a9aca;
        }

        .code-output {
            color: #7a9a7a;
        }

        /* Tool grid */
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .tool-item {
            background: rgba(30, 15, 40, 0.5);
            border: 1px solid rgba(60, 30, 80, 0.3);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .tool-item:hover {
            background: rgba(40, 20, 55, 0.6);
            border-color: rgba(80, 50, 100, 0.5);
            transform: translateY(-3px);
        }

        .tool-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .tool-name {
            color: #b090c0;
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .tool-desc {
            color: #7a6a8a;
            font-size: 0.75rem;
        }

        /* Checklist */
        .checklist {
            background: rgba(20, 10, 30, 0.5);
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(60, 30, 80, 0.2);
            color: #a090b0;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .check-box {
            width: 22px;
            height: 22px;
            border: 2px solid rgba(80, 50, 100, 0.5);
            border-radius: 4px;
            cursor: pointer;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .check-box:hover {
            border-color: rgba(120, 80, 150, 0.7);
        }

        .check-box.checked {
            background: rgba(60, 100, 60, 0.4);
            border-color: rgba(80, 150, 80, 0.6);
        }

        .check-box.checked::after {
            content: '‚úì';
            color: #90d090;
            font-size: 0.9rem;
        }

        /* Best practices grid */
        .practices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .practice-card {
            background: rgba(25, 12, 35, 0.5);
            border: 1px solid rgba(80, 50, 100, 0.3);
            border-radius: 8px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .practice-card:hover {
            border-color: rgba(100, 60, 130, 0.5);
            transform: translateY(-3px);
        }

        .practice-card.do {
            border-left: 4px solid #60a060;
        }

        .practice-card.dont {
            border-left: 4px solid #a06060;
        }

        .practice-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .practice-icon {
            font-size: 1.5rem;
        }

        .practice-label {
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            padding: 3px 10px;
            border-radius: 10px;
        }

        .practice-label.do {
            background: rgba(60, 100, 60, 0.3);
            color: #90d090;
        }

        .practice-label.dont {
            background: rgba(100, 60, 60, 0.3);
            color: #d09090;
        }

        .practice-content {
            color: #a090b0;
            font-size: 0.9rem;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid rgba(80, 50, 100, 0.2);
        }

        .nav-btn {
            padding: 15px 30px;
            background: rgba(60, 30, 80, 0.3);
            border: 1px solid rgba(100, 60, 130, 0.3);
            color: #9a7aaa;
            font-size: 0.9rem;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .nav-btn:hover {
            background: rgba(80, 40, 100, 0.4);
            border-color: rgba(120, 80, 150, 0.5);
            color: #c0a0d0;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, rgba(80, 40, 100, 0.5), rgba(100, 60, 130, 0.4));
        }

        /* Completion */
        .completion-section {
            text-align: center;
            padding: 60px 40px;
            background: linear-gradient(180deg, transparent, rgba(60, 30, 80, 0.1));
            border-radius: 8px;
            margin-top: 60px;
        }

        .completion-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .completion-title {
            font-size: 1.8rem;
            color: #c0a0d0;
            margin-bottom: 15px;
        }

        .completion-text {
            color: #9080a0;
            margin-bottom: 30px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .completion-btn {
            display: inline-block;
            padding: 15px 40px;
            background: linear-gradient(135deg, rgba(80, 40, 100, 0.6), rgba(100, 60, 130, 0.5));
            border: 1px solid rgba(120, 80, 150, 0.5);
            color: #c0a0d0;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .completion-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(100, 50, 150, 0.3);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(20, 10, 30, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(80, 50, 100, 0.5);
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <header class="module-header">
        <div class="header-left">
            <a href="../index.html" class="back-btn">&larr; Back to Vault</a>
            <span class="module-title">Sandbox Setup Guide</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
    </header>

    <main class="module-content">
        <!-- Intro -->
        <div class="intro-banner">
            <div class="intro-icon">üß™</div>
            <h1 class="intro-title">Building Your Malware Lab</h1>
            <p class="intro-text">A proper sandbox environment is essential for safe malware analysis. This guide covers setting up isolated virtual machines with the right tools.</p>
        </div>

        <!-- Section 1: Why Sandbox -->
        <section class="section" id="section1">
            <div class="section-number">SECTION 01</div>
            <h2 class="section-title">Why Use a Sandbox?</h2>
            <div class="section-content">
                <p>A <strong>sandbox</strong> is an isolated environment where you can execute and analyze malware without risking your real systems or network. Think of it as a controlled blast zone.</p>

                <div class="callout danger">
                    <strong>Never analyze malware on your host machine.</strong> Even "looking at" a sample can trigger execution through previews, thumbnail generation, or AV scanning. Always use isolation.
                </div>

                <div class="tool-grid">
                    <div class="tool-item">
                        <div class="tool-icon">üîí</div>
                        <div class="tool-name">Isolation</div>
                        <div class="tool-desc">Malware can't escape to infect real systems</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üì∏</div>
                        <div class="tool-name">Snapshots</div>
                        <div class="tool-desc">Instantly restore to clean state</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üîç</div>
                        <div class="tool-name">Monitoring</div>
                        <div class="tool-desc">Capture all system changes</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üåê</div>
                        <div class="tool-name">Network Control</div>
                        <div class="tool-desc">Intercept C2 traffic safely</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: VM Options -->
        <section class="section" id="section2">
            <div class="section-number">SECTION 02</div>
            <h2 class="section-title">Choose Your Analysis VMs</h2>
            <div class="section-content">
                <p>For malware analysis, you'll typically want both a <strong>Windows victim VM</strong> (where malware runs) and a <strong>Linux analysis VM</strong> (for tools and network simulation).</p>

                <div class="vm-grid">
                    <div class="vm-card">
                        <div class="vm-header">
                            <div class="vm-logo">üî¨</div>
                            <div class="vm-info">
                                <h3>REMnux</h3>
                                <span>Linux Analysis Distribution</span>
                            </div>
                        </div>
                        <div class="vm-body">
                            <p class="vm-description">
                                REMnux is a Linux distribution purpose-built for reverse engineering and malware analysis. It comes pre-loaded with 600+ tools for static analysis, network analysis, and memory forensics.
                            </p>
                            <div class="vm-features">
                                <div class="feature-label">INCLUDED TOOLS</div>
                                <div class="feature-list">
                                    <span class="feature-tag">Ghidra</span>
                                    <span class="feature-tag">Radare2</span>
                                    <span class="feature-tag">Volatility</span>
                                    <span class="feature-tag">YARA</span>
                                    <span class="feature-tag">Wireshark</span>
                                    <span class="feature-tag">oletools</span>
                                    <span class="feature-tag">pefile</span>
                                    <span class="feature-tag">INetSim</span>
                                </div>
                            </div>
                            <a href="https://remnux.org/" target="_blank" class="vm-link">Download REMnux ‚Üí</a>
                        </div>
                    </div>

                    <div class="vm-card">
                        <div class="vm-header">
                            <div class="vm-logo">üî•</div>
                            <div class="vm-info">
                                <h3>FlareVM</h3>
                                <span>Windows Analysis Environment</span>
                            </div>
                        </div>
                        <div class="vm-body">
                            <p class="vm-description">
                                FlareVM transforms a Windows VM into a malware analysis powerhouse. It's a collection of scripts that installs 140+ security tools automatically via Chocolatey and Boxstarter.
                            </p>
                            <div class="vm-features">
                                <div class="feature-label">INCLUDED TOOLS</div>
                                <div class="feature-list">
                                    <span class="feature-tag">x64dbg</span>
                                    <span class="feature-tag">IDA Free</span>
                                    <span class="feature-tag">Process Hacker</span>
                                    <span class="feature-tag">PEStudio</span>
                                    <span class="feature-tag">Procmon</span>
                                    <span class="feature-tag">Autoruns</span>
                                    <span class="feature-tag">CFF Explorer</span>
                                    <span class="feature-tag">HxD</span>
                                </div>
                            </div>
                            <a href="https://github.com/mandiant/flare-vm" target="_blank" class="vm-link">Get FlareVM ‚Üí</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Network Isolation -->
        <section class="section" id="section3">
            <div class="section-number">SECTION 03</div>
            <h2 class="section-title">Network Isolation</h2>
            <div class="section-content">
                <p><strong>Network isolation is critical.</strong> Malware often tries to contact C2 servers, spread laterally, or exfiltrate data. You must contain this traffic.</p>

                <div class="network-diagram">
                    <div class="diagram-title">RECOMMENDED NETWORK ARCHITECTURE</div>
                    <div class="network-visual">
                        <div class="network-node host">
                            <div class="node-icon">üíª</div>
                            <div class="node-label">Host Machine</div>
                        </div>
                        <div class="network-blocker">üö´</div>
                        <div class="network-node isolated">
                            <div class="node-icon">üåê</div>
                            <div class="node-label">Host-Only Network</div>
                        </div>
                        <div class="network-arrow">‚Üî</div>
                        <div class="network-node malware-vm">
                            <div class="node-icon">‚ö†Ô∏è</div>
                            <div class="node-label">Malware VM</div>
                        </div>
                    </div>
                </div>

                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Create Host-Only Network</h4>
                            <p>In VirtualBox/VMware, create an isolated virtual network that cannot reach the internet or your LAN.</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Disable Shared Folders</h4>
                            <p>Turn off any folder sharing between host and guest VMs. Malware could escape via shared directories.</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Use INetSim for Fake Services</h4>
                            <p>Run INetSim on your REMnux VM to simulate internet services (HTTP, DNS, SMTP) and capture malware traffic.</p>
                        </div>
                    </div>
                </div>

                <pre><span class="code-comment"># VirtualBox: Create host-only network</span>
<span class="code-command">VBoxManage hostonlyif create</span>
<span class="code-command">VBoxManage hostonlyif ipconfig vboxnet0 --ip 10.0.0.1 --netmask 255.255.255.0</span>

<span class="code-comment"># Configure VM to use host-only adapter</span>
<span class="code-command">VBoxManage modifyvm "MalwareVM" --nic1 hostonly --hostonlyadapter1 vboxnet0</span></pre>

                <div class="callout warning">
                    <strong>For Behavioral Analysis Only:</strong> If you need real internet (to see actual C2 traffic), use a VPN endpoint that can be burned, on a physically isolated network. Never route malware traffic through your regular network.
                </div>
            </div>
        </section>

        <!-- Section 4: VM Hardening -->
        <section class="section" id="section4">
            <div class="section-number">SECTION 04</div>
            <h2 class="section-title">VM Configuration & Anti-Detection</h2>
            <div class="section-content">
                <p>Many malware samples detect VMs and sandbox environments, then refuse to run. Here's how to make your analysis VM less detectable while staying safe.</p>

                <div class="checklist">
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Remove VM guest additions/tools (or rename VMware/VBox processes)</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Allocate realistic resources (4GB+ RAM, 2+ CPU cores)</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Create "normal" user files (documents, browser history)</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Set realistic hostname and username (not "Malware-Analysis")</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Install common software (Office, browsers, Adobe Reader)</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Disable Windows Defender / AV (to allow malware to run)</span>
                    </div>
                    <div class="checklist-item" onclick="toggleCheck(this)">
                        <div class="check-box"></div>
                        <span>Take a CLEAN SNAPSHOT before any analysis</span>
                    </div>
                </div>

                <pre><span class="code-comment"># Registry changes to hide VM artifacts (run as admin)</span>
<span class="code-command">reg add "HKLM\SYSTEM\CurrentControlSet\Control\SystemInformation" /v SystemProductName /t REG_SZ /d "Dell OptiPlex 7090" /f</span>
<span class="code-command">reg add "HKLM\HARDWARE\Description\System\BIOS" /v SystemManufacturer /t REG_SZ /d "Dell Inc." /f</span></pre>
            </div>
        </section>

        <!-- Section 5: Essential Tools -->
        <section class="section" id="section5">
            <div class="section-number">SECTION 05</div>
            <h2 class="section-title">Essential Analysis Tools</h2>
            <div class="section-content">
                <p>Beyond REMnux and FlareVM, here are the must-have tools you'll use daily:</p>

                <h3 style="color: #b090c0; font-size: 1.1rem; margin: 25px 0 15px;">Static Analysis</h3>
                <div class="tool-grid">
                    <div class="tool-item">
                        <div class="tool-icon">üî¨</div>
                        <div class="tool-name">PEStudio</div>
                        <div class="tool-desc">Initial PE triage</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üê≤</div>
                        <div class="tool-name">Ghidra</div>
                        <div class="tool-desc">Disassembly & decompilation</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üìú</div>
                        <div class="tool-name">strings / FLOSS</div>
                        <div class="tool-desc">String extraction</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üìä</div>
                        <div class="tool-name">Detect It Easy</div>
                        <div class="tool-desc">Packer detection</div>
                    </div>
                </div>

                <h3 style="color: #b090c0; font-size: 1.1rem; margin: 25px 0 15px;">Dynamic Analysis</h3>
                <div class="tool-grid">
                    <div class="tool-item">
                        <div class="tool-icon">üêõ</div>
                        <div class="tool-name">x64dbg</div>
                        <div class="tool-desc">Debugging</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üëÅÔ∏è</div>
                        <div class="tool-name">Process Monitor</div>
                        <div class="tool-desc">System activity</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">ü¶à</div>
                        <div class="tool-name">Wireshark</div>
                        <div class="tool-desc">Network capture</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">‚öôÔ∏è</div>
                        <div class="tool-name">Process Hacker</div>
                        <div class="tool-desc">Process inspection</div>
                    </div>
                </div>

                <h3 style="color: #b090c0; font-size: 1.1rem; margin: 25px 0 15px;">Document Analysis</h3>
                <div class="tool-grid">
                    <div class="tool-item">
                        <div class="tool-icon">üìÑ</div>
                        <div class="tool-name">oletools</div>
                        <div class="tool-desc">Office macros</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üìï</div>
                        <div class="tool-name">pdf-parser</div>
                        <div class="tool-desc">PDF analysis</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üîÆ</div>
                        <div class="tool-name">ViperMonkey</div>
                        <div class="tool-desc">VBA emulation</div>
                    </div>
                    <div class="tool-item">
                        <div class="tool-icon">üì¶</div>
                        <div class="tool-name">zipdump</div>
                        <div class="tool-desc">Archive inspection</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Best Practices -->
        <section class="section" id="section6">
            <div class="section-number">SECTION 06</div>
            <h2 class="section-title">Best Practices</h2>
            <div class="section-content">
                <div class="practices-grid">
                    <div class="practice-card do">
                        <div class="practice-header">
                            <span class="practice-icon">‚úÖ</span>
                            <span class="practice-label do">DO</span>
                        </div>
                        <div class="practice-content">
                            <strong>Take snapshots</strong> before every analysis session. Label them clearly with dates.
                        </div>
                    </div>

                    <div class="practice-card dont">
                        <div class="practice-header">
                            <span class="practice-icon">‚ùå</span>
                            <span class="practice-label dont">DON'T</span>
                        </div>
                        <div class="practice-content">
                            <strong>Never</strong> copy malware samples to shared folders or removable media.
                        </div>
                    </div>

                    <div class="practice-card do">
                        <div class="practice-header">
                            <span class="practice-icon">‚úÖ</span>
                            <span class="practice-label do">DO</span>
                        </div>
                        <div class="practice-content">
                            <strong>Use password-protected ZIPs</strong> (password: "infected") when storing samples.
                        </div>
                    </div>

                    <div class="practice-card dont">
                        <div class="practice-header">
                            <span class="practice-icon">‚ùå</span>
                            <span class="practice-label dont">DON'T</span>
                        </div>
                        <div class="practice-content">
                            <strong>Don't bridge</strong> your analysis VM to your production network - ever.
                        </div>
                    </div>

                    <div class="practice-card do">
                        <div class="practice-header">
                            <span class="practice-icon">‚úÖ</span>
                            <span class="practice-label do">DO</span>
                        </div>
                        <div class="practice-content">
                            <strong>Document everything</strong> - screenshots, hashes, timestamps, observations.
                        </div>
                    </div>

                    <div class="practice-card dont">
                        <div class="practice-header">
                            <span class="practice-icon">‚ùå</span>
                            <span class="practice-label dont">DON'T</span>
                        </div>
                        <div class="practice-content">
                            <strong>Don't rush.</strong> Malware can have time-delayed payloads or VM detection.
                        </div>
                    </div>
                </div>

                <div class="callout success">
                    <strong>Pro Tip:</strong> Create a "base" snapshot after initial setup, then analysis-specific snapshots. This makes it easy to restore to clean + configured state.
                </div>
            </div>
        </section>

        <!-- Completion -->
        <section class="completion-section">
            <div class="completion-icon">üéì</div>
            <h2 class="completion-title">Training Complete!</h2>
            <p class="completion-text">Congratulations! You've completed the Dark Arts introductory training. You now have the foundation to safely analyze malware. Remember: with great knowledge comes great responsibility.</p>
            <a href="../index.html" class="completion-btn">Return to Vault</a>
        </section>

        <div class="nav-buttons">
            <a href="malware-families.html" class="nav-btn">&larr; Previous: Malware Families</a>
            <a href="../index.html" class="nav-btn primary">Back to Vault</a>
        </div>
    </main>

    <script>
        // Progress tracking
        let sectionsViewed = new Set();
        const totalSections = 6;

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    const sectionNum = entry.target.id.replace('section', '');
                    if (sectionNum) {
                        sectionsViewed.add(sectionNum);
                        updateProgress();
                    }
                }
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        function updateProgress() {
            const progress = (sectionsViewed.size / totalSections) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            if (sectionsViewed.size === totalSections) {
                localStorage.setItem('vault_sandbox_complete', 'true');
            }
        }

        // Checklist toggle
        function toggleCheck(item) {
            const checkbox = item.querySelector('.check-box');
            checkbox.classList.toggle('checked');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('vault_sandbox_complete')) {
                document.getElementById('progressFill').style.width = '100%';
            }
        });
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
