<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Platform Security Lab - Hexworth Prime Dark Arts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #a855f7;
            --accent: #dc2626;
            --bg: #0a0a0f;
            --bg-elevated: #1a1a2e;
            --bg-card: #16213e;
            --text: #e2e8f0;
            --text-dim: #94a3b8;
            --border: #334155;
            --success: #10b981;
            --warning: #f59e0b;
            --android: #3ddc84;
            --ios: #0a84ff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--bg-elevated) 0%, var(--bg-card) 100%);
            border-bottom: 2px solid var(--primary);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(168, 85, 247, 0.2);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-icon {
            font-size: 2rem;
        }

        h1 {
            font-size: 1.75rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .xp-badge {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .progress-bar {
            width: 200px;
            height: 10px;
            background: var(--bg);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--primary);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            transition: width 0.5s ease;
            width: 0%;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .nav-btn {
            background: var(--bg-card);
            color: var(--text);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn:hover {
            border-color: var(--primary);
            background: var(--bg-elevated);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Platform Comparison Matrix */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .platform-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .platform-card.android {
            border-color: var(--android);
        }

        .platform-card.ios {
            border-color: var(--ios);
        }

        .platform-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(168, 85, 247, 0.3);
        }

        .platform-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .platform-icon {
            font-size: 2rem;
        }

        .feature-list {
            list-style: none;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        /* Phone Mockup */
        .phone-mockup-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .phone-mockup {
            background: var(--bg-card);
            border: 8px solid var(--border);
            border-radius: 30px;
            padding: 3rem 1.5rem;
            position: relative;
            max-width: 350px;
            margin: 0 auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .phone-notch {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 20px;
            background: var(--bg);
            border-radius: 0 0 15px 15px;
        }

        .phone-screen {
            background: var(--bg);
            border-radius: 8px;
            padding: 1rem;
            min-height: 400px;
        }

        .app-permission {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .permission-name {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .permission-toggle {
            width: 50px;
            height: 26px;
            background: var(--border);
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .permission-toggle.active {
            background: var(--primary);
        }

        .permission-toggle::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .permission-toggle.active::after {
            transform: translateX(24px);
        }

        /* ADB Command Simulator */
        .adb-simulator {
            background: var(--bg);
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
        }

        .terminal-header {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-output {
            background: var(--bg-card);
            border-radius: 4px;
            padding: 1rem;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .terminal-line {
            margin-bottom: 0.25rem;
        }

        .terminal-prompt {
            color: var(--android);
        }

        .terminal-output-text {
            color: var(--text-dim);
        }

        .terminal-error {
            color: var(--accent);
        }

        .command-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .command-btn {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.75rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        .command-btn:hover {
            border-color: var(--primary);
            background: var(--bg-card);
            transform: translateX(5px);
        }

        /* Attack Vector Diagram */
        .attack-diagram {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            position: relative;
        }

        .attack-center {
            background: var(--accent);
            color: white;
            padding: 1.5rem;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: bold;
            margin: 2rem auto;
            box-shadow: 0 0 30px rgba(220, 38, 38, 0.5);
            position: relative;
            z-index: 10;
        }

        .attack-vectors {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .attack-vector {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .attack-vector:hover {
            border-color: var(--accent);
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(220, 38, 38, 0.3);
        }

        .attack-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .attack-name {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .attack-desc {
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        /* Decision Tree */
        .decision-tree {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .tree-node {
            background: var(--bg-elevated);
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 600px;
            position: relative;
        }

        .tree-question {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .tree-options {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .tree-option {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tree-option:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .tree-result {
            background: var(--bg-elevated);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }

        .tree-result.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .tree-result.positive {
            border-color: var(--success);
        }

        .tree-result.negative {
            border-color: var(--accent);
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .tool-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 6px 25px rgba(168, 85, 247, 0.3);
        }

        .tool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .tool-name {
            font-weight: bold;
            color: var(--primary);
        }

        .tool-category {
            background: var(--bg-elevated);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            color: var(--text-dim);
        }

        .tool-description {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .tool-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tool-tag {
            background: var(--bg-elevated);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            border: 1px solid var(--border);
        }

        /* Security Checklist */
        .checklist {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .checklist-item {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checklist-item:hover {
            border-color: var(--primary);
        }

        .checklist-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checklist-item.checked .checklist-checkbox {
            background: var(--success);
            border-color: var(--success);
        }

        .checklist-checkbox::after {
            content: '‚úì';
            color: white;
            font-weight: bold;
            display: none;
        }

        .checklist-item.checked .checklist-checkbox::after {
            display: block;
        }

        .checklist-text {
            flex: 1;
        }

        .checklist-item.checked .checklist-text {
            color: var(--text-dim);
            text-decoration: line-through;
        }

        /* MDM Policy Configurator */
        .mdm-configurator {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
        }

        .policy-section {
            margin-bottom: 1.5rem;
        }

        .policy-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 0.75rem;
        }

        .policy-option {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .policy-select {
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
        }

        .policy-summary {
            background: var(--bg-elevated);
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        /* Quiz Section */
        .quiz-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
        }

        .quiz-question {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            display: none;
        }

        .quiz-question.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .question-number {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .quiz-option {
            background: var(--bg-card);
            border: 2px solid var(--border);
            padding: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: var(--bg-elevated);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--accent);
            background: rgba(220, 38, 38, 0.1);
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .quiz-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quiz-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .quiz-btn:disabled {
            background: var(--border);
            cursor: not-allowed;
            transform: none;
        }

        .quiz-results {
            background: var(--bg-elevated);
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            display: none;
        }

        .quiz-results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .quiz-score {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 0.75rem 1.5rem;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab:hover {
            border-color: var(--primary);
        }

        .tab.active {
            background: var(--bg-elevated);
            border-bottom-color: var(--bg-elevated);
            border-top: 2px solid var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .comparison-grid,
            .phone-mockup-container {
                grid-template-columns: 1fr;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .container {
                padding: 1rem;
            }

            .section {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }
        }

        .info-box {
            background: var(--bg-card);
            border-left: 4px solid var(--primary);
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .warning-box {
            background: var(--bg-card);
            border-left: 4px solid var(--warning);
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .danger-box {
            background: var(--bg-card);
            border-left: 4px solid var(--accent);
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .code-block {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .rooting-pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .pros-card, .cons-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .pros-card {
            border-color: var(--success);
        }

        .cons-card {
            border-color: var(--accent);
        }

        .pros-title, .cons-title {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .pros-title {
            color: var(--success);
        }

        .cons-title {
            color: var(--accent);
        }

        @media (max-width: 768px) {
            .rooting-pros-cons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-title">
                <div class="header-icon">üì±</div>
                <div>
                    <h1>Mobile Platform Security Lab</h1>
                    <div style="font-size: 0.9rem; color: var(--text-dim);">Android & iOS Security | CEH v12 Module</div>
                </div>
            </div>
            <div class="progress-container">
                <div class="xp-badge">
                    <span>‚≠ê</span>
                    <span id="xp-display">0 / 70 XP</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
        </div>
        <div class="nav-buttons">
            <a href="../index.html" class="nav-btn">‚Üê Back to Vault</a>
            <button class="nav-btn" onclick="resetProgress()">Reset Progress</button>
        </div>
    </div>

    <div class="container">
        <!-- Platform Overview Section -->
        <div class="section">
            <h2 class="section-title">ü§ñ Platform Comparison: Android vs iOS</h2>
            <div class="comparison-grid">
                <div class="platform-card android">
                    <div class="platform-header">
                        <div class="platform-icon">ü§ñ</div>
                        <div style="color: var(--android);">Android</div>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Foundation:</strong> Linux-based kernel</li>
                        <li><strong>Nature:</strong> Open-source (AOSP)</li>
                        <li><strong>Market:</strong> Most widely used mobile OS</li>
                        <li><strong>Customization:</strong> High (manufacturer skins)</li>
                        <li><strong>App Distribution:</strong> Google Play + sideloading</li>
                        <li><strong>Security Model:</strong> Permission-based sandboxing</li>
                        <li><strong>Root Access:</strong> Rooting (various tools)</li>
                        <li><strong>Development:</strong> Android Studio, Java/Kotlin</li>
                    </ul>
                </div>
                <div class="platform-card ios">
                    <div class="platform-header">
                        <div class="platform-icon">üçé</div>
                        <div style="color: var(--ios);">iOS</div>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Foundation:</strong> Darwin (Unix-based)</li>
                        <li><strong>Nature:</strong> Closed-source, proprietary</li>
                        <li><strong>Market:</strong> Second largest, premium segment</li>
                        <li><strong>Customization:</strong> Limited (Apple ecosystem)</li>
                        <li><strong>App Distribution:</strong> App Store only (strict review)</li>
                        <li><strong>Security Model:</strong> Strict sandbox + hardware security</li>
                        <li><strong>Root Access:</strong> Jailbreaking (exploit-based)</li>
                        <li><strong>Development:</strong> Xcode, Swift/Objective-C</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Rooting/Jailbreaking Section -->
        <div class="section">
            <h2 class="section-title">üîì Rooting vs Jailbreaking</h2>

            <div class="tabs">
                <div class="tab active" onclick="switchTab('rooting')">Android Rooting</div>
                <div class="tab" onclick="switchTab('jailbreaking')">iOS Jailbreaking</div>
                <div class="tab" onclick="switchTab('decision-tree')">Decision Tree</div>
            </div>

            <div class="tab-content active" id="rooting-content">
                <div class="info-box">
                    <strong>What is Rooting?</strong><br>
                    Rooting grants administrative (superuser) access to the Android operating system, allowing users to modify system files, install custom ROMs, and bypass manufacturer restrictions.
                </div>

                <div class="rooting-pros-cons">
                    <div class="pros-card">
                        <div class="pros-title">
                            <span>‚úÖ</span>
                            <span>Advantages</span>
                        </div>
                        <ul class="feature-list">
                            <li>Bypass carrier/manufacturer controls</li>
                            <li>Install apps on SD card (adoptable storage)</li>
                            <li>Enable Wi-Fi tethering (hotspot bypass)</li>
                            <li>Remove bloatware and system apps</li>
                            <li>Install custom ROMs (LineageOS, etc.)</li>
                            <li>Advanced backup capabilities</li>
                            <li>Overclock/underclock CPU</li>
                            <li>Deep system customization</li>
                        </ul>
                    </div>
                    <div class="cons-card">
                        <div class="cons-title">
                            <span>‚ùå</span>
                            <span>Disadvantages</span>
                        </div>
                        <ul class="feature-list">
                            <li>Voids manufacturer warranty</li>
                            <li>Increased malware vulnerability</li>
                            <li>Risk of bricking device</li>
                            <li>Banking apps may not work (SafetyNet)</li>
                            <li>OTA updates break root</li>
                            <li>Security bypass risks</li>
                            <li>Potential instability</li>
                            <li>Loss of device encryption</li>
                        </ul>
                    </div>
                </div>

                <h3 style="color: var(--primary); margin: 1.5rem 0 1rem;">Popular Rooting Tools</h3>
                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">KingoRoot</span>
                            <span class="tool-category">PC & Mobile</span>
                        </div>
                        <div class="tool-description">One-click rooting solution supporting thousands of Android devices. Easy-to-use interface for beginners.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Windows</span>
                            <span class="tool-tag">APK</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">KingRoot</span>
                            <span class="tool-category">Mobile</span>
                        </div>
                        <div class="tool-description">Android-only rooting app. Direct installation without PC required. Wide device compatibility.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">APK</span>
                            <span class="tool-tag">Quick</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">Towelroot</span>
                            <span class="tool-category">Exploit</span>
                        </div>
                        <div class="tool-description">Kernel exploit-based rooting. Works on older devices vulnerable to futex exploit.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Legacy</span>
                            <span class="tool-tag">Quick</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">One Click Root</span>
                            <span class="tool-category">Commercial</span>
                        </div>
                        <div class="tool-description">Paid service offering guaranteed rooting with customer support and warranty protection.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Paid</span>
                            <span class="tool-tag">Support</span>
                        </div>
                    </div>
                </div>

                <div class="warning-box" style="margin-top: 1rem;">
                    <strong>‚ö†Ô∏è USB Debugging Mode:</strong> Required for most rooting methods. Enable via Developer Options (tap Build Number 7 times). Never leave enabled on production devices - security risk!
                </div>
            </div>

            <div class="tab-content" id="jailbreaking-content">
                <div class="info-box">
                    <strong>What is Jailbreaking?</strong><br>
                    Jailbreaking exploits iOS vulnerabilities to remove Apple's software restrictions, allowing installation of unauthorized apps, tweaks, and system modifications through Cydia or other alternative app stores.
                </div>

                <h3 style="color: var(--primary); margin: 1.5rem 0 1rem;">Jailbreak Types</h3>
                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">Tethered</span>
                            <span class="tool-category">Legacy</span>
                        </div>
                        <div class="tool-description">Requires computer connection each boot. Device won't start without jailbreak tool assistance.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">High Risk</span>
                            <span class="tool-tag">Inconvenient</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">Semi-Tethered</span>
                            <span class="tool-category">Common</span>
                        </div>
                        <div class="tool-description">Device boots normally but jailbreak features require re-activation after reboot.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Moderate</span>
                            <span class="tool-tag">Stable</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">Untethered</span>
                            <span class="tool-category">Rare</span>
                        </div>
                        <div class="tool-description">Permanent jailbreak survives reboots. Most desirable but hardest to achieve.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Best</span>
                            <span class="tool-tag">Rare</span>
                        </div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-header">
                            <span class="tool-name">Semi-Untethered</span>
                            <span class="tool-category">Modern</span>
                        </div>
                        <div class="tool-description">Device boots normally, re-jailbreak via on-device app. Most common modern approach.</div>
                        <div class="tool-tags">
                            <span class="tool-tag">Popular</span>
                            <span class="tool-tag">Convenient</span>
                        </div>
                    </div>
                </div>

                <div class="danger-box" style="margin-top: 1rem;">
                    <strong>üö® iOS Security Architecture:</strong> Apple's security includes Secure Boot Chain, Secure Enclave, Face ID/Touch ID integration, and hardware-backed encryption. Jailbreaking compromises these layers and may expose sensitive data.
                </div>

                <div class="info-box">
                    <strong>Sandbox Model:</strong> iOS uses mandatory access control (sandbox) to isolate apps. Each app runs in its own container with limited system access. Jailbreaking breaks this isolation, allowing apps to interact with system files and other apps.
                </div>
            </div>

            <div class="tab-content" id="decision-tree-content">
                <div class="decision-tree">
                    <h3 style="color: var(--primary); text-align: center; margin-bottom: 1.5rem;">Should You Root/Jailbreak Your Device?</h3>

                    <div class="tree-node" id="tree-start">
                        <div class="tree-question">Is this your primary/work device?</div>
                        <div class="tree-options">
                            <div class="tree-option" onclick="decisionTree('primary-yes')">Yes</div>
                            <div class="tree-option" onclick="decisionTree('primary-no')">No</div>
                        </div>
                    </div>

                    <div class="tree-result" id="result-primary-yes">
                        <div style="color: var(--accent); font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">‚ùå NOT RECOMMENDED</div>
                        <p>Rooting/jailbreaking your primary device significantly increases security risks. You may lose access to banking apps, work email, and critical security updates. Warranty will be voided. Use a secondary device for security research instead.</p>
                    </div>

                    <div class="tree-result" id="result-primary-no">
                        <div class="tree-question">Do you understand the technical risks and can troubleshoot if something breaks?</div>
                        <div class="tree-options">
                            <div class="tree-option" onclick="decisionTree('technical-yes')">Yes</div>
                            <div class="tree-option" onclick="decisionTree('technical-no')">No</div>
                        </div>
                    </div>

                    <div class="tree-result" id="result-technical-no">
                        <div style="color: var(--accent); font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">‚ùå NOT RECOMMENDED</div>
                        <p>Without technical expertise, you risk permanently bricking your device. Recovery requires deep knowledge of bootloaders, recovery modes, and system partitions. Recommend learning in controlled environments first.</p>
                    </div>

                    <div class="tree-result" id="result-technical-yes">
                        <div class="tree-question">Is your purpose legitimate (security research, testing, learning)?</div>
                        <div class="tree-options">
                            <div class="tree-option" onclick="decisionTree('purpose-yes')">Yes</div>
                            <div class="tree-option" onclick="decisionTree('purpose-no')">No</div>
                        </div>
                    </div>

                    <div class="tree-result" id="result-purpose-no">
                        <div style="color: var(--accent); font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">‚ö†Ô∏è RECONSIDER</div>
                        <p>Using root/jailbreak to bypass security measures, pirate apps, or cheat in games violates terms of service and may be illegal. The risks outweigh questionable benefits.</p>
                    </div>

                    <div class="tree-result" id="result-purpose-yes">
                        <div style="color: var(--success); font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">‚úÖ PROCEED WITH CAUTION</div>
                        <p><strong>Before you proceed:</strong></p>
                        <ul class="feature-list">
                            <li>Backup all data (full device backup)</li>
                            <li>Research your specific device model compatibility</li>
                            <li>Understand how to restore to stock firmware</li>
                            <li>Accept warranty void</li>
                            <li>Keep root/jailbreak detection in mind for apps</li>
                            <li>Use secondary device, not primary</li>
                            <li>Document your learning process</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Android Hacking Tools -->
        <div class="section">
            <h2 class="section-title">üõ†Ô∏è Android Hacking Tools</h2>

            <div class="tools-grid">
                <div class="tool-card" onclick="showToolDetails('netcut')">
                    <div class="tool-header">
                        <span class="tool-name">NetCut</span>
                        <span class="tool-category">DoS</span>
                    </div>
                    <div class="tool-description">Network monitoring and DoS tool. Can disconnect devices from WiFi networks using ARP spoofing.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">ARP Spoofing</span>
                        <span class="tool-tag">WiFi</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('loic')">
                    <div class="tool-header">
                        <span class="tool-name">LOIC</span>
                        <span class="tool-category">DoS</span>
                    </div>
                    <div class="tool-description">Low Orbit Ion Cannon - network stress testing tool. Floods targets with TCP/UDP/HTTP requests.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">Stress Test</span>
                        <span class="tool-tag">Flood</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('drozer')">
                    <div class="tool-header">
                        <span class="tool-name">drozer</span>
                        <span class="tool-category">Vulnerability</span>
                    </div>
                    <div class="tool-description">Security assessment framework for Android. Discovers vulnerabilities in apps and devices.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">Assessment</span>
                        <span class="tool-tag">Framework</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('zanti')">
                    <div class="tool-header">
                        <span class="tool-name">zANTI</span>
                        <span class="tool-category">Pentesting</span>
                    </div>
                    <div class="tool-description">Mobile penetration testing toolkit. MITM attacks, network scanning, vulnerability assessment.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">MITM</span>
                        <span class="tool-tag">Scanning</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('droidsheep')">
                    <div class="tool-header">
                        <span class="tool-name">DroidSheep</span>
                        <span class="tool-category">Session Hijack</span>
                    </div>
                    <div class="tool-description">Session hijacking tool. Captures and clones web sessions on WiFi networks (educational use only).</div>
                    <div class="tool-tags">
                        <span class="tool-tag">WiFi</span>
                        <span class="tool-tag">Cookies</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('adb')">
                    <div class="tool-header">
                        <span class="tool-name">ADB</span>
                        <span class="tool-category">Development</span>
                    </div>
                    <div class="tool-description">Android Debug Bridge - command-line tool for device communication, debugging, and shell access.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">Shell</span>
                        <span class="tool-tag">Debug</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('csploit')">
                    <div class="tool-header">
                        <span class="tool-name">cSploit</span>
                        <span class="tool-category">Pentesting</span>
                    </div>
                    <div class="tool-description">Advanced network pentesting suite. Port scanning, MITM, password cracking, vulnerability assessment.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">Network</span>
                        <span class="tool-tag">Suite</span>
                    </div>
                </div>

                <div class="tool-card" onclick="showToolDetails('apktool')">
                    <div class="tool-header">
                        <span class="tool-name">APKTool</span>
                        <span class="tool-category">Reverse Eng</span>
                    </div>
                    <div class="tool-description">Reverse engineering tool for Android APK files. Decode, modify, and rebuild applications.</div>
                    <div class="tool-tags">
                        <span class="tool-tag">Decompile</span>
                        <span class="tool-tag">Analysis</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ADB Command Simulator -->
        <div class="section">
            <h2 class="section-title">üíª Android Debug Bridge (ADB) Command Simulator</h2>

            <div class="info-box">
                <strong>What is ADB?</strong><br>
                Android Debug Bridge is a versatile command-line tool that lets you communicate with a device. It facilitates device actions like installing and debugging apps, provides shell access, and enables file transfers.
            </div>

            <div class="adb-simulator">
                <div class="terminal-header">
                    <span class="terminal-dot" style="background: #ff5f56;"></span>
                    <span class="terminal-dot" style="background: #ffbd2e;"></span>
                    <span class="terminal-dot" style="background: #27c93f;"></span>
                    <span style="margin-left: 0.5rem; color: var(--text-dim);">ADB Terminal</span>
                </div>
                <div class="terminal-output" id="terminal-output">
                    <div class="terminal-line">
                        <span style="color: var(--text-dim);">Android Debug Bridge Terminal - Click commands below to execute</span>
                    </div>
                    <div class="terminal-line">
                        <span style="color: var(--text-dim);">Ready for commands...</span>
                    </div>
                </div>
                <div class="command-buttons">
                    <button class="command-btn" onclick="runAdbCommand('devices')">adb devices</button>
                    <button class="command-btn" onclick="runAdbCommand('shell')">adb shell</button>
                    <button class="command-btn" onclick="runAdbCommand('install')">adb install app.apk</button>
                    <button class="command-btn" onclick="runAdbCommand('uninstall')">adb uninstall com.app</button>
                    <button class="command-btn" onclick="runAdbCommand('logcat')">adb logcat</button>
                    <button class="command-btn" onclick="runAdbCommand('pull')">adb pull /sdcard/file.txt</button>
                    <button class="command-btn" onclick="runAdbCommand('push')">adb push file.txt /sdcard/</button>
                    <button class="command-btn" onclick="runAdbCommand('reboot')">adb reboot</button>
                    <button class="command-btn" onclick="runAdbCommand('backup')">adb backup -all</button>
                    <button class="command-btn" onclick="runAdbCommand('packages')">adb shell pm list packages</button>
                    <button class="command-btn" onclick="runAdbCommand('dumpsys')">adb shell dumpsys battery</button>
                    <button class="command-btn" onclick="runAdbCommand('screenrecord')">adb shell screenrecord</button>
                </div>
            </div>
        </div>

        <!-- Permission Analyzer -->
        <div class="section">
            <h2 class="section-title">üîê Interactive App Permission Analyzer</h2>

            <div class="phone-mockup-container">
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <h3 style="color: var(--primary); margin-bottom: 1rem;">Suspicious Social App</h3>
                        <div style="color: var(--text-dim); font-size: 0.85rem; margin-bottom: 1rem;">v3.2.1 ‚Ä¢ 50MB ‚Ä¢ 1M+ downloads</div>

                        <div id="permission-list">
                            <!-- Permissions will be added dynamically -->
                        </div>

                        <div style="margin-top: 1.5rem; padding: 1rem; background: var(--bg-elevated); border-radius: 8px;">
                            <div style="color: var(--accent); font-weight: bold; margin-bottom: 0.5rem;">‚ö†Ô∏è Risk Assessment</div>
                            <div id="risk-score" style="font-size: 0.9rem;">Enable permissions to see risk analysis...</div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <div class="info-box">
                        <strong>Permission Analysis:</strong><br>
                        Toggle permissions to see how they affect the app's security risk level. Red flags include excessive permissions unrelated to app functionality.
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Common Permission Abuse:</strong>
                        <ul class="feature-list">
                            <li>Camera/Microphone for non-media apps</li>
                            <li>Location for apps that don't need it</li>
                            <li>Contacts access for single-player games</li>
                            <li>SMS read/send for non-messaging apps</li>
                            <li>Storage access beyond app needs</li>
                        </ul>
                    </div>

                    <div class="danger-box">
                        <strong>üö® Dangerous Permissions:</strong>
                        <ul class="feature-list">
                            <li>SYSTEM_ALERT_WINDOW (overlay attacks)</li>
                            <li>BIND_ACCESSIBILITY_SERVICE (keylogging)</li>
                            <li>RECEIVE_SMS (2FA bypass)</li>
                            <li>CALL_PHONE (premium rate fraud)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Attack Vector Diagram -->
        <div class="section">
            <h2 class="section-title">üéØ Mobile Attack Vectors</h2>

            <div class="attack-diagram">
                <div class="attack-center">MOBILE DEVICE</div>

                <div class="attack-vectors">
                    <div class="attack-vector" onclick="showAttackDetails('malware')">
                        <div class="attack-icon">ü¶†</div>
                        <div class="attack-name">Malicious Apps</div>
                        <div class="attack-desc">Trojans disguised as legitimate apps, often from third-party stores</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('network')">
                        <div class="attack-icon">üì°</div>
                        <div class="attack-name">Network Attacks</div>
                        <div class="attack-desc">MITM, rogue WiFi, session hijacking on unsecured networks</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('phishing')">
                        <div class="attack-icon">üé£</div>
                        <div class="attack-name">Phishing/Smishing</div>
                        <div class="attack-desc">SMS/email attacks targeting credentials and personal info</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('physical')">
                        <div class="attack-icon">üîì</div>
                        <div class="attack-name">Physical Access</div>
                        <div class="attack-desc">Device theft, shoulder surfing, unlocked devices</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('browser')">
                        <div class="attack-icon">üåê</div>
                        <div class="attack-name">Browser Exploits</div>
                        <div class="attack-desc">Drive-by downloads, malicious websites, JavaScript attacks</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('update')">
                        <div class="attack-icon">‚¨áÔ∏è</div>
                        <div class="attack-name">Update Attacks</div>
                        <div class="attack-desc">Fake updates, compromised OTA, supply chain attacks</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('social')">
                        <div class="attack-icon">üë•</div>
                        <div class="attack-name">Social Engineering</div>
                        <div class="attack-desc">Manipulation to install malware or reveal sensitive data</div>
                    </div>

                    <div class="attack-vector" onclick="showAttackDetails('bluetooth')">
                        <div class="attack-icon">üì≤</div>
                        <div class="attack-name">Bluetooth/NFC</div>
                        <div class="attack-desc">Bluejacking, bluesnarfing, NFC relay attacks</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MDM Configurator -->
        <div class="section">
            <h2 class="section-title">üìã Mobile Device Management (MDM) Policy Configurator</h2>

            <div class="info-box">
                <strong>What is MDM?</strong><br>
                Mobile Device Management provides centralized control over enterprise mobile devices. IT administrators can enforce security policies, deploy apps, monitor compliance, and remotely manage devices to protect corporate data.
            </div>

            <div class="mdm-configurator">
                <div class="policy-section">
                    <div class="policy-title">üîí Device Security</div>
                    <div class="policy-option">
                        <span>Passcode Requirement:</span>
                        <select class="policy-select" id="mdm-passcode" onchange="updateMdmSummary()">
                            <option value="none">None</option>
                            <option value="simple">Simple PIN (4 digits)</option>
                            <option value="complex" selected>Complex (8+ chars, mixed)</option>
                            <option value="biometric">Biometric Required</option>
                        </select>
                    </div>
                    <div class="policy-option">
                        <span>Screen Lock Timeout:</span>
                        <select class="policy-select" id="mdm-timeout" onchange="updateMdmSummary()">
                            <option value="immediate">Immediate</option>
                            <option value="30">30 seconds</option>
                            <option value="60" selected>1 minute</option>
                            <option value="300">5 minutes</option>
                        </select>
                    </div>
                    <div class="policy-option">
                        <span>Device Encryption:</span>
                        <select class="policy-select" id="mdm-encryption" onchange="updateMdmSummary()">
                            <option value="optional">Optional</option>
                            <option value="required" selected>Required</option>
                        </select>
                    </div>
                </div>

                <div class="policy-section">
                    <div class="policy-title">üì± Application Control</div>
                    <div class="policy-option">
                        <span>App Installation:</span>
                        <select class="policy-select" id="mdm-apps" onchange="updateMdmSummary()">
                            <option value="any">Any Source</option>
                            <option value="store">Official Store Only</option>
                            <option value="approved" selected>Approved List Only</option>
                            <option value="blocked">Block All Installs</option>
                        </select>
                    </div>
                    <div class="policy-option">
                        <span>App Blacklisting:</span>
                        <select class="policy-select" id="mdm-blacklist" onchange="updateMdmSummary()">
                            <option value="none">None</option>
                            <option value="social" selected>Social Media</option>
                            <option value="games">Games</option>
                            <option value="custom">Custom List</option>
                        </select>
                    </div>
                </div>

                <div class="policy-section">
                    <div class="policy-title">üåê Network & Connectivity</div>
                    <div class="policy-option">
                        <span>WiFi Configuration:</span>
                        <select class="policy-select" id="mdm-wifi" onchange="updateMdmSummary()">
                            <option value="any">Any Network</option>
                            <option value="corporate" selected>Corporate Only</option>
                            <option value="vpn">VPN Required</option>
                        </select>
                    </div>
                    <div class="policy-option">
                        <span>Bluetooth:</span>
                        <select class="policy-select" id="mdm-bluetooth" onchange="updateMdmSummary()">
                            <option value="enabled">Enabled</option>
                            <option value="approved">Approved Devices Only</option>
                            <option value="disabled" selected>Disabled</option>
                        </select>
                    </div>
                </div>

                <div class="policy-section">
                    <div class="policy-title">üîê Data Protection</div>
                    <div class="policy-option">
                        <span>Remote Wipe:</span>
                        <select class="policy-select" id="mdm-wipe" onchange="updateMdmSummary()">
                            <option value="disabled">Disabled</option>
                            <option value="enabled" selected>Enabled</option>
                            <option value="auto">Auto (after failed logins)</option>
                        </select>
                    </div>
                    <div class="policy-option">
                        <span>Containerization:</span>
                        <select class="policy-select" id="mdm-container" onchange="updateMdmSummary()">
                            <option value="none">None</option>
                            <option value="work" selected>Work Profile Separate</option>
                            <option value="full">Full Containerization</option>
                        </select>
                    </div>
                </div>

                <div class="policy-summary" id="mdm-summary">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">üìä Policy Summary</h3>
                    <div id="mdm-summary-content"></div>
                </div>
            </div>
        </div>

        <!-- Security Checklist -->
        <div class="section">
            <h2 class="section-title">‚úÖ Mobile Security Best Practices Checklist</h2>

            <div class="checklist" id="security-checklist">
                <!-- Checklist items added dynamically -->
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="section">
            <h2 class="section-title">üìù Knowledge Assessment Quiz</h2>

            <div class="quiz-container">
                <div id="quiz-questions">
                    <!-- Questions added dynamically -->
                </div>

                <div class="quiz-results" id="quiz-results">
                    <div class="quiz-score" id="quiz-score-display"></div>
                    <div id="quiz-feedback"></div>
                    <button class="quiz-btn" onclick="restartQuiz()" style="margin-top: 1rem;">Retake Quiz</button>
                </div>

                <div class="quiz-controls" id="quiz-controls">
                    <button class="quiz-btn" id="prev-btn" onclick="previousQuestion()" disabled>‚Üê Previous</button>
                    <div id="question-counter" style="color: var(--text-dim);"></div>
                    <button class="quiz-btn" id="next-btn" onclick="nextQuestion()">Next ‚Üí</button>
                    <button class="quiz-btn" id="submit-btn" onclick="submitQuiz()" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Progress tracking
        let completedSections = new Set();
        const totalXP = 70;
        let currentXP = 0;

        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('mobile-security-progress');
            if (saved) {
                completedSections = new Set(JSON.parse(saved));
                updateProgressDisplay();
            }
        }

        function saveProgress() {
            localStorage.setItem('mobile-security-progress', JSON.stringify([...completedSections]));
        }

        function markSectionComplete(sectionId) {
            if (!completedSections.has(sectionId)) {
                completedSections.add(sectionId);
                saveProgress();
                updateProgressDisplay();
            }
        }

        function updateProgressDisplay() {
            currentXP = Math.floor((completedSections.size / 10) * totalXP);
            document.getElementById('xp-display').textContent = `${currentXP} / ${totalXP} XP`;
            const progressPercent = (completedSections.size / 10) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
        }

        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress?')) {
                completedSections.clear();
                localStorage.removeItem('mobile-security-progress');
                localStorage.removeItem('mobile-security-checklist');
                localStorage.removeItem('mobile-security-quiz');
                currentXP = 0;
                updateProgressDisplay();
                location.reload();
            }
        }

        // Tab switching
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tabName + '-content').classList.add('active');

            markSectionComplete('tabs-' + tabName);
        }

        // Decision Tree
        let currentDecisionNode = 'start';

        function decisionTree(resultId) {
            // Hide all results
            document.querySelectorAll('.tree-result').forEach(r => r.classList.remove('show'));

            // Show selected result
            const result = document.getElementById('result-' + resultId);
            if (result) {
                result.classList.add('show');

                // Apply styling based on recommendation
                if (resultId.includes('yes') && resultId !== 'technical-yes' && resultId !== 'purpose-yes') {
                    result.classList.add('negative');
                } else if (resultId === 'purpose-yes') {
                    result.classList.add('positive');
                }

                markSectionComplete('decision-tree');
            }
        }

        // ADB Command Simulator
        const adbCommands = {
            devices: {
                output: `List of devices attached
emulator-5554    device
192.168.1.100:5555    device

2 device(s) connected`,
                color: 'var(--android)'
            },
            shell: {
                output: `Starting interactive shell...
shell@android:/ $ whoami
shell
shell@android:/ $ pwd
/
shell@android:/ $ ls
acct  cache  config  d  data  default.prop  dev  etc  init  mnt  proc  root  sbin  sdcard  storage  sys  system  vendor`,
                color: 'var(--text)'
            },
            install: {
                output: `Performing Streamed Install
Success
Package installed successfully`,
                color: 'var(--success)'
            },
            uninstall: {
                output: `Uninstalling package: com.app
Success
Package removed`,
                color: 'var(--success)'
            },
            logcat: {
                output: `--------- beginning of system
12-23 10:15:32.456  1234  5678 I ActivityManager: Start proc com.example.app
12-23 10:15:32.789  1234  5678 D NetworkManager: Connected to WiFi
12-23 10:15:33.012  1234  5678 W PackageManager: Permission denied
12-23 10:15:33.345  1234  5678 E System: SecurityException thrown`,
                color: 'var(--text-dim)'
            },
            pull: {
                output: `Pulling /sdcard/file.txt -> ./file.txt
[100%] /sdcard/file.txt
1 file pulled. 0.5 MB/s (1234 bytes in 0.002s)`,
                color: 'var(--android)'
            },
            push: {
                output: `Pushing file.txt -> /sdcard/file.txt
[100%] file.txt
1 file pushed. 1.2 MB/s (1234 bytes in 0.001s)`,
                color: 'var(--android)'
            },
            reboot: {
                output: `Rebooting device...
Device will restart in 3 seconds
Connection closed by remote host`,
                color: 'var(--warning)'
            },
            backup: {
                output: `Now unlock your device and confirm the backup operation...
Generating backup manifest...
Backing up data: 1.2 GB
Backup completed: backup.ab`,
                color: 'var(--android)'
            },
            packages: {
                output: `package:com.android.systemui
package:com.google.android.gms
package:com.facebook.katana
package:com.whatsapp
package:com.android.chrome
... (328 packages total)`,
                color: 'var(--text-dim)'
            },
            dumpsys: {
                output: `Current Battery Service state:
  AC powered: false
  USB powered: true
  Wireless powered: false
  status: 2
  health: 2
  present: true
  level: 87
  scale: 100
  voltage: 4187
  temperature: 280
  technology: Li-ion`,
                color: 'var(--android)'
            },
            screenrecord: {
                output: `Recording screen to /sdcard/screenrecord.mp4
Press Ctrl+C to stop recording
Recording started... (time limit 180s)`,
                color: 'var(--android)'
            }
        };

        function runAdbCommand(cmd) {
            const output = document.getElementById('terminal-output');
            const cmdData = adbCommands[cmd];

            // Add command line
            const commandLine = document.createElement('div');
            commandLine.className = 'terminal-line';
            commandLine.innerHTML = `<span class="terminal-prompt">$ </span><span style="color: var(--text);">adb ${cmd === 'devices' ? 'devices' : cmd === 'shell' ? 'shell' : cmd === 'install' ? 'install app.apk' : cmd === 'uninstall' ? 'uninstall com.app' : cmd === 'logcat' ? 'logcat' : cmd === 'pull' ? 'pull /sdcard/file.txt' : cmd === 'push' ? 'push file.txt /sdcard/' : cmd === 'reboot' ? 'reboot' : cmd === 'backup' ? 'backup -all' : cmd === 'packages' ? 'shell pm list packages' : cmd === 'dumpsys' ? 'shell dumpsys battery' : 'shell screenrecord /sdcard/screenrecord.mp4'}</span>`;
            output.appendChild(commandLine);

            // Add output
            const outputLines = cmdData.output.split('\n');
            outputLines.forEach(line => {
                const outputLine = document.createElement('div');
                outputLine.className = 'terminal-line terminal-output-text';
                outputLine.style.color = cmdData.color;
                outputLine.textContent = line;
                output.appendChild(outputLine);
            });

            // Add blank line
            const blankLine = document.createElement('div');
            blankLine.className = 'terminal-line';
            blankLine.innerHTML = '&nbsp;';
            output.appendChild(blankLine);

            // Scroll to bottom
            output.scrollTop = output.scrollHeight;

            markSectionComplete('adb-commands');
        }

        // Permission Analyzer
        const permissions = [
            { name: 'Camera', icon: 'üì∑', risk: 'medium', description: 'Access device camera' },
            { name: 'Microphone', icon: 'üé§', risk: 'medium', description: 'Record audio' },
            { name: 'Location', icon: 'üìç', risk: 'high', description: 'Access precise location' },
            { name: 'Contacts', icon: 'üë•', risk: 'high', description: 'Read contact list' },
            { name: 'Storage', icon: 'üíæ', risk: 'medium', description: 'Read/write storage' },
            { name: 'Phone', icon: 'üìû', risk: 'high', description: 'Make and manage calls' },
            { name: 'SMS', icon: 'üí¨', risk: 'critical', description: 'Read and send messages' },
            { name: 'Calendar', icon: 'üìÖ', risk: 'low', description: 'Access calendar events' }
        ];

        function initPermissions() {
            const permList = document.getElementById('permission-list');
            permissions.forEach((perm, index) => {
                const permDiv = document.createElement('div');
                permDiv.className = 'app-permission';
                permDiv.innerHTML = `
                    <div class="permission-name">
                        <span style="font-size: 1.2rem;">${perm.icon}</span>
                        <div>
                            <div style="font-weight: bold;">${perm.name}</div>
                            <div style="font-size: 0.75rem; color: var(--text-dim);">${perm.description}</div>
                        </div>
                    </div>
                    <div class="permission-toggle" id="perm-${index}" onclick="togglePermission(${index})"></div>
                `;
                permList.appendChild(permDiv);
            });
            updateRiskScore();
        }

        function togglePermission(index) {
            const toggle = document.getElementById('perm-' + index);
            toggle.classList.toggle('active');
            updateRiskScore();
            markSectionComplete('permissions');
        }

        function updateRiskScore() {
            let riskScore = 0;
            let enabledCount = 0;

            permissions.forEach((perm, index) => {
                const toggle = document.getElementById('perm-' + index);
                if (toggle && toggle.classList.contains('active')) {
                    enabledCount++;
                    if (perm.risk === 'low') riskScore += 1;
                    if (perm.risk === 'medium') riskScore += 2;
                    if (perm.risk === 'high') riskScore += 3;
                    if (perm.risk === 'critical') riskScore += 5;
                }
            });

            const riskDisplay = document.getElementById('risk-score');
            let riskLevel = 'Low';
            let riskColor = 'var(--success)';

            if (riskScore > 15) {
                riskLevel = 'CRITICAL';
                riskColor = 'var(--accent)';
            } else if (riskScore > 10) {
                riskLevel = 'High';
                riskColor = 'var(--warning)';
            } else if (riskScore > 5) {
                riskLevel = 'Medium';
                riskColor = 'var(--primary)';
            }

            riskDisplay.innerHTML = `
                <strong>Risk Level: <span style="color: ${riskColor};">${riskLevel}</span></strong><br>
                ${enabledCount} permissions enabled | Risk Score: ${riskScore}/30<br>
                <small>${riskScore > 10 ? '‚ö†Ô∏è This app requests excessive permissions for a social app!' : riskScore > 5 ? 'Moderate permission usage. Review carefully.' : 'Minimal permissions - lower risk.'}</small>
            `;
        }

        // Attack Vector Details
        function showAttackDetails(attackType) {
            const details = {
                malware: 'Malicious apps often disguise themselves as games, utilities, or popular apps. Always download from official stores and check permissions carefully.',
                network: 'Public WiFi networks are vulnerable to Man-in-the-Middle attacks. Always use VPN on untrusted networks.',
                phishing: 'SMS phishing (smishing) uses urgency and fear to trick users. Verify sender before clicking links or providing information.',
                physical: 'Always lock your device with strong authentication. Enable Find My Device and remote wipe capabilities.',
                browser: 'Keep browsers updated and avoid suspicious websites. Consider using mobile security browsers with built-in protection.',
                update: 'Only install updates from official sources. Fake update prompts are common malware delivery methods.',
                social: 'Be skeptical of requests to install apps or change settings, even from seemingly trusted sources.',
                bluetooth: 'Disable Bluetooth when not in use. Only pair with trusted devices and keep firmware updated.'
            };

            alert(details[attackType] || 'Attack vector information');
            markSectionComplete('attack-vectors');
        }

        // MDM Policy Configurator
        function updateMdmSummary() {
            const passcode = document.getElementById('mdm-passcode').value;
            const timeout = document.getElementById('mdm-timeout').value;
            const encryption = document.getElementById('mdm-encryption').value;
            const apps = document.getElementById('mdm-apps').value;
            const blacklist = document.getElementById('mdm-blacklist').value;
            const wifi = document.getElementById('mdm-wifi').value;
            const bluetooth = document.getElementById('mdm-bluetooth').value;
            const wipe = document.getElementById('mdm-wipe').value;
            const container = document.getElementById('mdm-container').value;

            let securityLevel = 0;
            if (passcode === 'complex' || passcode === 'biometric') securityLevel += 2;
            if (timeout === 'immediate' || timeout === '30') securityLevel += 2;
            if (encryption === 'required') securityLevel += 2;
            if (apps === 'approved' || apps === 'blocked') securityLevel += 1;
            if (wifi === 'corporate' || wifi === 'vpn') securityLevel += 1;
            if (bluetooth === 'disabled') securityLevel += 1;
            if (wipe === 'enabled' || wipe === 'auto') securityLevel += 1;

            let level = 'Low';
            let color = 'var(--accent)';
            if (securityLevel >= 8) {
                level = 'High';
                color = 'var(--success)';
            } else if (securityLevel >= 5) {
                level = 'Medium';
                color = 'var(--warning)';
            }

            const summary = document.getElementById('mdm-summary-content');
            summary.innerHTML = `
                <div style="margin-bottom: 1rem;">
                    <strong>Security Level: <span style="color: ${color};">${level}</span></strong> (${securityLevel}/10)
                </div>
                <div style="font-size: 0.9rem; color: var(--text-dim);">
                    <strong>Active Policies:</strong><br>
                    ‚Ä¢ Passcode: ${passcode.charAt(0).toUpperCase() + passcode.slice(1)}<br>
                    ‚Ä¢ Lock Timeout: ${timeout === 'immediate' ? 'Immediate' : timeout + ' seconds'}<br>
                    ‚Ä¢ Encryption: ${encryption.charAt(0).toUpperCase() + encryption.slice(1)}<br>
                    ‚Ä¢ App Control: ${apps.charAt(0).toUpperCase() + apps.slice(1)}<br>
                    ‚Ä¢ Network: ${wifi.charAt(0).toUpperCase() + wifi.slice(1)}<br>
                    ‚Ä¢ Remote Wipe: ${wipe.charAt(0).toUpperCase() + wipe.slice(1)}<br>
                    ${securityLevel < 5 ? '<br><span style="color: var(--accent);">‚ö†Ô∏è Recommendation: Increase security policies to protect corporate data</span>' : ''}
                </div>
            `;

            markSectionComplete('mdm-config');
        }

        // Security Checklist
        const checklistItems = [
            'Never root or jailbreak primary device',
            'Enable screen lock with strong password/biometric',
            'Keep OS and apps updated regularly',
            'Install apps only from official stores',
            'Review app permissions before granting',
            'Use VPN on public WiFi networks',
            'Enable Find My Device / Find My iPhone',
            'Install mobile antivirus (Kaspersky, Avast, Sophos)',
            'Enable two-factor authentication on accounts',
            'Regularly backup device data',
            'Disable USB debugging on production devices',
            'Use encrypted messaging apps',
            'Review installed apps periodically',
            'Avoid clicking suspicious links in SMS/email',
            'Enable remote wipe capability'
        ];

        function initChecklist() {
            const checklist = document.getElementById('security-checklist');
            const savedChecklist = JSON.parse(localStorage.getItem('mobile-security-checklist') || '[]');

            checklistItems.forEach((item, index) => {
                const checkItem = document.createElement('div');
                checkItem.className = 'checklist-item' + (savedChecklist.includes(index) ? ' checked' : '');
                checkItem.innerHTML = `
                    <div class="checklist-checkbox"></div>
                    <div class="checklist-text">${item}</div>
                `;
                checkItem.onclick = () => toggleChecklist(index);
                checklist.appendChild(checkItem);
            });
        }

        function toggleChecklist(index) {
            const items = document.querySelectorAll('.checklist-item');
            items[index].classList.toggle('checked');

            const checkedItems = [];
            items.forEach((item, i) => {
                if (item.classList.contains('checked')) {
                    checkedItems.push(i);
                }
            });

            localStorage.setItem('mobile-security-checklist', JSON.stringify(checkedItems));

            if (checkedItems.length === checklistItems.length) {
                markSectionComplete('checklist-complete');
            } else {
                markSectionComplete('checklist-started');
            }
        }

        // Quiz System
        const quizQuestions = [
            {
                question: 'What is the primary difference between Android rooting and iOS jailbreaking?',
                options: [
                    'Rooting is legal, jailbreaking is illegal',
                    'Rooting is easier and more widely supported',
                    'Jailbreaking requires exploit-based methods while rooting uses various tools',
                    'There is no difference, they are the same process'
                ],
                correct: 2,
                explanation: 'While both achieve elevated privileges, jailbreaking typically requires exploiting iOS vulnerabilities, whereas Android rooting can be done through various methods including unlocking bootloaders and using dedicated tools.'
            },
            {
                question: 'Which Android hacking tool is specifically designed for vulnerability assessment?',
                options: ['NetCut', 'drozer', 'DroidSheep', 'LOIC'],
                correct: 1,
                explanation: 'drozer is a security assessment framework specifically designed to discover vulnerabilities in Android apps and devices.'
            },
            {
                question: 'What does ADB stand for and what is its primary purpose?',
                options: [
                    'Android Data Bridge - for file transfers',
                    'Android Debug Bridge - for device communication and debugging',
                    'Advanced Database - for app data management',
                    'Application Development Board - for app testing'
                ],
                correct: 1,
                explanation: 'ADB (Android Debug Bridge) is a command-line tool that enables communication with Android devices for debugging, shell access, and various development tasks.'
            },
            {
                question: 'Which of the following is NOT a valid reason to root an Android device?',
                options: [
                    'Remove bloatware and system apps',
                    'Bypass security to pirate paid apps',
                    'Install custom ROMs',
                    'Enable advanced backup capabilities'
                ],
                correct: 1,
                explanation: 'Using root access to pirate apps is illegal and unethical. Legitimate uses include customization, removing bloatware, and advanced system control for security research.'
            },
            {
                question: 'What is the iOS sandbox model designed to do?',
                options: [
                    'Allow apps to share data freely',
                    'Isolate apps in separate containers with limited system access',
                    'Improve app performance',
                    'Enable multitasking'
                ],
                correct: 1,
                explanation: 'The iOS sandbox model uses mandatory access control to isolate each app in its own container, preventing unauthorized access to system files and other apps\' data.'
            },
            {
                question: 'Which MDM capability allows IT to erase all data from a lost or stolen device?',
                options: [
                    'Policy Enforcement',
                    'App Deployment',
                    'Remote Wipe',
                    'Device Encryption'
                ],
                correct: 2,
                explanation: 'Remote Wipe is an MDM feature that allows administrators to remotely erase all data from a device, protecting corporate information if the device is lost or stolen.'
            },
            {
                question: 'What is the primary security risk of enabling USB debugging on a production device?',
                options: [
                    'It drains battery faster',
                    'It allows unauthorized physical access via ADB commands',
                    'It prevents app installation',
                    'It disables screen lock'
                ],
                correct: 1,
                explanation: 'USB debugging allows direct ADB access to the device, enabling anyone with physical access to execute commands, install apps, and potentially extract sensitive data.'
            },
            {
                question: 'Which mobile attack vector involves creating fake WiFi access points?',
                options: [
                    'Phishing',
                    'Malware',
                    'Rogue WiFi / MITM attacks',
                    'Browser exploits'
                ],
                correct: 2,
                explanation: 'Rogue WiFi access points (Evil Twin attacks) are used in Man-in-the-Middle (MITM) attacks to intercept network traffic from unsuspecting users.'
            },
            {
                question: 'Which permission should raise a red flag for a simple flashlight app?',
                options: [
                    'Camera access',
                    'Contacts access',
                    'Vibration control',
                    'Network access'
                ],
                correct: 1,
                explanation: 'A flashlight app has no legitimate reason to access contacts. This would be a major red flag indicating potential malicious intent to harvest personal data.'
            },
            {
                question: 'What is the recommended approach to mobile security for enterprise devices?',
                options: [
                    'Root all devices for better control',
                    'Disable all security features for ease of use',
                    'Implement MDM with strong policies, encryption, and regular updates',
                    'Allow users to install any apps they want'
                ],
                correct: 2,
                explanation: 'Enterprise mobile security requires a comprehensive approach: MDM for centralized control, strong policies (encryption, passcodes), regular updates, app control, and user education.'
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];
        let quizStarted = false;

        function initQuiz() {
            const container = document.getElementById('quiz-questions');
            quizQuestions.forEach((q, index) => {
                const qDiv = document.createElement('div');
                qDiv.className = 'quiz-question' + (index === 0 ? ' active' : '');
                qDiv.innerHTML = `
                    <div class="question-number">Question ${index + 1} of ${quizQuestions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="quiz-options">
                        ${q.options.map((opt, i) => `
                            <div class="quiz-option" onclick="selectAnswer(${index}, ${i})" data-question="${index}" data-option="${i}">
                                ${opt}
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(qDiv);
            });
            updateQuestionCounter();
        }

        function selectAnswer(questionIndex, optionIndex) {
            // Remove previous selection
            const options = document.querySelectorAll(`[data-question="${questionIndex}"]`);
            options.forEach(opt => opt.classList.remove('selected'));

            // Add new selection
            const selected = document.querySelector(`[data-question="${questionIndex}"][data-option="${optionIndex}"]`);
            selected.classList.add('selected');

            userAnswers[questionIndex] = optionIndex;
            quizStarted = true;

            // Enable next button
            document.getElementById('next-btn').disabled = false;
            if (questionIndex === quizQuestions.length - 1) {
                document.getElementById('submit-btn').style.display = 'inline-block';
            }
        }

        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                document.querySelectorAll('.quiz-question')[currentQuestion].classList.remove('active');
                currentQuestion++;
                document.querySelectorAll('.quiz-question')[currentQuestion].classList.add('active');

                document.getElementById('prev-btn').disabled = false;
                if (currentQuestion === quizQuestions.length - 1) {
                    document.getElementById('next-btn').style.display = 'none';
                    document.getElementById('submit-btn').style.display = 'inline-block';
                }

                updateQuestionCounter();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                document.querySelectorAll('.quiz-question')[currentQuestion].classList.remove('active');
                currentQuestion--;
                document.querySelectorAll('.quiz-question')[currentQuestion].classList.add('active');

                if (currentQuestion === 0) {
                    document.getElementById('prev-btn').disabled = true;
                }
                document.getElementById('next-btn').style.display = 'inline-block';
                document.getElementById('submit-btn').style.display = 'none';

                updateQuestionCounter();
            }
        }

        function updateQuestionCounter() {
            document.getElementById('question-counter').textContent =
                `Question ${currentQuestion + 1} of ${quizQuestions.length}`;
        }

        function submitQuiz() {
            if (userAnswers.length < quizQuestions.length) {
                alert('Please answer all questions before submitting.');
                return;
            }

            let correctCount = 0;

            // Show correct/incorrect answers
            quizQuestions.forEach((q, index) => {
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                options.forEach((opt, i) => {
                    if (i === q.correct) {
                        opt.classList.add('correct');
                    } else if (i === userAnswers[index] && i !== q.correct) {
                        opt.classList.add('incorrect');
                    }
                    opt.style.pointerEvents = 'none';
                });

                if (userAnswers[index] === q.correct) {
                    correctCount++;
                }
            });

            const percentage = Math.round((correctCount / quizQuestions.length) * 100);

            document.getElementById('quiz-score-display').textContent = `${percentage}%`;

            let feedback = '';
            if (percentage >= 90) {
                feedback = 'üèÜ Outstanding! You have mastered mobile platform security!';
            } else if (percentage >= 70) {
                feedback = '‚úÖ Great job! You have a solid understanding of mobile security.';
            } else if (percentage >= 50) {
                feedback = 'üìö Good effort! Review the material and try again for better results.';
            } else {
                feedback = 'üìñ Keep studying! Mobile security is complex but important to master.';
            }

            document.getElementById('quiz-feedback').innerHTML = `
                <p style="font-size: 1.2rem; margin-bottom: 1rem;">${feedback}</p>
                <p>You answered ${correctCount} out of ${quizQuestions.length} questions correctly.</p>
            `;

            document.getElementById('quiz-controls').style.display = 'none';
            document.getElementById('quiz-results').classList.add('show');

            markSectionComplete('quiz-complete');
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            quizStarted = false;

            // Reset all options
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.style.pointerEvents = 'auto';
            });

            // Reset display
            document.querySelectorAll('.quiz-question').forEach((q, i) => {
                q.classList.remove('active');
                if (i === 0) q.classList.add('active');
            });

            document.getElementById('quiz-results').classList.remove('show');
            document.getElementById('quiz-controls').style.display = 'flex';
            document.getElementById('prev-btn').disabled = true;
            document.getElementById('next-btn').disabled = false;
            document.getElementById('next-btn').style.display = 'inline-block';
            document.getElementById('submit-btn').style.display = 'none';

            updateQuestionCounter();
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            initPermissions();
            initChecklist();
            initQuiz();
            updateMdmSummary();
        });

        // Tool details placeholder
        function showToolDetails(toolName) {
            markSectionComplete('tools-' + toolName);
        }
    </script>
</body>
</html>