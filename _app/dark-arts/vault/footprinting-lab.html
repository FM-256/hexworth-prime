<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footprinting & Reconnaissance Lab - Hexworth Prime Dark Arts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #a855f7;
            --accent: #dc2626;
            --bg: #0a0a0f;
            --surface: #1a1a2e;
            --surface-light: #2a2a3e;
            --text: #e0e0e0;
            --text-dim: #a0a0a0;
            --success: #10b981;
            --warning: #f59e0b;
            --border: #3a3a4e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--surface) 0%, var(--surface-light) 100%);
            padding: 2rem;
            border-bottom: 2px solid var(--primary);
            box-shadow: 0 4px 20px rgba(168, 85, 247, 0.2);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .lab-title {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .lab-subtitle {
            color: var(--text-dim);
            font-size: 1.1rem;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.6rem 1.2rem;
            background: var(--surface-light);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .nav-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .progress-bar {
            background: var(--surface);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-track {
            width: 100%;
            height: 20px;
            background: var(--surface-light);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .tab-navigation {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            border-bottom: 2px solid var(--border);
            padding-bottom: 0;
        }

        .tab-btn {
            padding: 1rem 1.5rem;
            background: transparent;
            color: var(--text-dim);
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-btn:hover {
            color: var(--text);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            background: var(--surface);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-subtitle {
            font-size: 1.3rem;
            color: var(--text);
            margin: 1.5rem 0 1rem 0;
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .concept-card {
            background: var(--surface-light);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
        }

        .concept-card h3 {
            color: var(--primary);
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }

        .concept-list {
            list-style: none;
            padding-left: 0;
        }

        .concept-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .concept-list li::before {
            content: "‚ñπ";
            color: var(--primary);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .tool-simulator {
            background: #000;
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
        }

        .terminal-header {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-red { background: #ff5f56; }
        .dot-yellow { background: #ffbd2e; }
        .dot-green { background: #27c93f; }

        .terminal-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .terminal-prompt {
            color: var(--primary);
        }

        .terminal-command {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text);
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            outline: none;
        }

        .terminal-output {
            color: var(--success);
            white-space: pre-wrap;
            font-size: 0.9rem;
            line-height: 1.5;
            max-height: 400px;
            overflow-y: auto;
        }

        .tool-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .tool-btn {
            padding: 0.7rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .tool-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .tool-btn:disabled {
            background: var(--surface-light);
            cursor: not-allowed;
            transform: none;
        }

        .visualization {
            background: var(--surface-light);
            border-radius: 8px;
            padding: 2rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border);
        }

        .flow-diagram {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .flow-number {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .flow-content {
            flex: 1;
            background: var(--surface);
            padding: 1rem;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
        }

        .flow-arrow {
            text-align: center;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .dns-records {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .dns-record {
            background: var(--surface);
            padding: 1rem;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
        }

        .dns-record-type {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .dns-record-desc {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        .osint-sources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .osint-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .osint-card:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
        }

        .osint-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .osint-title {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .osint-data {
            font-size: 0.9rem;
            color: var(--text-dim);
            list-style: none;
        }

        .osint-data li {
            padding: 0.3rem 0;
        }

        .checklist {
            background: var(--surface-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem;
            margin: 0.5rem 0;
            background: var(--surface);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checklist-item:hover {
            background: var(--surface-light);
            border-left: 3px solid var(--primary);
        }

        .checklist-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .checklist-item.checked .checklist-checkbox {
            background: var(--primary);
            border-color: var(--primary);
        }

        .checklist-item.checked .checklist-checkbox::after {
            content: "‚úì";
            color: white;
            font-weight: bold;
        }

        .attack-surface {
            position: relative;
            margin: 2rem 0;
            padding: 2rem;
            background: radial-gradient(circle at center, rgba(168, 85, 247, 0.1), transparent);
        }

        .target-center {
            width: 120px;
            height: 120px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 0 30px rgba(220, 38, 38, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .info-layers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .info-layer {
            text-align: center;
            padding: 1.5rem;
            background: var(--surface);
            border-radius: 8px;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
        }

        .info-layer:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }

        .layer-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .layer-title {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .quiz-container {
            background: var(--surface-light);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-question {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary);
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .question-number {
            color: var(--primary);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .quiz-option {
            padding: 1rem;
            background: var(--surface-light);
            border: 2px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background: var(--surface);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: rgba(168, 85, 247, 0.2);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.2);
        }

        .quiz-option.incorrect {
            border-color: var(--accent);
            background: rgba(220, 38, 38, 0.2);
        }

        .quiz-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .quiz-btn {
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .quiz-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .quiz-btn:disabled {
            background: var(--surface-light);
            cursor: not-allowed;
            transform: none;
        }

        .quiz-results {
            background: var(--surface);
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 2rem;
        }

        .score-display {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
            margin: 1rem 0;
        }

        .xp-reward {
            display: inline-block;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--success), var(--primary));
            border-radius: 8px;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 1rem;
            animation: bounceIn 0.5s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .info-box {
            background: rgba(168, 85, 247, 0.1);
            border-left: 4px solid var(--primary);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .warning-box {
            background: rgba(220, 38, 38, 0.1);
            border-left: 4px solid var(--accent);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .code-block {
            background: #000;
            color: var(--success);
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid var(--border);
        }

        .input-group {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .input-field {
            flex: 1;
            min-width: 200px;
            padding: 0.8rem;
            background: var(--surface-light);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-size: 0.95rem;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .lab-title {
                font-size: 1.8rem;
            }

            .concept-grid,
            .dns-records,
            .osint-sources,
            .info-layers {
                grid-template-columns: 1fr;
            }

            .tab-navigation {
                overflow-x: auto;
            }

            .tab-btn {
                white-space: nowrap;
            }
        }

        .methodology-flow {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin: 1.5rem 0;
        }

        .methodology-step {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--surface);
            border-radius: 6px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
        }

        .methodology-step:hover {
            transform: translateX(10px);
            background: var(--surface-light);
        }

        .step-number {
            width: 35px;
            height: 35px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .zone-transfer-viz {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .zone-servers {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .server-node {
            text-align: center;
            position: relative;
        }

        .server-icon {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto 0.5rem;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
        }

        .server-label {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        .transfer-arrow {
            color: var(--accent);
            font-size: 2rem;
            animation: slideRight 1.5s infinite;
        }

        @keyframes slideRight {
            0%, 100% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(10px); opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1 class="lab-title">Footprinting & Reconnaissance Lab</h1>
            <p class="lab-subtitle">Master the art of information gathering and OSINT techniques</p>
            <div class="nav-buttons">
                <a href="../index.html" class="nav-btn">‚Üê Dark Arts Vault</a>
                <a href="../../index.html" class="nav-btn">‚Üê Hexworth Prime Home</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="progress-bar">
            <div class="progress-label">
                <span>Lab Progress</span>
                <span id="progress-text">0%</span>
            </div>
            <div class="progress-track">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="tab-navigation">
            <button class="tab-btn active" data-tab="concepts">Core Concepts</button>
            <button class="tab-btn" data-tab="whois">WHOIS Recon</button>
            <button class="tab-btn" data-tab="dns">DNS Recon</button>
            <button class="tab-btn" data-tab="osint">OSINT Sources</button>
            <button class="tab-btn" data-tab="methodology">Methodology</button>
            <button class="tab-btn" data-tab="quiz">Final Assessment</button>
        </div>

        <!-- Core Concepts Tab -->
        <div id="concepts" class="tab-content active">
            <div class="section">
                <h2 class="section-title">üéØ What is Footprinting?</h2>
                <p>Footprinting is the first phase of ethical hacking where attackers collect information about a target system to identify ways to intrude into the system. It's the reconnaissance phase that gathers maximum information with minimum interaction.</p>

                <div class="attack-surface">
                    <div class="target-center">TARGET<br>ORGANIZATION</div>
                    <div class="info-layers">
                        <div class="info-layer">
                            <div class="layer-icon">üåê</div>
                            <div class="layer-title">Network Info</div>
                            <div>IPs, Domains, DNS</div>
                        </div>
                        <div class="info-layer">
                            <div class="layer-icon">üíª</div>
                            <div class="layer-title">System Info</div>
                            <div>OS, Services, Ports</div>
                        </div>
                        <div class="info-layer">
                            <div class="layer-icon">üè¢</div>
                            <div class="layer-title">Org Info</div>
                            <div>Employees, Locations</div>
                        </div>
                        <div class="info-layer">
                            <div class="layer-icon">üîê</div>
                            <div class="layer-title">Security Info</div>
                            <div>Firewalls, IDS, Policies</div>
                        </div>
                    </div>
                </div>

                <h3 class="section-subtitle">Footprinting Types</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>ü§´ Passive Footprinting</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-dim);">Gathering information without direct interaction with the target</p>
                        <ul class="concept-list">
                            <li>No direct interaction with target</li>
                            <li>Eavesdropping on communications</li>
                            <li>Public information gathering</li>
                            <li>Hard to detect and trace</li>
                            <li>Lower legal risk</li>
                        </ul>
                        <div class="info-box" style="margin-top: 1rem;">
                            <strong>Examples:</strong> WHOIS lookups, search engines, social media monitoring, job postings analysis
                        </div>
                    </div>

                    <div class="concept-card">
                        <h3>‚ö° Active Footprinting</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-dim);">Gathering information through direct interaction with the target</p>
                        <ul class="concept-list">
                            <li>Direct interaction with target systems</li>
                            <li>Interrogation and probing</li>
                            <li>Easily detectable by IDS/IPS</li>
                            <li>Leaves traces in logs</li>
                            <li>Higher risk of detection</li>
                        </ul>
                        <div class="warning-box" style="margin-top: 1rem;">
                            <strong>Examples:</strong> Port scanning, DNS zone transfers, social engineering calls, network sniffing
                        </div>
                    </div>
                </div>

                <h3 class="section-subtitle">Information Categories</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üíª System Information</h3>
                        <ul class="concept-list">
                            <li>Operating system types and versions</li>
                            <li>Running services and applications</li>
                            <li>User account names</li>
                            <li>Passwords and authentication methods</li>
                            <li>System architecture details</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üåê Network Information</h3>
                        <ul class="concept-list">
                            <li>IP address ranges</li>
                            <li>Domain and subdomain names</li>
                            <li>DNS server details</li>
                            <li>Mail server configurations</li>
                            <li>Firewall and router rules</li>
                            <li>VPN endpoints</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üè¢ Organization Information</h3>
                        <ul class="concept-list">
                            <li>Employee names and roles</li>
                            <li>Contact information</li>
                            <li>Physical locations</li>
                            <li>Business relationships</li>
                            <li>Company structure</li>
                            <li>Technology stack used</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- WHOIS Recon Tab -->
        <div id="whois" class="tab-content">
            <div class="section">
                <h2 class="section-title">üîç WHOIS Reconnaissance</h2>
                <p>WHOIS is a query and response protocol used for querying databases that store registered users or assignees of Internet resources such as domain names, IP address blocks, and autonomous systems.</p>

                <h3 class="section-subtitle">WHOIS Models</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üìö Thick WHOIS Model</h3>
                        <p style="margin-bottom: 1rem;">Complete registration information stored by the registry</p>
                        <ul class="concept-list">
                            <li>Administrative contact details</li>
                            <li>Billing contact information</li>
                            <li>Technical contact details</li>
                            <li>Nameserver information</li>
                            <li>Registration and expiration dates</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üìñ Thin WHOIS Model</h3>
                        <p style="margin-bottom: 1rem;">Minimal information, referral to registrar</p>
                        <ul class="concept-list">
                            <li>Only registrar server reference</li>
                            <li>Requires second query to registrar</li>
                            <li>Common for .com, .net, .org domains</li>
                            <li>Limited direct information</li>
                        </ul>
                    </div>
                </div>

                <h3 class="section-subtitle">Interactive WHOIS Lookup Simulator</h3>
                <div class="tool-simulator">
                    <div class="terminal-header">
                        <div class="terminal-dot dot-red"></div>
                        <div class="terminal-dot dot-yellow"></div>
                        <div class="terminal-dot dot-green"></div>
                    </div>

                    <div class="input-group">
                        <input type="text" id="whois-domain" class="input-field" placeholder="Enter domain (e.g., example.com)" value="example.com">
                    </div>

                    <div class="terminal-input">
                        <span class="terminal-prompt">root@hexworth:~$</span>
                        <span class="terminal-command">whois <span id="whois-display-domain">example.com</span></span>
                    </div>

                    <div class="terminal-output" id="whois-output">Click "Run WHOIS Query" to execute lookup...</div>

                    <div class="tool-buttons">
                        <button class="tool-btn" onclick="runWhoisQuery()">Run WHOIS Query</button>
                        <button class="tool-btn" onclick="loadWhoisExample('thick')">Load Thick Model Example</button>
                        <button class="tool-btn" onclick="loadWhoisExample('thin')">Load Thin Model Example</button>
                    </div>
                </div>

                <div class="info-box">
                    <strong>Key Information from WHOIS:</strong>
                    <ul class="concept-list">
                        <li>Registrant contact information (name, email, phone)</li>
                        <li>Domain registration and expiration dates</li>
                        <li>Nameserver details</li>
                        <li>Registrar information</li>
                        <li>Organization details</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- DNS Recon Tab -->
        <div id="dns" class="tab-content">
            <div class="section">
                <h2 class="section-title">üåê DNS Reconnaissance</h2>
                <p>DNS reconnaissance involves gathering information about DNS servers and their corresponding records for a target organization. This can reveal IP addresses, subdomains, mail servers, and other critical infrastructure details.</p>

                <h3 class="section-subtitle">DNS Record Types Reference</h3>
                <div class="dns-records">
                    <div class="dns-record">
                        <div class="dns-record-type">A Record</div>
                        <div class="dns-record-desc">Maps domain name to IPv4 address</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">AAAA Record</div>
                        <div class="dns-record-desc">Maps domain name to IPv6 address</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">MX Record</div>
                        <div class="dns-record-desc">Specifies mail exchange servers</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">NS Record</div>
                        <div class="dns-record-desc">Specifies authoritative nameservers</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">CNAME Record</div>
                        <div class="dns-record-desc">Creates alias for domain name</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">TXT Record</div>
                        <div class="dns-record-desc">Holds text information (SPF, DKIM)</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">SOA Record</div>
                        <div class="dns-record-desc">Start of Authority, zone information</div>
                    </div>
                    <div class="dns-record">
                        <div class="dns-record-type">PTR Record</div>
                        <div class="dns-record-desc">Reverse DNS lookup (IP to domain)</div>
                    </div>
                </div>

                <h3 class="section-subtitle">DNS Query Tool Simulator</h3>
                <div class="tool-simulator">
                    <div class="terminal-header">
                        <div class="terminal-dot dot-red"></div>
                        <div class="terminal-dot dot-yellow"></div>
                        <div class="terminal-dot dot-green"></div>
                    </div>

                    <div class="input-group">
                        <input type="text" id="dns-domain" class="input-field" placeholder="Enter domain" value="example.com">
                        <select id="dns-tool" class="input-field" style="flex: 0.5;">
                            <option value="nslookup">nslookup</option>
                            <option value="dig">dig</option>
                            <option value="dnsrecon">dnsrecon</option>
                        </select>
                        <select id="dns-record-type" class="input-field" style="flex: 0.5;">
                            <option value="A">A Record</option>
                            <option value="AAAA">AAAA Record</option>
                            <option value="MX">MX Record</option>
                            <option value="NS">NS Record</option>
                            <option value="TXT">TXT Record</option>
                            <option value="SOA">SOA Record</option>
                            <option value="ANY">ANY Record</option>
                        </select>
                    </div>

                    <div class="terminal-input">
                        <span class="terminal-prompt">root@hexworth:~$</span>
                        <span class="terminal-command" id="dns-command-display">nslookup -type=A example.com</span>
                    </div>

                    <div class="terminal-output" id="dns-output">Select tool and record type, then click "Execute Query"...</div>

                    <div class="tool-buttons">
                        <button class="tool-btn" onclick="runDnsQuery()">Execute Query</button>
                        <button class="tool-btn" onclick="demonstrateZoneTransfer()">Demonstrate Zone Transfer</button>
                    </div>
                </div>

                <h3 class="section-subtitle">DNS Zone Transfer Visualization</h3>
                <div class="zone-transfer-viz">
                    <p style="margin-bottom: 1.5rem;">A zone transfer (AXFR) is a DNS transaction where a DNS server passes a copy of part of its database to another DNS server. If misconfigured, attackers can retrieve all DNS records.</p>

                    <div class="zone-servers">
                        <div class="server-node">
                            <div class="server-icon">üë§</div>
                            <div class="server-label">Attacker</div>
                        </div>
                        <div class="transfer-arrow">‚Üí‚Üí‚Üí</div>
                        <div class="server-node">
                            <div class="server-icon">üñ•Ô∏è</div>
                            <div class="server-label">DNS Server</div>
                        </div>
                        <div class="transfer-arrow">‚Üê‚Üê‚Üê</div>
                        <div class="server-node">
                            <div class="server-icon">üì¶</div>
                            <div class="server-label">All DNS Records</div>
                        </div>
                    </div>

                    <div class="code-block">dig axfr @nsztm1.digi.ninja zonetransfer.me

; &lt;&lt;&gt;&gt; DiG 9.18.1 &lt;&lt;&gt;&gt; axfr @nsztm1.digi.ninja zonetransfer.me
zonetransfer.me.        7200    IN      SOA     nsztm1.digi.ninja.
zonetransfer.me.        300     IN      A       5.196.105.14
www.zonetransfer.me.    301     IN      A       5.196.105.14
mail.zonetransfer.me.   300     IN      A       5.196.105.14
ftp.zonetransfer.me.    301     IN      A       5.196.105.14
admin.zonetransfer.me.  300     IN      A       5.196.105.14
...</div>

                    <div class="warning-box">
                        <strong>Security Impact:</strong> Successful zone transfers reveal all subdomains, internal hostnames, IP addresses, and network architecture - a goldmine for attackers planning targeted attacks.
                    </div>
                </div>

                <h3 class="section-subtitle">DNS Reconnaissance Tools</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>nslookup</h3>
                        <p>Interactive tool for querying DNS records</p>
                        <div class="code-block" style="font-size: 0.85rem;">nslookup -type=MX example.com</div>
                    </div>
                    <div class="concept-card">
                        <h3>dig</h3>
                        <p>Domain Information Groper - detailed DNS queries</p>
                        <div class="code-block" style="font-size: 0.85rem;">dig example.com ANY +noall +answer</div>
                    </div>
                    <div class="concept-card">
                        <h3>dnsrecon</h3>
                        <p>Automated DNS enumeration script</p>
                        <div class="code-block" style="font-size: 0.85rem;">dnsrecon -d example.com -t std</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- OSINT Sources Tab -->
        <div id="osint" class="tab-content">
            <div class="section">
                <h2 class="section-title">üïµÔ∏è OSINT Sources & Social Engineering</h2>
                <p>Open Source Intelligence (OSINT) involves collecting information from publicly available sources. Social media, job boards, and public databases provide valuable reconnaissance data.</p>

                <h3 class="section-subtitle">Social Media Intelligence Examples</h3>
                <div class="osint-sources">
                    <div class="osint-card">
                        <div class="osint-icon">üíº</div>
                        <div class="osint-title">LinkedIn Intelligence</div>
                        <ul class="osint-data">
                            <li><strong>Employee profiles:</strong> Names, roles, departments</li>
                            <li><strong>Technology skills:</strong> Software, frameworks, tools</li>
                            <li><strong>Company structure:</strong> Organizational hierarchy</li>
                            <li><strong>Recent hires:</strong> Expansion areas</li>
                            <li><strong>Connections:</strong> Business relationships</li>
                        </ul>
                    </div>

                    <div class="osint-card">
                        <div class="osint-icon">üë•</div>
                        <div class="osint-title">Facebook/Instagram</div>
                        <ul class="osint-data">
                            <li><strong>Personal information:</strong> Family, friends, interests</li>
                            <li><strong>Location data:</strong> Check-ins, geotags</li>
                            <li><strong>Schedule patterns:</strong> Vacation, events</li>
                            <li><strong>Photos/Videos:</strong> Office layouts, badges</li>
                            <li><strong>Social engineering:</strong> Personal details for pretexting</li>
                        </ul>
                    </div>

                    <div class="osint-card">
                        <div class="osint-icon">üê¶</div>
                        <div class="osint-title">Twitter/X Intelligence</div>
                        <ul class="osint-data">
                            <li><strong>Real-time updates:</strong> Company announcements</li>
                            <li><strong>Employee sentiment:</strong> Frustrations, complaints</li>
                            <li><strong>Tech discussions:</strong> Technologies used</li>
                            <li><strong>Security incidents:</strong> Outage reports</li>
                            <li><strong>Industry connections:</strong> Partners, vendors</li>
                        </ul>
                    </div>

                    <div class="osint-card">
                        <div class="osint-icon">üíª</div>
                        <div class="osint-title">GitHub/GitLab</div>
                        <ul class="osint-data">
                            <li><strong>Source code:</strong> Proprietary code leaks</li>
                            <li><strong>API keys:</strong> Hardcoded credentials</li>
                            <li><strong>Configuration files:</strong> Server details</li>
                            <li><strong>Developer emails:</strong> Contact information</li>
                            <li><strong>Technology stack:</strong> Languages, frameworks</li>
                        </ul>
                    </div>

                    <div class="osint-card">
                        <div class="osint-icon">üìã</div>
                        <div class="osint-title">Job Board Reconnaissance</div>
                        <ul class="osint-data">
                            <li><strong>Required skills:</strong> Technology requirements</li>
                            <li><strong>Software versions:</strong> Specific versions used</li>
                            <li><strong>Network equipment:</strong> Cisco, Juniper, etc.</li>
                            <li><strong>Security tools:</strong> Firewalls, SIEM, EDR</li>
                            <li><strong>Project details:</strong> Upcoming initiatives</li>
                        </ul>
                    </div>

                    <div class="osint-card">
                        <div class="osint-icon">üåë</div>
                        <div class="osint-title">Deep/Dark Web</div>
                        <ul class="osint-data">
                            <li><strong>Data breaches:</strong> Leaked credentials</li>
                            <li><strong>Paste sites:</strong> Exposed information</li>
                            <li><strong>.onion sites:</strong> Underground forums</li>
                            <li><strong>Credential dumps:</strong> Username/password pairs</li>
                            <li><strong>Vulnerability markets:</strong> Zero-day exploits</li>
                        </ul>
                    </div>
                </div>

                <h3 class="section-subtitle">OSINT Reconnaissance Checklist</h3>
                <div class="checklist" id="osint-checklist">
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Search engine reconnaissance (Google dorking, advanced operators)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>WHOIS database queries for domain registration information</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>DNS enumeration and subdomain discovery</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Social media profile analysis (LinkedIn, Twitter, Facebook)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Job posting analysis for technology stack intelligence</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Public code repository scanning (GitHub, GitLab, Bitbucket)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Company website analysis (employee names, email formats)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Financial records and SEC filings (for public companies)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>News articles and press releases about the organization</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Archive.org (Wayback Machine) for historical website data</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Metadata extraction from public documents and images</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div>Data breach databases and credential leak checking</div>
                    </div>
                </div>

                <div class="info-box">
                    <strong>Pro Tip:</strong> Always document your OSINT findings systematically. Use tools like Maltego, Recon-ng, or theHarvester to automate and organize large-scale intelligence gathering operations.
                </div>
            </div>
        </div>

        <!-- Methodology Tab -->
        <div id="methodology" class="tab-content">
            <div class="section">
                <h2 class="section-title">üéØ Reconnaissance Methodology</h2>
                <p>A systematic approach to footprinting ensures comprehensive intelligence gathering while maintaining operational security.</p>

                <h3 class="section-subtitle">Step-by-Step Reconnaissance Process</h3>
                <div class="methodology-flow">
                    <div class="methodology-step">
                        <div class="step-number">1</div>
                        <div>
                            <strong style="color: var(--primary);">Define Objectives</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Identify what information you need: network architecture, employee details, technology stack, or security posture.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">2</div>
                        <div>
                            <strong style="color: var(--primary);">Passive Reconnaissance First</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Start with OSINT: search engines, WHOIS, DNS records, social media, job postings - minimize detection risk.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">3</div>
                        <div>
                            <strong style="color: var(--primary);">Document Findings</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Create detailed notes with timestamps, sources, and confidence levels. Use tools like CherryTree or KeepNote.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">4</div>
                        <div>
                            <strong style="color: var(--primary);">Network Enumeration</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Map IP ranges, identify subdomains, enumerate DNS records, discover mail servers and network infrastructure.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">5</div>
                        <div>
                            <strong style="color: var(--primary);">Social Engineering Preparation</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Gather employee names, email formats, organizational structure, and personal details for pretexting.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">6</div>
                        <div>
                            <strong style="color: var(--primary);">Active Reconnaissance (Authorized Only)</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Port scanning, service enumeration, vulnerability scanning - only with explicit authorization.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">7</div>
                        <div>
                            <strong style="color: var(--primary);">Analysis & Synthesis</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Correlate information, identify patterns, create attack surface map, prioritize vulnerabilities.</p>
                        </div>
                    </div>

                    <div class="methodology-step">
                        <div class="step-number">8</div>
                        <div>
                            <strong style="color: var(--primary);">Report Generation</strong>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">Document methodology, findings, risk assessment, and recommendations in a professional report.</p>
                        </div>
                    </div>
                </div>

                <h3 class="section-subtitle">Countermeasures & Defense</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3>üõ°Ô∏è DNS Security</h3>
                        <ul class="concept-list">
                            <li>Disable DNS zone transfers to unauthorized hosts</li>
                            <li>Use split DNS (internal vs external views)</li>
                            <li>Implement DNSSEC for authenticity</li>
                            <li>Monitor for suspicious DNS queries</li>
                            <li>Limit DNS information disclosure</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üîí WHOIS Privacy</h3>
                        <ul class="concept-list">
                            <li>Use WHOIS privacy protection services</li>
                            <li>Register domains through privacy-focused registrars</li>
                            <li>Use generic contact information</li>
                            <li>Separate business and technical contacts</li>
                            <li>Monitor WHOIS changes for unauthorized modifications</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üë• Social Media Policies</h3>
                        <ul class="concept-list">
                            <li>Employee security awareness training</li>
                            <li>Limit publicly shared technical details</li>
                            <li>Review privacy settings on all platforms</li>
                            <li>Separate personal and professional accounts</li>
                            <li>Monitor for information leakage</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üìã Job Posting Security</h3>
                        <ul class="concept-list">
                            <li>Avoid specific version numbers</li>
                            <li>Use general technology categories</li>
                            <li>Don't disclose sensitive project details</li>
                            <li>Review postings for information leakage</li>
                            <li>Limit internal system naming</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üíª Web Presence</h3>
                        <ul class="concept-list">
                            <li>Remove metadata from public documents</li>
                            <li>Sanitize error messages and headers</li>
                            <li>Implement robots.txt carefully</li>
                            <li>Monitor public code repositories</li>
                            <li>Regular security audits of web assets</li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h3>üîç Monitoring & Detection</h3>
                        <ul class="concept-list">
                            <li>Implement intrusion detection systems</li>
                            <li>Log and analyze reconnaissance attempts</li>
                            <li>Set up honeypots for early warning</li>
                            <li>Monitor dark web for leaked data</li>
                            <li>Regular vulnerability assessments</li>
                        </ul>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Legal Notice:</strong> Always obtain proper authorization before conducting any reconnaissance activities. Unauthorized information gathering may violate computer fraud and abuse laws, even if no systems are accessed.
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="section">
                <h2 class="section-title">üìù Final Assessment</h2>
                <p style="margin-bottom: 2rem;">Test your knowledge of footprinting and reconnaissance techniques. Score 75% or higher to earn 75 XP!</p>

                <div class="quiz-container" id="quiz-container">
                    <!-- Questions will be generated by JavaScript -->
                </div>

                <div class="quiz-controls">
                    <button class="quiz-btn" id="submit-quiz" onclick="submitQuiz()">Submit Assessment</button>
                    <button class="quiz-btn" id="retry-quiz" onclick="retryQuiz()" style="display: none;">Retry Quiz</button>
                </div>

                <div id="quiz-results" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        // Tab Navigation
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.getAttribute('data-tab');

                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                button.classList.add('active');
                document.getElementById(targetTab).classList.add('active');

                updateProgress();
            });
        });

        // Progress Tracking
        function updateProgress() {
            const totalTabs = tabButtons.length;
            const visitedTabs = new Set();

            tabButtons.forEach(btn => {
                if (btn.classList.contains('active') || localStorage.getItem(`visited-${btn.getAttribute('data-tab')}`)) {
                    visitedTabs.add(btn.getAttribute('data-tab'));
                    localStorage.setItem(`visited-${btn.getAttribute('data-tab')}`, 'true');
                }
            });

            const progress = (visitedTabs.size / totalTabs) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-text').textContent = Math.round(progress) + '%';
        }

        // WHOIS Simulator
        function runWhoisQuery() {
            const domain = document.getElementById('whois-domain').value || 'example.com';
            document.getElementById('whois-display-domain').textContent = domain;

            const output = `
Domain Name: ${domain.toUpperCase()}
Registry Domain ID: D123456789-LROR
Registrar WHOIS Server: whois.registrar.com
Registrar URL: http://www.registrar.com
Updated Date: 2024-01-15T10:30:00Z
Creation Date: 2010-08-15T14:20:00Z
Registry Expiry Date: 2025-08-15T14:20:00Z
Registrar: Example Registrar Inc.
Registrar IANA ID: 1234
Registrar Abuse Contact Email: abuse@registrar.com
Registrar Abuse Contact Phone: +1.5551234567

Domain Status: clientTransferProhibited
Domain Status: clientUpdateProhibited

Registry Registrant ID: C123456789-LROR
Registrant Name: John Doe
Registrant Organization: Acme Corporation
Registrant Street: 123 Main Street
Registrant City: San Francisco
Registrant State/Province: CA
Registrant Postal Code: 94102
Registrant Country: US
Registrant Phone: +1.4155551234
Registrant Email: admin@${domain}

Admin Contact: Same as Registrant
Tech Contact: Same as Registrant

Name Server: ns1.${domain}
Name Server: ns2.${domain}

DNSSEC: unsigned

>>> Last update of WHOIS database: 2024-12-23T12:00:00Z <<<
            `;

            document.getElementById('whois-output').textContent = output;
        }

        function loadWhoisExample(model) {
            if (model === 'thick') {
                document.getElementById('whois-domain').value = 'example.org';
                document.getElementById('whois-display-domain').textContent = 'example.org';
                document.getElementById('whois-output').textContent = `
THICK WHOIS MODEL EXAMPLE (Complete Information)
================================================

Domain Name: EXAMPLE.ORG
Registry Domain ID: D2328855-LROR
Registrar: Big Registrar LLC
Creation Date: 2015-03-20T08:15:00Z
Expiry Date: 2025-03-20T08:15:00Z

Administrative Contact:
  Name: Jane Smith
  Organization: Tech Solutions Inc.
  Email: admin@techsolutions.com
  Phone: +1.5559876543
  Address: 456 Tech Ave, Austin, TX 78701, US

Billing Contact:
  Name: Finance Department
  Email: billing@techsolutions.com
  Phone: +1.5559876544

Technical Contact:
  Name: IT Operations
  Email: techops@techsolutions.com
  Phone: +1.5559876545

Name Servers:
  ns1.example.org (192.0.2.1)
  ns2.example.org (192.0.2.2)

All contact information stored in registry database.
                `;
            } else {
                document.getElementById('whois-domain').value = 'example.com';
                document.getElementById('whois-display-domain').textContent = 'example.com';
                document.getElementById('whois-output').textContent = `
THIN WHOIS MODEL EXAMPLE (Referral Only)
=========================================

Domain Name: EXAMPLE.COM
Registry Domain ID: 2336799_DOMAIN_COM-VRSN
Registrar WHOIS Server: whois.exampleregistrar.com
Registrar URL: http://www.exampleregistrar.com
Updated Date: 2024-01-10T00:00:00Z
Creation Date: 1995-08-14T04:00:00Z
Registrar: Example Registrar, Inc.

>>> For detailed WHOIS information, query the registrar server:
>>> whois -h whois.exampleregistrar.com example.com

Registry stores minimal information.
Full details available only from registrar.
                `;
            }
        }

        // DNS Query Simulator
        document.getElementById('dns-domain').addEventListener('input', updateDnsCommand);
        document.getElementById('dns-tool').addEventListener('change', updateDnsCommand);
        document.getElementById('dns-record-type').addEventListener('change', updateDnsCommand);

        function updateDnsCommand() {
            const domain = document.getElementById('dns-domain').value || 'example.com';
            const tool = document.getElementById('dns-tool').value;
            const recordType = document.getElementById('dns-record-type').value;

            let command = '';
            if (tool === 'nslookup') {
                command = `nslookup -type=${recordType} ${domain}`;
            } else if (tool === 'dig') {
                command = `dig ${domain} ${recordType} +short`;
            } else if (tool === 'dnsrecon') {
                command = `dnsrecon -d ${domain} -t ${recordType}`;
            }

            document.getElementById('dns-command-display').textContent = command;
        }

        function runDnsQuery() {
            const domain = document.getElementById('dns-domain').value || 'example.com';
            const tool = document.getElementById('dns-tool').value;
            const recordType = document.getElementById('dns-record-type').value;

            let output = '';

            if (tool === 'nslookup') {
                output = generateNslookupOutput(domain, recordType);
            } else if (tool === 'dig') {
                output = generateDigOutput(domain, recordType);
            } else if (tool === 'dnsrecon') {
                output = generateDnsreconOutput(domain, recordType);
            }

            document.getElementById('dns-output').textContent = output;
        }

        function generateNslookupOutput(domain, recordType) {
            const outputs = {
                'A': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
Name:    ${domain}
Address: 93.184.216.34`,
                'MX': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
${domain} mail exchanger = 10 mail1.${domain}
${domain} mail exchanger = 20 mail2.${domain}`,
                'NS': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
${domain} nameserver = ns1.${domain}
${domain} nameserver = ns2.${domain}`,
                'TXT': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
${domain} text = "v=spf1 include:_spf.${domain} ~all"
${domain} text = "google-site-verification=abc123xyz789"`,
                'SOA': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
${domain}
    origin = ns1.${domain}
    mail addr = admin.${domain}
    serial = 2024122301
    refresh = 7200
    retry = 3600
    expire = 1209600
    minimum = 3600`,
                'ANY': `Server:  8.8.8.8
Address: 8.8.8.8#53

Non-authoritative answer:
${domain} has address 93.184.216.34
${domain} nameserver = ns1.${domain}
${domain} mail exchanger = 10 mail.${domain}
${domain} text = "v=spf1 include:_spf.${domain} ~all"`
            };

            return outputs[recordType] || outputs['A'];
        }

        function generateDigOutput(domain, recordType) {
            const outputs = {
                'A': `; <<>> DiG 9.18.1 <<>> ${domain} A +short
;; global options: +cmd
93.184.216.34`,
                'MX': `; <<>> DiG 9.18.1 <<>> ${domain} MX +short
;; global options: +cmd
10 mail1.${domain}
20 mail2.${domain}`,
                'NS': `; <<>> DiG 9.18.1 <<>> ${domain} NS +short
;; global options: +cmd
ns1.${domain}
ns2.${domain}`,
                'TXT': `; <<>> DiG 9.18.1 <<>> ${domain} TXT +short
;; global options: +cmd
"v=spf1 include:_spf.${domain} ~all"
"google-site-verification=abc123xyz789"`,
                'AAAA': `; <<>> DiG 9.18.1 <<>> ${domain} AAAA +short
;; global options: +cmd
2606:2800:220:1:248:1893:25c8:1946`,
                'ANY': `; <<>> DiG 9.18.1 <<>> ${domain} ANY
;; ANSWER SECTION:
${domain}. 300 IN A 93.184.216.34
${domain}. 300 IN NS ns1.${domain}
${domain}. 300 IN MX 10 mail.${domain}
${domain}. 300 IN TXT "v=spf1 include:_spf.${domain} ~all"`
            };

            return outputs[recordType] || outputs['A'];
        }

        function generateDnsreconOutput(domain, recordType) {
            return `[*] Performing ${recordType} record enumeration for ${domain}
[*]
[+] A ${domain} 93.184.216.34
[+] NS ${domain} ns1.${domain} 192.0.2.1
[+] NS ${domain} ns2.${domain} 192.0.2.2
[+] MX ${domain} mail.${domain} 192.0.2.10
[+] TXT ${domain} "v=spf1 include:_spf.${domain} ~all"
[*]
[*] Enumeration complete. 5 records found.`;
        }

        function demonstrateZoneTransfer() {
            const output = `; <<>> DiG 9.18.1 <<>> axfr @nsztm1.digi.ninja zonetransfer.me
; (1 server found)
;; global options: +cmd
zonetransfer.me.        7200    IN      SOA     nsztm1.digi.ninja. robin.digi.ninja. 2019100801 172800 900 1209600 3600
zonetransfer.me.        300     IN      HINFO   "Casio fx-700G" "Windows XP"
zonetransfer.me.        301     IN      TXT     "google-site-verification=tyP28J7JAUHA9fw2sHXMgcCC0I6XBmmoVi04VlMewxA"
zonetransfer.me.        7200    IN      MX      0 ASPMX.L.GOOGLE.COM.
zonetransfer.me.        7200    IN      A       5.196.105.14
zonetransfer.me.        7200    IN      NS      nsztm1.digi.ninja.
zonetransfer.me.        7200    IN      NS      nsztm2.digi.ninja.
admin.zonetransfer.me.  300     IN      A       5.196.105.14
ftp.zonetransfer.me.    301     IN      A       5.196.105.14
mail.zonetransfer.me.   300     IN      A       5.196.105.14
www.zonetransfer.me.    301     IN      A       5.196.105.14
vpn.zonetransfer.me.    4000    IN      A       174.36.59.154
internal.zonetransfer.me. 300   IN      A       192.168.1.100
staging.zonetransfer.me. 300    IN      A       10.0.0.50
dev.zonetransfer.me.    300     IN      A       172.16.0.10

;; Query time: 45 msec
;; SERVER: 81.4.108.41#53(81.4.108.41)
;; WHEN: Mon Dec 23 12:00:00 PST 2024
;; XFR size: 15 records (messages 1, bytes 512)

[!] ZONE TRANSFER SUCCESSFUL - All DNS records exposed!
[!] Found internal subdomains: internal, staging, dev
[!] Discovered internal IP ranges: 192.168.1.x, 10.0.0.x, 172.16.0.x`;

            document.getElementById('dns-output').textContent = output;
        }

        // OSINT Checklist
        function toggleChecklistItem(item) {
            item.classList.toggle('checked');
            updateProgress();
        }

        // Quiz System
        const quizQuestions = [
            {
                question: "Which type of footprinting involves NO direct interaction with the target system?",
                options: [
                    "Active footprinting",
                    "Passive footprinting",
                    "Network scanning",
                    "Vulnerability assessment"
                ],
                correct: 1,
                explanation: "Passive footprinting gathers information without directly interacting with the target, making it harder to detect. Examples include WHOIS lookups and social media monitoring."
            },
            {
                question: "What is the primary difference between thick and thin WHOIS models?",
                options: [
                    "Thick model encrypts data, thin model doesn't",
                    "Thick model stores complete registration info, thin model only stores registrar reference",
                    "Thick model is faster than thin model",
                    "Thin model provides more detailed information"
                ],
                correct: 1,
                explanation: "Thick WHOIS model stores all registration information (admin, billing, technical contacts) while thin model only stores the registrar server reference, requiring a second query."
            },
            {
                question: "Which DNS record type maps a domain name to an IPv4 address?",
                options: [
                    "AAAA record",
                    "CNAME record",
                    "A record",
                    "MX record"
                ],
                correct: 2,
                explanation: "A records map domain names to IPv4 addresses. AAAA records are for IPv6, CNAME creates aliases, and MX specifies mail servers."
            },
            {
                question: "What command is used to attempt a DNS zone transfer using dig?",
                options: [
                    "dig domain.com transfer",
                    "dig axfr @nameserver domain.com",
                    "dig domain.com -transfer",
                    "dig zone domain.com"
                ],
                correct: 1,
                explanation: "The correct syntax is 'dig axfr @nameserver domain.com' where AXFR stands for Asynchronous Full Transfer Zone, and you specify the nameserver to query."
            },
            {
                question: "Which of the following is an example of active footprinting?",
                options: [
                    "Searching LinkedIn for employee information",
                    "Reading company press releases",
                    "Port scanning the target network",
                    "Checking WHOIS records"
                ],
                correct: 2,
                explanation: "Port scanning involves directly interacting with the target system and is easily detectable. The other options are passive reconnaissance techniques."
            },
            {
                question: "What information can be gathered from job postings during reconnaissance?",
                options: [
                    "Current employee passwords",
                    "Technology stack and software versions used",
                    "Network firewall rules",
                    "Encryption keys"
                ],
                correct: 1,
                explanation: "Job postings often reveal the organization's technology stack, required skills, software versions, and upcoming projects - valuable intelligence for attackers."
            },
            {
                question: "Which DNS record type specifies the mail servers for a domain?",
                options: [
                    "A record",
                    "NS record",
                    "MX record",
                    "TXT record"
                ],
                correct: 2,
                explanation: "MX (Mail Exchange) records specify the mail servers responsible for receiving email for a domain, along with their priority values."
            },
            {
                question: "What is the primary risk of a successful DNS zone transfer?",
                options: [
                    "It deletes all DNS records",
                    "It reveals all subdomains and internal hostnames",
                    "It crashes the DNS server",
                    "It encrypts the DNS database"
                ],
                correct: 1,
                explanation: "Successful zone transfers expose the entire DNS database including all subdomains, internal hostnames, IP addresses, and network architecture - a complete map for attackers."
            },
            {
                question: "Which platform is most valuable for discovering an organization's technology stack and employee structure?",
                options: [
                    "Instagram",
                    "TikTok",
                    "LinkedIn",
                    "Pinterest"
                ],
                correct: 2,
                explanation: "LinkedIn is the premier platform for professional networking and reveals employee roles, skills, technology expertise, organizational structure, and business relationships."
            },
            {
                question: "What countermeasure should organizations implement to prevent unauthorized DNS zone transfers?",
                options: [
                    "Disable all DNS queries",
                    "Restrict zone transfers to authorized nameservers only",
                    "Use only A records",
                    "Delete all NS records"
                ],
                correct: 1,
                explanation: "Organizations should configure DNS servers to only allow zone transfers to authorized secondary nameservers, preventing attackers from retrieving the entire DNS database."
            },
            {
                question: "Which type of information is typically found in metadata of public documents?",
                options: [
                    "Database passwords",
                    "Author names, software versions, file paths, creation dates",
                    "Network firewall rules",
                    "VPN configurations"
                ],
                correct: 1,
                explanation: "Document metadata often contains author names, software versions used, internal file paths, usernames, creation/modification dates, and sometimes sensitive comments or tracked changes."
            },
            {
                question: "What is the first step in a systematic reconnaissance methodology?",
                options: [
                    "Port scanning",
                    "Define objectives and identify required information",
                    "DNS zone transfer",
                    "Social engineering"
                ],
                correct: 1,
                explanation: "The first step is always to define clear objectives and identify what information you need to gather. This guides the entire reconnaissance process and ensures focused, efficient intelligence gathering."
            }
        ];

        function initializeQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-question';
                questionDiv.innerHTML = `
                    <div class="question-text">
                        <span class="question-number">Question ${index + 1}:</span>
                        ${q.question}
                    </div>
                    <div class="quiz-options">
                        ${q.options.map((option, optIndex) => `
                            <div class="quiz-option" data-question="${index}" data-option="${optIndex}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            // Add click handlers to options
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionIndex = this.getAttribute('data-question');
                    const siblings = document.querySelectorAll(`[data-question="${questionIndex}"]`);
                    siblings.forEach(sib => sib.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        }

        function submitQuiz() {
            let correct = 0;
            let answered = 0;

            quizQuestions.forEach((q, index) => {
                const selected = document.querySelector(`[data-question="${index}"].selected`);
                if (selected) {
                    answered++;
                    const selectedOption = parseInt(selected.getAttribute('data-option'));
                    const allOptions = document.querySelectorAll(`[data-question="${index}"]`);

                    if (selectedOption === q.correct) {
                        correct++;
                        selected.classList.add('correct');
                    } else {
                        selected.classList.add('incorrect');
                        allOptions[q.correct].classList.add('correct');
                    }

                    // Disable further selection
                    allOptions.forEach(opt => {
                        opt.style.pointerEvents = 'none';
                    });
                }
            });

            if (answered < quizQuestions.length) {
                alert('Please answer all questions before submitting!');
                return;
            }

            const score = (correct / quizQuestions.length) * 100;
            const passed = score >= 75;

            const resultsDiv = document.getElementById('quiz-results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = `
                <div class="quiz-results">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">Assessment Results</h3>
                    <div class="score-display">${score.toFixed(0)}%</div>
                    <p style="font-size: 1.2rem; margin: 1rem 0;">
                        You answered ${correct} out of ${quizQuestions.length} questions correctly.
                    </p>
                    ${passed ? `
                        <div style="color: var(--success); font-size: 1.1rem; margin: 1rem 0;">
                            üéâ Congratulations! You passed the assessment!
                        </div>
                        <div class="xp-reward">
                            +75 XP Earned!
                        </div>
                        <p style="margin-top: 1.5rem;">
                            You have demonstrated mastery of footprinting and reconnaissance techniques.
                            You're ready to apply these skills in real-world ethical hacking scenarios!
                        </p>
                    ` : `
                        <div style="color: var(--accent); font-size: 1.1rem; margin: 1rem 0;">
                            You need 75% or higher to pass. Review the material and try again!
                        </div>
                        <p style="margin-top: 1.5rem;">
                            Focus on understanding the differences between passive and active reconnaissance,
                            DNS record types, and OSINT techniques.
                        </p>
                    `}
                </div>
            `;

            document.getElementById('submit-quiz').style.display = 'none';
            document.getElementById('retry-quiz').style.display = 'inline-block';

            // Save completion status
            if (passed) {
                localStorage.setItem('footprinting-lab-completed', 'true');
                localStorage.setItem('footprinting-lab-score', score);
            }

            updateProgress();
        }

        function retryQuiz() {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.style.pointerEvents = 'auto';
            });

            document.getElementById('quiz-results').style.display = 'none';
            document.getElementById('submit-quiz').style.display = 'inline-block';
            document.getElementById('retry-quiz').style.display = 'none';

            window.scrollTo({ top: document.getElementById('quiz-container').offsetTop - 100, behavior: 'smooth' });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeQuiz();
            updateProgress();
            updateDnsCommand();

            // Load previous progress if exists
            if (localStorage.getItem('footprinting-lab-completed')) {
                const score = localStorage.getItem('footprinting-lab-score');
                console.log('Previously completed with score:', score);
            }
        });
    </script>
<script src="../../components/FluxCapacitor.js"></script>
</body>
</html>