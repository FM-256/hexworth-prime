<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Security Lab | Cloud House</title>
    <style>
        :root {
            --cloud-primary: #38bdf8;
            --cloud-secondary: #0ea5e9;
            --cloud-dark: #0c4a6e;
            --cloud-glow: rgba(56, 189, 248, 0.3);
            --security-accent: #ef4444;
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a24;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .lab-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .lab-header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            border-radius: 16px;
            border: 1px solid var(--security-accent);
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.2);
        }

        .lab-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--cloud-primary), var(--security-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .lab-header .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--cloud-primary);
            text-decoration: none;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            color: #60a5fa;
            transform: translateX(-5px);
        }

        .progress-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .progress-bar {
            height: 12px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--security-accent), var(--success));
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .exercise {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(239, 68, 68, 0.2);
            transition: all 0.3s ease;
        }

        .exercise:hover {
            border-color: var(--security-accent);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
        }

        .exercise.completed {
            border-color: var(--success);
            background: linear-gradient(135deg, var(--bg-secondary), rgba(34, 197, 94, 0.1));
        }

        .exercise-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .exercise-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--security-accent), #dc2626);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .exercise-title h2 {
            font-size: 1.4rem;
            color: var(--text-primary);
        }

        .exercise-title .time {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .objective {
            background: var(--bg-tertiary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--security-accent);
        }

        .objective strong {
            color: var(--security-accent);
        }

        .content-section {
            margin-bottom: 1.5rem;
        }

        .content-section h3 {
            color: var(--cloud-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .security-diagram {
            background: #000;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            white-space: pre;
            color: var(--security-accent);
            border: 1px solid rgba(239, 68, 68, 0.3);
            margin-bottom: 1rem;
        }

        .task-list {
            list-style: none;
        }

        .task-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .task-list li:last-child {
            border-bottom: none;
        }

        .task-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--security-accent);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .task-checkbox.checked {
            background: var(--success);
            border-color: var(--success);
        }

        .task-checkbox.checked::after {
            content: 'âœ“';
            color: white;
            font-weight: bold;
        }

        .security-card {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-left: 3px solid var(--security-accent);
        }

        .security-card h4 {
            color: var(--security-accent);
            margin-bottom: 0.5rem;
        }

        .security-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .policy-block {
            background: #000;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .policy-block .comment {
            color: #6b7280;
        }

        .policy-block .keyword {
            color: #f472b6;
        }

        .policy-block .string {
            color: #a5f3fc;
        }

        .policy-block .value {
            color: #fcd34d;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .comparison-table th {
            background: rgba(239, 68, 68, 0.2);
            color: var(--security-accent);
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-tertiary);
        }

        .completion-btn {
            width: 100%;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--security-accent), #dc2626);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .completion-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
        }

        .completion-btn.completed {
            background: var(--success);
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .warning-box strong {
            color: var(--danger);
        }

        .tip-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid var(--warning);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .tip-box strong {
            color: var(--warning);
        }

        .compliance-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--cloud-primary);
            border-radius: 999px;
            font-size: 0.8rem;
            color: var(--cloud-primary);
            margin: 0.25rem;
        }

        .reflection-section {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), transparent);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 1px dashed var(--security-accent);
        }

        .reflection-section h4 {
            color: var(--security-accent);
            margin-bottom: 1rem;
        }

        .applet-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .applet-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--security-accent);
            border-radius: 8px;
            color: var(--security-accent);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .applet-link:hover {
            background: var(--security-accent);
            color: white;
        }

        @media (max-width: 768px) {
            .lab-container {
                padding: 1rem;
            }

            .lab-header h1 {
                font-size: 1.8rem;
            }

            .security-diagram {
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <div class="lab-container">
        <a href="../index.html" class="back-link">â† Back to Cloud House</a>

        <header class="lab-header">
            <h1>ğŸ” Cloud Security Lab</h1>
            <p class="subtitle">Identity, encryption, network security, and compliance for CLF-C02</p>
        </header>

        <div class="progress-section">
            <div class="progress-header">
                <span>Lab Progress</span>
                <span id="progressText">0 / 6 exercises</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
        </div>

        <!-- Exercise 1: Shared Responsibility Model -->
        <div class="exercise" id="exercise1">
            <div class="exercise-header">
                <div class="exercise-number">1</div>
                <div class="exercise-title">
                    <h2>Shared Responsibility Model</h2>
                    <span class="time">â±ï¸ 25 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Understand the division of security responsibilities between cloud providers and customers.
            </div>

            <div class="content-section">
                <h3>ğŸ¤ AWS Shared Responsibility</h3>
                <div class="security-diagram">
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    SHARED RESPONSIBILITY MODEL                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                     â”‚
    â”‚   CUSTOMER RESPONSIBILITY (Security IN the Cloud)                  â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚   â”‚  Customer Data                                              â”‚   â”‚
    â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚   â”‚  Platform, Applications, Identity & Access Management       â”‚   â”‚
    â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚   â”‚  Operating System, Network & Firewall Configuration         â”‚   â”‚
    â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚   â”‚  Client-Side Encryption  â”‚  Server-Side Encryption          â”‚   â”‚
    â”‚   â”‚  Network Traffic Protection                                 â”‚   â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                                     â”‚
    â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
    â”‚                                                                     â”‚
    â”‚   AWS RESPONSIBILITY (Security OF the Cloud)                       â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚   â”‚  Software: Compute â”‚ Storage â”‚ Database â”‚ Networking        â”‚   â”‚
    â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚   â”‚  Hardware/AWS Global Infrastructure                         â”‚   â”‚
    â”‚   â”‚  Regions â”‚ Availability Zones â”‚ Edge Locations              â”‚   â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ“Š Responsibility by Service Type</h3>
                <table class="comparison-table">
                    <tr>
                        <th>Service Type</th>
                        <th>Example</th>
                        <th>Customer Manages</th>
                        <th>AWS Manages</th>
                    </tr>
                    <tr>
                        <td>IaaS</td>
                        <td>EC2</td>
                        <td>OS, apps, data, network config</td>
                        <td>Hardware, hypervisor</td>
                    </tr>
                    <tr>
                        <td>PaaS</td>
                        <td>Elastic Beanstalk</td>
                        <td>Apps, data</td>
                        <td>Runtime, OS, infrastructure</td>
                    </tr>
                    <tr>
                        <td>SaaS</td>
                        <td>AWS Trusted Advisor</td>
                        <td>Data access controls</td>
                        <td>Everything else</td>
                    </tr>
                    <tr>
                        <td>Serverless</td>
                        <td>Lambda</td>
                        <td>Code, data, IAM</td>
                        <td>Compute, network, runtime</td>
                    </tr>
                </table>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 security tasks that are ALWAYS your responsibility</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 security tasks that AWS handles for you</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Compare EC2 vs Lambda responsibilities (what changes?)</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Identify who is responsible for patching EC2 operating systems</span>
                    </li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(1)">
                Mark Exercise Complete
            </button>
        </div>

        <!-- Exercise 2: IAM Deep Dive -->
        <div class="exercise" id="exercise2">
            <div class="exercise-header">
                <div class="exercise-number">2</div>
                <div class="exercise-title">
                    <h2>Identity & Access Management (IAM)</h2>
                    <span class="time">â±ï¸ 40 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Master IAM users, groups, roles, and policies for secure access control.
            </div>

            <div class="content-section">
                <h3>ğŸ‘¥ IAM Components</h3>

                <div class="security-card">
                    <h4>Users</h4>
                    <p>Individual identities representing people or services. Each has unique credentials (password, access keys).</p>
                </div>

                <div class="security-card">
                    <h4>Groups</h4>
                    <p>Collections of users with shared permissions. Attach policies to groups, not individual users.</p>
                </div>

                <div class="security-card">
                    <h4>Roles</h4>
                    <p>Temporary security credentials for trusted entities (EC2, Lambda, cross-account access). No long-term credentials.</p>
                </div>

                <div class="security-card">
                    <h4>Policies</h4>
                    <p>JSON documents defining permissions. Can be AWS-managed, customer-managed, or inline.</p>
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ“ IAM Policy Example</h3>
                <div class="policy-block">
<span class="comment">// S3 Read-Only Policy</span>
{
  <span class="string">"Version"</span>: <span class="string">"2012-10-17"</span>,
  <span class="string">"Statement"</span>: [
    {
      <span class="string">"Sid"</span>: <span class="string">"AllowS3ReadAccess"</span>,
      <span class="string">"Effect"</span>: <span class="string">"Allow"</span>,
      <span class="string">"Action"</span>: [
        <span class="string">"s3:GetObject"</span>,
        <span class="string">"s3:ListBucket"</span>
      ],
      <span class="string">"Resource"</span>: [
        <span class="string">"arn:aws:s3:::my-bucket"</span>,
        <span class="string">"arn:aws:s3:::my-bucket/*"</span>
      ]
    }
  ]
}
                </div>

                <div class="tip-box">
                    <strong>ğŸ’¡ Policy Evaluation:</strong> By default, all access is denied. An explicit Deny
                    always overrides any Allow. Use least privilege - grant minimum permissions needed.
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ” IAM Best Practices</h3>
                <div class="security-diagram">
    IAM Security Best Practices
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    âœ“ Enable MFA for all users (especially root account)
    âœ“ Use roles for applications, not access keys
    âœ“ Rotate credentials regularly
    âœ“ Apply least privilege principle
    âœ“ Use IAM Access Analyzer to review permissions
    âœ“ Never share credentials between users
    âœ“ Use groups to manage permissions
    âœ“ Monitor with CloudTrail

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Root Account Protection:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ— Do NOT use for daily tasks                        â”‚
    â”‚  âœ“ Enable hardware MFA                               â”‚
    â”‚  âœ“ Lock away access keys (delete if possible)        â”‚
    â”‚  âœ“ Create admin IAM user for daily operations        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Write an IAM policy that allows EC2 read-only access</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Explain when to use a Role vs a User</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Describe the policy evaluation logic (Allow vs Deny)</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 5 IAM best practices from memory</span>
                    </li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(2)">
                Mark Exercise Complete
            </button>
        </div>

        <!-- Exercise 3: Data Encryption -->
        <div class="exercise" id="exercise3">
            <div class="exercise-header">
                <div class="exercise-number">3</div>
                <div class="exercise-title">
                    <h2>Encryption & Data Protection</h2>
                    <span class="time">â±ï¸ 35 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Understand encryption at rest, in transit, and key management with AWS KMS.
            </div>

            <div class="content-section">
                <h3>ğŸ”’ Encryption Types</h3>

                <div class="security-card">
                    <h4>Encryption at Rest</h4>
                    <p>Data encrypted when stored (S3, EBS, RDS). Uses AES-256. Managed by AWS or customer-managed keys (CMK).</p>
                </div>

                <div class="security-card">
                    <h4>Encryption in Transit</h4>
                    <p>Data encrypted while moving over network. TLS/SSL for HTTPS. VPN or Direct Connect for hybrid.</p>
                </div>

                <div class="security-card">
                    <h4>Client-Side Encryption</h4>
                    <p>Data encrypted before sending to AWS. Customer manages encryption/decryption. Maximum control.</p>
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ”‘ AWS Key Management Service (KMS)</h3>
                <div class="security-diagram">
    AWS KMS Architecture
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Key Types:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  AWS Managed Keys (aws/service)                         â”‚
    â”‚  â””â”€ Created and managed by AWS for each service        â”‚
    â”‚  â””â”€ Automatic rotation (yearly)                        â”‚
    â”‚  â””â”€ Free to use                                        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Customer Managed Keys (CMK)                            â”‚
    â”‚  â””â”€ Created by you, full control                       â”‚
    â”‚  â””â”€ Manual or automatic rotation                       â”‚
    â”‚  â””â”€ $1/month per key + usage                           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Customer Owned Keys (Imported)                         â”‚
    â”‚  â””â”€ You generate key material externally               â”‚
    â”‚  â””â”€ Manual rotation only                               â”‚
    â”‚  â””â”€ Maximum control, maximum responsibility            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Envelope Encryption:

    [Customer Master Key (CMK)]
              â”‚
              â”‚ encrypts
              â–¼
    [Data Encryption Key (DEK)]
              â”‚
              â”‚ encrypts
              â–¼
        [Your Data]

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ“Š Service Encryption Options</h3>
                <table class="comparison-table">
                    <tr>
                        <th>Service</th>
                        <th>Encryption at Rest</th>
                        <th>Encryption in Transit</th>
                    </tr>
                    <tr>
                        <td>S3</td>
                        <td>SSE-S3, SSE-KMS, SSE-C</td>
                        <td>HTTPS (enforced via bucket policy)</td>
                    </tr>
                    <tr>
                        <td>EBS</td>
                        <td>KMS encryption (one-click)</td>
                        <td>Encrypted between EC2 and EBS</td>
                    </tr>
                    <tr>
                        <td>RDS</td>
                        <td>KMS encryption at creation</td>
                        <td>SSL/TLS connections</td>
                    </tr>
                    <tr>
                        <td>DynamoDB</td>
                        <td>Enabled by default</td>
                        <td>HTTPS endpoints</td>
                    </tr>
                </table>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Explain the difference between SSE-S3, SSE-KMS, and SSE-C</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Describe envelope encryption and why it's used</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 services that encrypt data at rest by default</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Write an S3 bucket policy that enforces HTTPS-only access</span>
                    </li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(3)">
                Mark Exercise Complete
            </button>
        </div>

        <!-- Exercise 4: Network Security -->
        <div class="exercise" id="exercise4">
            <div class="exercise-header">
                <div class="exercise-number">4</div>
                <div class="exercise-title">
                    <h2>Network Security</h2>
                    <span class="time">â±ï¸ 40 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Implement defense in depth using VPC security groups, NACLs, and WAF.
            </div>

            <div class="content-section">
                <h3>ğŸ›¡ï¸ Defense in Depth</h3>
                <div class="security-diagram">
    VPC Network Security Layers
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Internet
        â”‚
        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  AWS WAF                              â”‚
    â”‚         (Layer 7 - Application Firewall)             â”‚
    â”‚   SQL Injection â”‚ XSS â”‚ Rate Limiting â”‚ Geo Block    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 AWS Shield                            â”‚
    â”‚              (DDoS Protection)                        â”‚
    â”‚     Standard (free) â”‚ Advanced (paid, 24/7 DRT)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                Internet Gateway                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              Network ACL (NACL)                       â”‚
    â”‚        (Subnet-level, stateless firewall)            â”‚
    â”‚         Allows/Denies by IP, port, protocol          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              Security Group (SG)                      â”‚
    â”‚        (Instance-level, stateful firewall)           â”‚
    â”‚           Only ALLOW rules, no DENY                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                          [EC2 Instance]
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ“Š Security Groups vs NACLs</h3>
                <table class="comparison-table">
                    <tr>
                        <th>Feature</th>
                        <th>Security Group</th>
                        <th>Network ACL</th>
                    </tr>
                    <tr>
                        <td>Level</td>
                        <td>Instance (ENI)</td>
                        <td>Subnet</td>
                    </tr>
                    <tr>
                        <td>State</td>
                        <td>Stateful</td>
                        <td>Stateless</td>
                    </tr>
                    <tr>
                        <td>Rules</td>
                        <td>Allow only</td>
                        <td>Allow and Deny</td>
                    </tr>
                    <tr>
                        <td>Evaluation</td>
                        <td>All rules evaluated</td>
                        <td>Rules evaluated in order</td>
                    </tr>
                    <tr>
                        <td>Default</td>
                        <td>Deny all inbound</td>
                        <td>Allow all (custom: deny all)</td>
                    </tr>
                </table>

                <div class="tip-box">
                    <strong>ğŸ’¡ Stateful vs Stateless:</strong> Security Groups automatically allow return traffic.
                    NACLs require explicit rules for both inbound AND outbound traffic.
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ“ Security Group Example</h3>
                <div class="policy-block">
<span class="comment"># Web Server Security Group</span>

<span class="keyword">Inbound Rules:</span>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Type     â”‚ Protocol    â”‚ Port Range      â”‚ Source           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HTTP     â”‚ TCP         â”‚ 80              â”‚ 0.0.0.0/0        â”‚
â”‚ HTTPS    â”‚ TCP         â”‚ 443             â”‚ 0.0.0.0/0        â”‚
â”‚ SSH      â”‚ TCP         â”‚ 22              â”‚ 10.0.0.0/16      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<span class="keyword">Outbound Rules:</span>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Type     â”‚ Protocol    â”‚ Port Range      â”‚ Destination      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ All      â”‚ All         â”‚ All             â”‚ 0.0.0.0/0        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Design a security group for a 3-tier architecture (web, app, db)</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Explain why NACLs need both inbound and outbound rules</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 use cases for AWS WAF rules</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Compare AWS Shield Standard vs Advanced</span>
                    </li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(4)">
                Mark Exercise Complete
            </button>
        </div>

        <!-- Exercise 5: Security Services -->
        <div class="exercise" id="exercise5">
            <div class="exercise-header">
                <div class="exercise-number">5</div>
                <div class="exercise-title">
                    <h2>AWS Security Services</h2>
                    <span class="time">â±ï¸ 35 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Understand AWS native security services for monitoring, detection, and compliance.
            </div>

            <div class="content-section">
                <h3>ğŸ” Security Monitoring & Detection</h3>

                <div class="security-card">
                    <h4>AWS CloudTrail</h4>
                    <p>Records API calls and events. Who did what, when, from where. Essential for auditing and forensics.</p>
                </div>

                <div class="security-card">
                    <h4>Amazon GuardDuty</h4>
                    <p>Threat detection using ML. Analyzes CloudTrail, VPC Flow Logs, DNS logs. Detects compromised instances, reconnaissance.</p>
                </div>

                <div class="security-card">
                    <h4>AWS Security Hub</h4>
                    <p>Centralized security dashboard. Aggregates findings from GuardDuty, Inspector, Macie. Automated compliance checks.</p>
                </div>

                <div class="security-card">
                    <h4>Amazon Inspector</h4>
                    <p>Automated vulnerability assessment. Scans EC2, ECR, Lambda for CVEs and network exposure.</p>
                </div>

                <div class="security-card">
                    <h4>Amazon Macie</h4>
                    <p>Discovers and protects sensitive data in S3. Uses ML to identify PII, financial data, credentials.</p>
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ› ï¸ Security Services Map</h3>
                <div class="security-diagram">
    AWS Security Services Ecosystem
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    SECURITY HUB                         â”‚
    â”‚              (Central Aggregation)                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                       â”‚
    â–¼               â–¼               â–¼               â–¼       â”‚
 GuardDuty      Inspector       Macie         Config       â”‚
 (Threats)      (Vulns)        (Data)       (Compliance)   â”‚
    â”‚               â”‚               â”‚               â”‚       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                           â”‚                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    CloudTrail                        â”‚
    â”‚              (Audit & Logging)                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Detection & Response:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  GuardDuty  â”‚â”€â”€â”€â”€â–ºâ”‚ EventBridge â”‚â”€â”€â”€â”€â–ºâ”‚   Lambda    â”‚
    â”‚  (Detect)   â”‚     â”‚  (Route)    â”‚     â”‚  (Respond)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Explain the difference between CloudTrail and CloudWatch Logs</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 types of threats GuardDuty can detect</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Design an automated response to a GuardDuty finding</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Identify which service to use for each scenario: vulnerability scanning, sensitive data discovery, API auditing</span>
                    </li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(5)">
                Mark Exercise Complete
            </button>
        </div>

        <!-- Exercise 6: Compliance & Governance -->
        <div class="exercise" id="exercise6">
            <div class="exercise-header">
                <div class="exercise-number">6</div>
                <div class="exercise-title">
                    <h2>Compliance & Governance</h2>
                    <span class="time">â±ï¸ 30 minutes</span>
                </div>
            </div>

            <div class="objective">
                <strong>Objective:</strong> Understand compliance frameworks, AWS Config, and governance best practices.
            </div>

            <div class="content-section">
                <h3>ğŸ“‹ Compliance Frameworks</h3>
                <p>AWS maintains compliance certifications for:</p>
                <div style="margin: 1rem 0;">
                    <span class="compliance-badge">SOC 1/2/3</span>
                    <span class="compliance-badge">PCI DSS</span>
                    <span class="compliance-badge">HIPAA</span>
                    <span class="compliance-badge">FedRAMP</span>
                    <span class="compliance-badge">GDPR</span>
                    <span class="compliance-badge">ISO 27001</span>
                    <span class="compliance-badge">ISO 27017</span>
                    <span class="compliance-badge">ISO 27018</span>
                </div>

                <div class="tip-box">
                    <strong>ğŸ’¡ AWS Artifact:</strong> Self-service portal for accessing AWS compliance reports
                    and agreements (BAA for HIPAA, GDPR DPA, etc.)
                </div>
            </div>

            <div class="content-section">
                <h3>âš™ï¸ AWS Config</h3>
                <div class="security-diagram">
    AWS Config - Continuous Compliance
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    [AWS Resources]
          â”‚
          â”‚ Records configuration changes
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   AWS Config    â”‚
    â”‚  (Recorder)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚
    â–¼                 â–¼
 [Config Rules]  [Configuration
 (Evaluation)     History]
    â”‚                 â”‚
    â”‚                 â–¼
    â”‚          [S3 Bucket]
    â”‚          (30-day snapshots)
    â–¼
 [Compliance Status]
    â”‚
    â”‚ Non-compliant?
    â–¼
 [SNS/EventBridge]
    â”‚
    â–¼
 [Auto-Remediation]
 (SSM, Lambda)

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Example Config Rules:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â€¢ s3-bucket-public-read-prohibited                    â”‚
    â”‚  â€¢ encrypted-volumes                                   â”‚
    â”‚  â€¢ iam-password-policy                                 â”‚
    â”‚  â€¢ rds-instance-public-access-check                    â”‚
    â”‚  â€¢ restricted-ssh                                      â”‚
    â”‚  â€¢ vpc-flow-logs-enabled                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
            </div>

            <div class="content-section">
                <h3>ğŸ›ï¸ AWS Organizations & SCPs</h3>

                <div class="security-card">
                    <h4>Service Control Policies (SCPs)</h4>
                    <p>Guardrails for accounts in an Organization. Define maximum permissions. Applied at OU or account level.</p>
                </div>

                <div class="policy-block">
<span class="comment">// SCP: Deny region outside us-east-1</span>
{
  <span class="string">"Version"</span>: <span class="string">"2012-10-17"</span>,
  <span class="string">"Statement"</span>: [
    {
      <span class="string">"Sid"</span>: <span class="string">"DenyAllOutsideUSEast1"</span>,
      <span class="string">"Effect"</span>: <span class="string">"Deny"</span>,
      <span class="string">"NotAction"</span>: [
        <span class="string">"iam:*"</span>,
        <span class="string">"organizations:*"</span>,
        <span class="string">"support:*"</span>
      ],
      <span class="string">"Resource"</span>: <span class="string">"*"</span>,
      <span class="string">"Condition"</span>: {
        <span class="string">"StringNotEquals"</span>: {
          <span class="string">"aws:RequestedRegion"</span>: [<span class="string">"us-east-1"</span>]
        }
      }
    }
  ]
}
                </div>
            </div>

            <div class="content-section">
                <h3>âœ… Tasks</h3>
                <ul class="task-list">
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>List 3 compliance frameworks relevant to healthcare organizations</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Write an SCP that prevents users from disabling CloudTrail</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Identify 5 AWS Config rules for a security baseline</span>
                    </li>
                    <li>
                        <div class="task-checkbox" onclick="toggleTask(this)"></div>
                        <span>Explain how to set up auto-remediation for non-compliant resources</span>
                    </li>
                </ul>
            </div>

            <div class="reflection-section">
                <h4>ğŸ” Security Reflection</h4>
                <p>Consider the following as you complete this lab:</p>
                <ul>
                    <li>How would you implement the principle of least privilege at scale?</li>
                    <li>What is your incident response plan for a compromised IAM credential?</li>
                    <li>How do you balance security controls with developer productivity?</li>
                    <li>What security metrics would you track to measure your security posture?</li>
                </ul>
            </div>

            <button class="completion-btn" onclick="completeExercise(6)">
                Mark Exercise Complete
            </button>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'cloud_security_lab_progress';
        let completedExercises = [];

        function loadProgress() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                completedExercises = JSON.parse(saved);
                completedExercises.forEach(num => {
                    const exercise = document.getElementById(`exercise${num}`);
                    if (exercise) {
                        exercise.classList.add('completed');
                        const btn = exercise.querySelector('.completion-btn');
                        btn.classList.add('completed');
                        btn.innerHTML = 'âœ“ Completed';
                    }
                });
            }
            updateProgress();
        }

        function saveProgress() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(completedExercises));
        }

        function updateProgress() {
            const total = 6;
            const completed = completedExercises.length;
            const percent = (completed / total) * 100;

            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('progressText').textContent = `${completed} / ${total} exercises`;
        }

        function toggleTask(checkbox) {
            checkbox.classList.toggle('checked');
        }

        function completeExercise(num) {
            if (!completedExercises.includes(num)) {
                completedExercises.push(num);

                const exercise = document.getElementById(`exercise${num}`);
                exercise.classList.add('completed');

                const btn = exercise.querySelector('.completion-btn');
                btn.classList.add('completed');
                btn.innerHTML = 'âœ“ Completed';

                saveProgress();
                updateProgress();

                if (completedExercises.length === 6) {
                    setTimeout(() => {
                        alert('ğŸ‰ Congratulations! You have completed the Cloud Security Lab!\n\nYou now understand the shared responsibility model, IAM, encryption, network security, AWS security services, and compliance governance.');
                    }, 500);
                }
            }
        }

        loadProgress();
    </script>
</body>
</html>
