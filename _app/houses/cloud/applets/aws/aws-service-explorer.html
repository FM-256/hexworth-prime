<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Service Explorer - Interactive Learning Tool</title>
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --aws-orange: #FF9900;
            --aws-dark: #232F3E;
            --bg-primary: #0F1419;
            --bg-secondary: #1A1F2E;
            --bg-tertiary: #252D3A;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B8C1;
            --border-color: #3A4556;
            --success: #2ECC71;
            --error: #E74C3C;
            --warning: #F39C12;
            --shadow: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--aws-dark) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: var(--bg-secondary);
            border-bottom: 2px solid var(--aws-orange);
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .aws-logo {
            width: 50px;
            height: 50px;
            background: var(--aws-orange);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--aws-dark);
        }

        h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--aws-orange), #FFB84D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            width: 300px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--aws-orange);
            box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            background: var(--aws-orange);
            color: var(--aws-dark);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .btn:hover {
            background: #FFB84D;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 153, 0, 0.3);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-secondary);
            border-color: var(--aws-orange);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Category Navigation */
        .category-nav {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .category-tabs {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 0.75rem 1.5rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .category-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 153, 0, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .category-tab:hover::before {
            left: 100%;
        }

        .category-tab:hover {
            border-color: var(--aws-orange);
            color: var(--text-primary);
        }

        .category-tab.active {
            background: var(--aws-orange);
            color: var(--aws-dark);
            border-color: var(--aws-orange);
            font-weight: 600;
        }

        .category-icon {
            margin-right: 0.5rem;
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .service-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--aws-orange);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
            border-color: var(--aws-orange);
        }

        .service-card:hover::before {
            transform: scaleY(1);
        }

        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .service-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--aws-orange), #FFB84D);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .service-name {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--aws-orange);
            margin-bottom: 0.5rem;
        }

        .service-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .service-features {
            margin-bottom: 1rem;
        }

        .features-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .features-list {
            list-style: none;
            padding-left: 0;
        }

        .features-list li {
            color: var(--text-secondary);
            margin-bottom: 0.4rem;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
        }

        .features-list li::before {
            content: '‚ñπ';
            position: absolute;
            left: 0;
            color: var(--aws-orange);
            font-weight: bold;
        }

        .service-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            padding: 0.3rem 0.8rem;
            background: var(--bg-tertiary);
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .view-details-btn {
            width: 100%;
            margin-top: 1rem;
            padding: 0.6rem;
            background: var(--bg-tertiary);
            color: var(--aws-orange);
            border: 2px solid var(--aws-orange);
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-details-btn:hover {
            background: var(--aws-orange);
            color: var(--aws-dark);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid var(--aws-orange);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: var(--aws-orange);
            color: var(--aws-dark);
            transform: rotate(90deg);
        }

        .use-cases {
            margin: 1.5rem 0;
        }

        .use-case-item {
            background: var(--bg-tertiary);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.8rem;
            border-left: 4px solid var(--aws-orange);
        }

        .use-case-title {
            font-weight: 600;
            color: var(--aws-orange);
            margin-bottom: 0.5rem;
        }

        .related-services {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .related-service-tag {
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--aws-orange);
            border-radius: 8px;
            color: var(--aws-orange);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .related-service-tag:hover {
            background: var(--aws-orange);
            color: var(--aws-dark);
        }

        /* Comparison View */
        .comparison-container {
            display: none;
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid var(--border-color);
        }

        .comparison-container.active {
            display: block;
        }

        .comparison-selectors {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .comparison-selector {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .comparison-selector label {
            font-weight: 600;
            color: var(--aws-orange);
        }

        .comparison-selector select {
            padding: 0.75rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            cursor: pointer;
        }

        .comparison-selector select:focus {
            outline: none;
            border-color: var(--aws-orange);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .comparison-card {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid var(--aws-orange);
        }

        /* Diagram View */
        .diagram-container {
            display: none;
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid var(--border-color);
        }

        .diagram-container.active {
            display: block;
        }

        .diagram-canvas {
            width: 100%;
            height: 500px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            border: 2px solid var(--border-color);
        }

        .diagram-controls {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Quiz Mode */
        .quiz-container {
            display: none;
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid var(--border-color);
        }

        .quiz-container.active {
            display: block;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .quiz-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .question-card {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            border: 2px solid var(--border-color);
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        .answers-grid {
            display: grid;
            gap: 1rem;
        }

        .answer-option {
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .answer-option:hover {
            border-color: var(--aws-orange);
            transform: translateX(5px);
        }

        .answer-option.correct {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .answer-option.incorrect {
            background: var(--error);
            border-color: var(--error);
            color: white;
        }

        .answer-option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
        }

        .quiz-feedback.correct {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
            border: 2px solid var(--success);
        }

        .quiz-feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            color: var(--error);
            border: 2px solid var(--error);
        }

        .quiz-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .quiz-score {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
        }

        .score-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--aws-orange);
            margin: 1rem 0;
        }

        /* No Results Message */
        .no-results {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .no-results-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: stretch;
            }

            .search-input {
                width: 100%;
            }

            .header-actions {
                flex-direction: column;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .category-tabs {
                flex-direction: column;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .comparison-selectors {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }

            h1 {
                font-size: 1.4rem;
            }
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--aws-orange);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #FFB84D;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-top-color: var(--aws-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Fade In Animation */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* Stats Panel */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid var(--border-color);
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--aws-orange);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-title">
                <div class="aws-logo">AWS</div>
                <h1>AWS Service Explorer</h1>
            </div>
            <div class="header-actions">
                <div class="search-container">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search AWS services...">
                </div>
                <button class="btn" id="compareBtn">Compare Services</button>
                <button class="btn btn-secondary" id="diagramBtn">View Diagrams</button>
                <button class="btn btn-secondary" id="quizBtn">Take Quiz</button>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Stats Panel -->
        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-number" id="totalServices">32</div>
                <div class="stat-label">Total Services</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="categoryCount">7</div>
                <div class="stat-label">Categories</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="quizScore">0%</div>
                <div class="stat-label">Quiz Score</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="servicesExplored">0</div>
                <div class="stat-label">Services Explored</div>
            </div>
        </div>

        <!-- Category Navigation -->
        <div class="category-nav">
            <div class="category-tabs" id="categoryTabs">
                <div class="category-tab active" data-category="all">
                    <span class="category-icon">üåê</span> All Services
                </div>
                <div class="category-tab" data-category="compute">
                    <span class="category-icon">‚öôÔ∏è</span> Compute
                </div>
                <div class="category-tab" data-category="storage">
                    <span class="category-icon">üíæ</span> Storage
                </div>
                <div class="category-tab" data-category="database">
                    <span class="category-icon">üóÑÔ∏è</span> Database
                </div>
                <div class="category-tab" data-category="networking">
                    <span class="category-icon">üåç</span> Networking
                </div>
                <div class="category-tab" data-category="security">
                    <span class="category-icon">üîí</span> Security
                </div>
                <div class="category-tab" data-category="management">
                    <span class="category-icon">üìä</span> Management
                </div>
            </div>
        </div>

        <!-- Comparison Container -->
        <div class="comparison-container" id="comparisonContainer">
            <h2 style="margin-bottom: 1.5rem; color: var(--aws-orange);">Compare AWS Services</h2>
            <div class="comparison-selectors">
                <div class="comparison-selector">
                    <label>Service 1:</label>
                    <select id="compareService1">
                        <option value="">Select a service...</option>
                    </select>
                </div>
                <div class="comparison-selector">
                    <label>Service 2:</label>
                    <select id="compareService2">
                        <option value="">Select a service...</option>
                    </select>
                </div>
            </div>
            <div class="comparison-grid" id="comparisonGrid"></div>
        </div>

        <!-- Diagram Container -->
        <div class="diagram-container" id="diagramContainer">
            <h2 style="margin-bottom: 1.5rem; color: var(--aws-orange);">AWS Service Architecture Diagrams</h2>
            <canvas class="diagram-canvas" id="diagramCanvas"></canvas>
            <div class="diagram-controls">
                <button class="btn btn-secondary" onclick="drawDiagram('webapp')">Web Application</button>
                <button class="btn btn-secondary" onclick="drawDiagram('dataprocessing')">Data Processing</button>
                <button class="btn btn-secondary" onclick="drawDiagram('serverless')">Serverless</button>
                <button class="btn btn-secondary" onclick="drawDiagram('storage')">Storage Architecture</button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2 style="color: var(--aws-orange); margin-bottom: 1rem;">AWS Services Knowledge Quiz</h2>
                <div class="quiz-progress">
                    <span>Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></span>
                    <span>Score: <span id="currentScore">0</span></span>
                </div>
            </div>
            <div id="quizContent"></div>
        </div>

        <!-- Services Grid -->
        <div class="services-grid" id="servicesGrid"></div>

        <!-- No Results Message -->
        <div class="no-results" id="noResults" style="display: none;">
            <div class="no-results-icon">üîç</div>
            <h3>No services found</h3>
            <p>Try adjusting your search or selecting a different category</p>
        </div>
    </div>

    <!-- Modal for Service Details -->
    <div class="modal" id="serviceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalServiceName" style="color: var(--aws-orange);"></h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div id="modalServiceContent"></div>
        </div>
    </div>

    <script>
        // AWS Services Data
        const awsServices = {
            compute: [
                {
                    name: 'Amazon EC2',
                    icon: 'üñ•Ô∏è',
                    description: 'Elastic Compute Cloud provides secure, resizable compute capacity in the cloud. Launch virtual servers as needed and pay only for what you use.',
                    features: ['Virtual servers in minutes', 'Complete control over instances', 'Multiple instance types', 'Auto Scaling support', 'Integration with AWS services'],
                    useCases: [
                        { title: 'Web Hosting', description: 'Host websites and web applications with flexible capacity' },
                        { title: 'Big Data Analytics', description: 'Process large datasets with distributed computing' },
                        { title: 'Development Environments', description: 'Create isolated development and testing environments' }
                    ],
                    relatedServices: ['EBS', 'ELB', 'Auto Scaling', 'VPC', 'S3'],
                    tags: ['IaaS', 'Virtual Machines', 'Compute']
                },
                {
                    name: 'AWS Lambda',
                    icon: 'Œª',
                    description: 'Run code without provisioning or managing servers. Pay only for the compute time you consume, with automatic scaling built in.',
                    features: ['Serverless execution', 'Automatic scaling', 'Pay-per-use pricing', 'Event-driven triggers', 'Support for multiple languages'],
                    useCases: [
                        { title: 'Real-time File Processing', description: 'Process files immediately after upload to S3' },
                        { title: 'API Backends', description: 'Build scalable REST APIs with API Gateway' },
                        { title: 'Scheduled Tasks', description: 'Run cron jobs without managing servers' }
                    ],
                    relatedServices: ['API Gateway', 'DynamoDB', 'S3', 'CloudWatch', 'EventBridge'],
                    tags: ['Serverless', 'FaaS', 'Event-Driven']
                },
                {
                    name: 'Amazon ECS',
                    icon: 'üê≥',
                    description: 'Elastic Container Service is a fully managed container orchestration service. Run and scale containerized applications on AWS.',
                    features: ['Docker container support', 'Integration with ECR', 'Fargate for serverless', 'Service discovery', 'Load balancing'],
                    useCases: [
                        { title: 'Microservices', description: 'Deploy and manage microservices architectures' },
                        { title: 'Batch Processing', description: 'Run batch jobs at scale with containers' },
                        { title: 'ML Model Deployment', description: 'Deploy machine learning models in containers' }
                    ],
                    relatedServices: ['ECR', 'Fargate', 'EKS', 'ALB', 'CloudWatch'],
                    tags: ['Containers', 'Orchestration', 'Docker']
                },
                {
                    name: 'Amazon EKS',
                    icon: '‚ò∏Ô∏è',
                    description: 'Elastic Kubernetes Service makes it easy to run Kubernetes on AWS without managing control plane infrastructure.',
                    features: ['Managed Kubernetes', 'High availability', 'Automatic updates', 'IAM integration', 'VPC networking'],
                    useCases: [
                        { title: 'Cloud-Native Apps', description: 'Run modern cloud-native applications' },
                        { title: 'Hybrid Deployments', description: 'Deploy across on-premises and cloud' },
                        { title: 'ML Workflows', description: 'Orchestrate machine learning pipelines' }
                    ],
                    relatedServices: ['ECR', 'ECS', 'Fargate', 'VPC', 'IAM'],
                    tags: ['Kubernetes', 'Orchestration', 'Containers']
                },
                {
                    name: 'AWS Fargate',
                    icon: 'üöÄ',
                    description: 'Serverless compute engine for containers. Run containers without managing servers or clusters.',
                    features: ['Serverless containers', 'No server management', 'Automatic scaling', 'Pay-per-use', 'Secure isolation'],
                    useCases: [
                        { title: 'Microservices', description: 'Run microservices without infrastructure overhead' },
                        { title: 'Batch Jobs', description: 'Execute batch workloads on demand' },
                        { title: 'CI/CD Pipelines', description: 'Run build and test containers' }
                    ],
                    relatedServices: ['ECS', 'EKS', 'ECR', 'CloudWatch'],
                    tags: ['Serverless', 'Containers', 'Managed']
                },
                {
                    name: 'Amazon Lightsail',
                    icon: '‚õµ',
                    description: 'Easy-to-use cloud platform with simple virtual private servers, storage, databases, and networking at a low, predictable price.',
                    features: ['Pre-configured VPS', 'Predictable pricing', 'One-click deployments', 'Managed databases', 'Easy networking'],
                    useCases: [
                        { title: 'Simple Websites', description: 'Launch WordPress or static websites quickly' },
                        { title: 'Development Environments', description: 'Create dev/test environments easily' },
                        { title: 'Small Applications', description: 'Host small business applications' }
                    ],
                    relatedServices: ['Route 53', 'S3', 'CloudFront'],
                    tags: ['VPS', 'Simple', 'Managed']
                }
            ],
            storage: [
                {
                    name: 'Amazon S3',
                    icon: 'ü™£',
                    description: 'Simple Storage Service provides object storage with industry-leading scalability, data availability, security, and performance.',
                    features: ['Object storage', 'Virtually unlimited capacity', 'Multiple storage classes', 'Lifecycle policies', 'Versioning support'],
                    useCases: [
                        { title: 'Data Lakes', description: 'Build centralized repositories for analytics' },
                        { title: 'Backup & Recovery', description: 'Store backups with high durability' },
                        { title: 'Static Website Hosting', description: 'Host static websites directly from S3' }
                    ],
                    relatedServices: ['CloudFront', 'Lambda', 'EC2', 'Glacier', 'IAM'],
                    tags: ['Object Storage', 'Durable', 'Scalable']
                },
                {
                    name: 'Amazon EBS',
                    icon: 'üíø',
                    description: 'Elastic Block Store provides persistent block storage volumes for use with EC2 instances. High performance for mission-critical applications.',
                    features: ['Block-level storage', 'Multiple volume types', 'Snapshots', 'Encryption', 'High performance'],
                    useCases: [
                        { title: 'Database Storage', description: 'Primary storage for relational databases' },
                        { title: 'Boot Volumes', description: 'Store EC2 instance operating systems' },
                        { title: 'Big Data Analytics', description: 'Storage for Hadoop/HDFS clusters' }
                    ],
                    relatedServices: ['EC2', 'RDS', 'S3', 'CloudWatch'],
                    tags: ['Block Storage', 'Persistent', 'High-Performance']
                },
                {
                    name: 'Amazon EFS',
                    icon: 'üìÅ',
                    description: 'Elastic File System provides scalable, elastic file storage for use with AWS Cloud services and on-premises resources.',
                    features: ['Shared file storage', 'Auto scaling', 'NFS support', 'High availability', 'Multiple AZ access'],
                    useCases: [
                        { title: 'Content Management', description: 'Share files across multiple web servers' },
                        { title: 'Container Storage', description: 'Persistent storage for containerized applications' },
                        { title: 'Development Environments', description: 'Shared storage for development teams' }
                    ],
                    relatedServices: ['EC2', 'ECS', 'Lambda', 'VPC'],
                    tags: ['File Storage', 'NFS', 'Shared']
                },
                {
                    name: 'Amazon Glacier',
                    icon: 'üßä',
                    description: 'Low-cost cloud storage service for data archiving and long-term backup. Extremely durable and secure storage for infrequently accessed data.',
                    features: ['Low-cost archival', 'High durability', 'Retrieval options', 'Vault Lock', 'Compliance support'],
                    useCases: [
                        { title: 'Compliance Archives', description: 'Store regulatory and compliance data' },
                        { title: 'Digital Preservation', description: 'Archive media assets long-term' },
                        { title: 'Backup Storage', description: 'Long-term backup retention' }
                    ],
                    relatedServices: ['S3', 'S3 Glacier', 'Storage Gateway'],
                    tags: ['Archive', 'Low-Cost', 'Long-Term']
                },
                {
                    name: 'AWS Storage Gateway',
                    icon: 'üåâ',
                    description: 'Hybrid cloud storage service that connects on-premises environments with cloud storage. Seamlessly integrate with existing applications.',
                    features: ['Hybrid storage', 'On-premises caching', 'Multiple gateway types', 'Seamless integration', 'Low latency access'],
                    useCases: [
                        { title: 'Hybrid Cloud', description: 'Extend on-premises storage to cloud' },
                        { title: 'Disaster Recovery', description: 'Replicate critical data to AWS' },
                        { title: 'Backup to Cloud', description: 'Store backups in AWS while maintaining local access' }
                    ],
                    relatedServices: ['S3', 'EBS', 'Glacier', 'EC2'],
                    tags: ['Hybrid', 'Gateway', 'On-Premises']
                }
            ],
            database: [
                {
                    name: 'Amazon RDS',
                    icon: 'üóÉÔ∏è',
                    description: 'Relational Database Service makes it easy to set up, operate, and scale relational databases in the cloud. Supports multiple database engines.',
                    features: ['Managed service', 'Multiple engines', 'Automated backups', 'Read replicas', 'Multi-AZ deployment'],
                    useCases: [
                        { title: 'Web Applications', description: 'Backend database for web and mobile apps' },
                        { title: 'E-commerce', description: 'Transaction processing for online stores' },
                        { title: 'Enterprise Apps', description: 'Database for business applications' }
                    ],
                    relatedServices: ['EC2', 'Lambda', 'CloudWatch', 'VPC', 'IAM'],
                    tags: ['Relational', 'Managed', 'SQL']
                },
                {
                    name: 'Amazon DynamoDB',
                    icon: '‚ö°',
                    description: 'Fast and flexible NoSQL database service for applications that need consistent, single-digit millisecond latency at any scale.',
                    features: ['NoSQL database', 'Serverless', 'Auto scaling', 'Global tables', 'Point-in-time recovery'],
                    useCases: [
                        { title: 'Gaming', description: 'Store player data and game state' },
                        { title: 'IoT Applications', description: 'Store and query device data at scale' },
                        { title: 'Mobile Backends', description: 'Scalable backend for mobile apps' }
                    ],
                    relatedServices: ['Lambda', 'API Gateway', 'DAX', 'S3', 'Kinesis'],
                    tags: ['NoSQL', 'Serverless', 'Low-Latency']
                },
                {
                    name: 'Amazon Aurora',
                    icon: 'üåÖ',
                    description: 'MySQL and PostgreSQL-compatible relational database built for the cloud. Up to 5x faster than standard MySQL and 3x faster than PostgreSQL.',
                    features: ['High performance', 'MySQL/PostgreSQL compatible', 'Auto scaling storage', 'Global database', 'Serverless option'],
                    useCases: [
                        { title: 'Enterprise Applications', description: 'High-performance database for critical apps' },
                        { title: 'SaaS Applications', description: 'Multi-tenant application databases' },
                        { title: 'Gaming', description: 'Fast, scalable game databases' }
                    ],
                    relatedServices: ['RDS', 'Lambda', 'EC2', 'CloudWatch'],
                    tags: ['Relational', 'High-Performance', 'Managed']
                },
                {
                    name: 'Amazon ElastiCache',
                    icon: '‚ö°',
                    description: 'Fully managed in-memory caching service supporting Redis and Memcached. Improve application performance with microsecond latency.',
                    features: ['In-memory caching', 'Redis & Memcached', 'Automatic failover', 'Backup & restore', 'Cluster mode'],
                    useCases: [
                        { title: 'Session Storage', description: 'Store user session data for web apps' },
                        { title: 'Real-time Analytics', description: 'Cache frequently accessed data' },
                        { title: 'Gaming Leaderboards', description: 'Fast leaderboard updates' }
                    ],
                    relatedServices: ['RDS', 'DynamoDB', 'EC2', 'Lambda'],
                    tags: ['Cache', 'In-Memory', 'High-Speed']
                },
                {
                    name: 'Amazon Redshift',
                    icon: 'üìä',
                    description: 'Fast, simple, cost-effective data warehouse service. Analyze all your data using standard SQL and existing BI tools.',
                    features: ['Data warehouse', 'Columnar storage', 'Massively parallel', 'SQL queries', 'Integration with S3'],
                    useCases: [
                        { title: 'Business Intelligence', description: 'Power BI dashboards and reports' },
                        { title: 'Data Analytics', description: 'Analyze petabytes of data' },
                        { title: 'Log Analysis', description: 'Analyze application and system logs' }
                    ],
                    relatedServices: ['S3', 'Kinesis', 'EMR', 'QuickSight', 'Glue'],
                    tags: ['Data Warehouse', 'Analytics', 'SQL']
                }
            ],
            networking: [
                {
                    name: 'Amazon VPC',
                    icon: 'üåê',
                    description: 'Virtual Private Cloud lets you provision a logically isolated section of AWS Cloud. Complete control over your virtual networking environment.',
                    features: ['Private network', 'Subnets', 'Route tables', 'Internet gateway', 'VPN connections'],
                    useCases: [
                        { title: 'Secure Workloads', description: 'Isolate resources in private networks' },
                        { title: 'Hybrid Cloud', description: 'Connect on-premises to AWS securely' },
                        { title: 'Multi-tier Applications', description: 'Separate web, app, and database tiers' }
                    ],
                    relatedServices: ['EC2', 'RDS', 'ELB', 'Direct Connect', 'VPN'],
                    tags: ['Networking', 'Security', 'Isolation']
                },
                {
                    name: 'Amazon Route 53',
                    icon: 'üó∫Ô∏è',
                    description: 'Highly available and scalable Domain Name System (DNS) web service. Route users to infrastructure running in AWS or on-premises.',
                    features: ['DNS service', 'Domain registration', 'Health checking', 'Traffic routing', 'Global availability'],
                    useCases: [
                        { title: 'Website Hosting', description: 'Route traffic to web applications' },
                        { title: 'Disaster Recovery', description: 'Automatic failover to healthy resources' },
                        { title: 'Global Applications', description: 'Route users to nearest region' }
                    ],
                    relatedServices: ['CloudFront', 'S3', 'ELB', 'EC2', 'API Gateway'],
                    tags: ['DNS', 'Domain', 'Routing']
                },
                {
                    name: 'Amazon CloudFront',
                    icon: 'üöÄ',
                    description: 'Fast content delivery network (CDN) service. Securely deliver data, videos, applications, and APIs globally with low latency.',
                    features: ['Global CDN', 'Edge locations', 'DDoS protection', 'SSL/TLS support', 'Real-time analytics'],
                    useCases: [
                        { title: 'Static Website', description: 'Deliver static content globally' },
                        { title: 'Video Streaming', description: 'Stream video content at scale' },
                        { title: 'API Acceleration', description: 'Speed up API responses worldwide' }
                    ],
                    relatedServices: ['S3', 'Route 53', 'WAF', 'Shield', 'Lambda@Edge'],
                    tags: ['CDN', 'Performance', 'Global']
                },
                {
                    name: 'AWS API Gateway',
                    icon: 'üö™',
                    description: 'Fully managed service for creating, publishing, and managing APIs at any scale. Handle hundreds of thousands of concurrent API calls.',
                    features: ['API creation', 'Request throttling', 'API versioning', 'Caching', 'Authentication'],
                    useCases: [
                        { title: 'Serverless APIs', description: 'Create REST APIs for Lambda functions' },
                        { title: 'Microservices', description: 'API gateway for microservices architecture' },
                        { title: 'Mobile Backends', description: 'Backend APIs for mobile applications' }
                    ],
                    relatedServices: ['Lambda', 'DynamoDB', 'Cognito', 'CloudWatch', 'WAF'],
                    tags: ['API', 'REST', 'Serverless']
                },
                {
                    name: 'AWS Direct Connect',
                    icon: 'üîå',
                    description: 'Dedicated network connection from your premises to AWS. Reduce network costs and increase bandwidth throughput.',
                    features: ['Dedicated connection', 'Private connectivity', 'Reduced bandwidth costs', 'Consistent performance', 'Multiple locations'],
                    useCases: [
                        { title: 'Hybrid Cloud', description: 'High-bandwidth connection to AWS' },
                        { title: 'Large Data Transfers', description: 'Move large datasets efficiently' },
                        { title: 'Real-time Applications', description: 'Low-latency connectivity' }
                    ],
                    relatedServices: ['VPC', 'VPN', 'S3', 'EC2'],
                    tags: ['Dedicated', 'Hybrid', 'Connectivity']
                }
            ],
            security: [
                {
                    name: 'AWS IAM',
                    icon: 'üë§',
                    description: 'Identity and Access Management enables secure control of access to AWS services and resources. Manage users, groups, roles, and permissions.',
                    features: ['User management', 'Role-based access', 'Fine-grained permissions', 'MFA support', 'Identity federation'],
                    useCases: [
                        { title: 'Access Control', description: 'Control who can access AWS resources' },
                        { title: 'Service Permissions', description: 'Grant services permission to other services' },
                        { title: 'Cross-account Access', description: 'Share resources across AWS accounts' }
                    ],
                    relatedServices: ['All AWS Services', 'Cognito', 'Organizations', 'STS'],
                    tags: ['Security', 'Access Control', 'Identity']
                },
                {
                    name: 'AWS KMS',
                    icon: 'üîë',
                    description: 'Key Management Service makes it easy to create and manage cryptographic keys. Control the use of encryption across AWS services.',
                    features: ['Key management', 'Encryption', 'Automatic rotation', 'Audit logging', 'Integration with services'],
                    useCases: [
                        { title: 'Data Encryption', description: 'Encrypt data at rest and in transit' },
                        { title: 'Compliance', description: 'Meet regulatory encryption requirements' },
                        { title: 'Application Security', description: 'Secure application secrets and keys' }
                    ],
                    relatedServices: ['S3', 'EBS', 'RDS', 'Lambda', 'CloudTrail'],
                    tags: ['Encryption', 'Keys', 'Security']
                },
                {
                    name: 'AWS WAF',
                    icon: 'üõ°Ô∏è',
                    description: 'Web Application Firewall helps protect web applications from common web exploits. Control how traffic reaches your applications.',
                    features: ['Web filtering', 'Custom rules', 'Bot protection', 'Rate limiting', 'Real-time visibility'],
                    useCases: [
                        { title: 'DDoS Protection', description: 'Block malicious traffic patterns' },
                        { title: 'SQL Injection Prevention', description: 'Protect against SQL injection attacks' },
                        { title: 'IP Blocking', description: 'Block traffic from specific IP addresses' }
                    ],
                    relatedServices: ['CloudFront', 'ALB', 'API Gateway', 'Shield'],
                    tags: ['Firewall', 'Web Security', 'Protection']
                },
                {
                    name: 'AWS Shield',
                    icon: 'üõ°Ô∏è',
                    description: 'Managed DDoS protection service. Safeguards applications running on AWS with always-on detection and automatic inline mitigations.',
                    features: ['DDoS protection', 'Always-on detection', 'Automatic mitigation', '24/7 DRT support', 'Cost protection'],
                    useCases: [
                        { title: 'Web Application Protection', description: 'Protect websites from DDoS attacks' },
                        { title: 'Gaming Servers', description: 'Shield gaming infrastructure' },
                        { title: 'API Protection', description: 'Protect APIs from volumetric attacks' }
                    ],
                    relatedServices: ['CloudFront', 'Route 53', 'ELB', 'WAF'],
                    tags: ['DDoS', 'Protection', 'Security']
                },
                {
                    name: 'Amazon Cognito',
                    icon: 'üîê',
                    description: 'Add user sign-up, sign-in, and access control to web and mobile apps. Scale to millions of users with federated identity support.',
                    features: ['User authentication', 'Social identity', 'User pools', 'Identity federation', 'MFA support'],
                    useCases: [
                        { title: 'Mobile Apps', description: 'User authentication for mobile applications' },
                        { title: 'Web Applications', description: 'Sign-up and sign-in for web apps' },
                        { title: 'API Security', description: 'Secure API access with user authentication' }
                    ],
                    relatedServices: ['API Gateway', 'Lambda', 'DynamoDB', 'IAM'],
                    tags: ['Authentication', 'User Management', 'Identity']
                }
            ],
            management: [
                {
                    name: 'Amazon CloudWatch',
                    icon: 'üìä',
                    description: 'Monitoring and observability service for AWS resources and applications. Collect and track metrics, collect and monitor log files.',
                    features: ['Metrics collection', 'Log monitoring', 'Alarms', 'Dashboards', 'Events & triggers'],
                    useCases: [
                        { title: 'Application Monitoring', description: 'Monitor application performance and health' },
                        { title: 'Resource Optimization', description: 'Optimize resource utilization' },
                        { title: 'Troubleshooting', description: 'Debug and troubleshoot issues' }
                    ],
                    relatedServices: ['EC2', 'Lambda', 'RDS', 'ECS', 'SNS'],
                    tags: ['Monitoring', 'Metrics', 'Logging']
                },
                {
                    name: 'AWS CloudTrail',
                    icon: 'üë£',
                    description: 'Service for governance, compliance, and audit of your AWS account. Track user activity and API usage across your infrastructure.',
                    features: ['API logging', 'Event history', 'Compliance aid', 'Security analysis', 'Operational troubleshooting'],
                    useCases: [
                        { title: 'Security Analysis', description: 'Monitor for unauthorized access' },
                        { title: 'Compliance Auditing', description: 'Track changes for compliance' },
                        { title: 'Troubleshooting', description: 'Investigate operational issues' }
                    ],
                    relatedServices: ['CloudWatch', 'S3', 'SNS', 'Lambda', 'Config'],
                    tags: ['Audit', 'Compliance', 'Logging']
                },
                {
                    name: 'AWS Config',
                    icon: '‚öôÔ∏è',
                    description: 'Service for assessing, auditing, and evaluating configurations of AWS resources. Continuously monitor and record resource configurations.',
                    features: ['Configuration tracking', 'Compliance checking', 'Resource inventory', 'Change management', 'Remediation'],
                    useCases: [
                        { title: 'Compliance Monitoring', description: 'Ensure resources comply with policies' },
                        { title: 'Security Analysis', description: 'Detect security vulnerabilities' },
                        { title: 'Resource Tracking', description: 'Track resource configuration changes' }
                    ],
                    relatedServices: ['CloudTrail', 'Systems Manager', 'Lambda', 'SNS'],
                    tags: ['Configuration', 'Compliance', 'Audit']
                },
                {
                    name: 'AWS Systems Manager',
                    icon: 'üîß',
                    description: 'Unified interface for viewing operational data and automating operational tasks across AWS resources. Group resources and take action.',
                    features: ['Operations management', 'Automation', 'Patch management', 'Parameter store', 'Session Manager'],
                    useCases: [
                        { title: 'Patch Management', description: 'Automate OS and software patching' },
                        { title: 'Configuration Management', description: 'Maintain consistent configurations' },
                        { title: 'Secrets Management', description: 'Store and retrieve configuration data securely' }
                    ],
                    relatedServices: ['EC2', 'Lambda', 'CloudWatch', 'Config', 'IAM'],
                    tags: ['Operations', 'Automation', 'Management']
                }
            ]
        };

        // Quiz Questions
        const quizQuestions = [
            {
                question: 'Which AWS service is best for running code without provisioning servers?',
                answers: ['EC2', 'Lambda', 'ECS', 'Lightsail'],
                correct: 1,
                explanation: 'AWS Lambda is a serverless compute service that runs code without provisioning or managing servers.'
            },
            {
                question: 'What is the primary use case for Amazon S3?',
                answers: ['Block storage for EC2', 'Object storage', 'File system storage', 'Database storage'],
                correct: 1,
                explanation: 'Amazon S3 is an object storage service designed for storing and retrieving any amount of data.'
            },
            {
                question: 'Which service provides DNS and domain registration?',
                answers: ['CloudFront', 'Route 53', 'VPC', 'Direct Connect'],
                correct: 1,
                explanation: 'Amazon Route 53 is a scalable DNS and domain name registration service.'
            },
            {
                question: 'What does RDS stand for?',
                answers: ['Rapid Data Service', 'Relational Database Service', 'Remote Data Storage', 'Real-time Data System'],
                correct: 1,
                explanation: 'RDS stands for Relational Database Service, a managed database service supporting multiple engines.'
            },
            {
                question: 'Which service is used for managing user access and permissions?',
                answers: ['IAM', 'KMS', 'WAF', 'Cognito'],
                correct: 0,
                explanation: 'AWS IAM (Identity and Access Management) controls access to AWS services and resources.'
            },
            {
                question: 'What is Amazon DynamoDB?',
                answers: ['SQL database', 'NoSQL database', 'Data warehouse', 'Cache service'],
                correct: 1,
                explanation: 'DynamoDB is a fully managed NoSQL database service with single-digit millisecond latency.'
            },
            {
                question: 'Which service provides DDoS protection?',
                answers: ['WAF', 'Shield', 'GuardDuty', 'Inspector'],
                correct: 1,
                explanation: 'AWS Shield is a managed DDoS protection service that safeguards applications running on AWS.'
            },
            {
                question: 'What is CloudWatch primarily used for?',
                answers: ['Security scanning', 'Monitoring and logging', 'Content delivery', 'Database management'],
                correct: 1,
                explanation: 'CloudWatch is a monitoring and observability service for AWS resources and applications.'
            },
            {
                question: 'Which storage service is optimized for long-term archival?',
                answers: ['S3 Standard', 'EBS', 'Glacier', 'EFS'],
                correct: 2,
                explanation: 'Amazon Glacier is a low-cost storage service designed for data archiving and long-term backup.'
            },
            {
                question: 'What does VPC stand for?',
                answers: ['Virtual Public Cloud', 'Virtual Private Cloud', 'Virtual Processing Center', 'Virtual Performance Cluster'],
                correct: 1,
                explanation: 'VPC stands for Virtual Private Cloud, providing an isolated network environment in AWS.'
            }
        ];

        // State Management
        let currentCategory = 'all';
        let searchQuery = '';
        let exploredServices = new Set();
        let quizState = {
            currentQuestion: 0,
            score: 0,
            answeredQuestions: []
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', () => {
            renderServices();
            setupEventListeners();
            populateComparisonSelectors();
            updateStats();
        });

        // Setup Event Listeners
        function setupEventListeners() {
            // Category tabs
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentCategory = tab.dataset.category;
                    renderServices();
                });
            });

            // Search input
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                renderServices();
            });

            // Modal close
            document.getElementById('closeModal').addEventListener('click', () => {
                document.getElementById('serviceModal').classList.remove('active');
            });

            // Close modal on outside click
            document.getElementById('serviceModal').addEventListener('click', (e) => {
                if (e.target.id === 'serviceModal') {
                    document.getElementById('serviceModal').classList.remove('active');
                }
            });

            // Compare button
            document.getElementById('compareBtn').addEventListener('click', () => {
                toggleView('comparison');
            });

            // Diagram button
            document.getElementById('diagramBtn').addEventListener('click', () => {
                toggleView('diagram');
                drawDiagram('webapp');
            });

            // Quiz button
            document.getElementById('quizBtn').addEventListener('click', () => {
                toggleView('quiz');
                startQuiz();
            });

            // Comparison selectors
            document.getElementById('compareService1').addEventListener('change', renderComparison);
            document.getElementById('compareService2').addEventListener('change', renderComparison);
        }

        // Toggle between different views
        function toggleView(view) {
            const comparisonContainer = document.getElementById('comparisonContainer');
            const diagramContainer = document.getElementById('diagramContainer');
            const quizContainer = document.getElementById('quizContainer');
            const servicesGrid = document.getElementById('servicesGrid');
            const categoryNav = document.querySelector('.category-nav');

            // Hide all
            comparisonContainer.classList.remove('active');
            diagramContainer.classList.remove('active');
            quizContainer.classList.remove('active');
            servicesGrid.style.display = 'grid';
            categoryNav.style.display = 'block';

            // Show selected
            if (view === 'comparison') {
                comparisonContainer.classList.add('active');
                servicesGrid.style.display = 'none';
                categoryNav.style.display = 'none';
            } else if (view === 'diagram') {
                diagramContainer.classList.add('active');
                servicesGrid.style.display = 'none';
                categoryNav.style.display = 'none';
            } else if (view === 'quiz') {
                quizContainer.classList.add('active');
                servicesGrid.style.display = 'none';
                categoryNav.style.display = 'none';
            }
        }

        // Render Services
        function renderServices() {
            const grid = document.getElementById('servicesGrid');
            const noResults = document.getElementById('noResults');
            grid.innerHTML = '';

            let services = [];
            if (currentCategory === 'all') {
                Object.values(awsServices).forEach(categoryServices => {
                    services = services.concat(categoryServices);
                });
            } else {
                services = awsServices[currentCategory] || [];
            }

            // Filter by search query
            if (searchQuery) {
                services = services.filter(service =>
                    service.name.toLowerCase().includes(searchQuery) ||
                    service.description.toLowerCase().includes(searchQuery) ||
                    service.features.some(f => f.toLowerCase().includes(searchQuery)) ||
                    service.tags.some(t => t.toLowerCase().includes(searchQuery))
                );
            }

            if (services.length === 0) {
                noResults.style.display = 'block';
                return;
            } else {
                noResults.style.display = 'none';
            }

            services.forEach(service => {
                const card = document.createElement('div');
                card.className = 'service-card fade-in';
                card.innerHTML = `
                    <div class="service-icon">${service.icon}</div>
                    <div class="service-name">${service.name}</div>
                    <div class="service-description">${service.description}</div>
                    <div class="service-features">
                        <div class="features-title">Key Features</div>
                        <ul class="features-list">
                            ${service.features.slice(0, 3).map(f => `<li>${f}</li>`).join('')}
                        </ul>
                    </div>
                    <div class="service-tags">
                        ${service.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <button class="view-details-btn">View Details</button>
                `;

                card.querySelector('.view-details-btn').addEventListener('click', () => {
                    showServiceDetails(service);
                });

                grid.appendChild(card);
            });
        }

        // Show Service Details Modal
        function showServiceDetails(service) {
            exploredServices.add(service.name);
            updateStats();

            const modal = document.getElementById('serviceModal');
            const modalName = document.getElementById('modalServiceName');
            const modalContent = document.getElementById('modalServiceContent');

            modalName.textContent = service.name;
            modalContent.innerHTML = `
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                    <div class="service-icon" style="width: 60px; height: 60px; font-size: 2rem;">${service.icon}</div>
                    <p style="color: var(--text-secondary); flex: 1;">${service.description}</p>
                </div>

                <div class="service-features" style="margin-bottom: 1.5rem;">
                    <div class="features-title">Key Features</div>
                    <ul class="features-list">
                        ${service.features.map(f => `<li>${f}</li>`).join('')}
                    </ul>
                </div>

                <div class="use-cases">
                    <div class="features-title">Common Use Cases</div>
                    ${service.useCases.map(uc => `
                        <div class="use-case-item">
                            <div class="use-case-title">${uc.title}</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">${uc.description}</div>
                        </div>
                    `).join('')}
                </div>

                <div style="margin-top: 1.5rem;">
                    <div class="features-title">Related Services</div>
                    <div class="related-services">
                        ${service.relatedServices.map(rs => `
                            <span class="related-service-tag" onclick="searchRelatedService('${rs}')">${rs}</span>
                        `).join('')}
                    </div>
                </div>

                <div class="service-tags" style="margin-top: 1.5rem;">
                    ${service.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
            `;

            modal.classList.add('active');
        }

        // Search for related service
        function searchRelatedService(serviceName) {
            document.getElementById('serviceModal').classList.remove('active');
            document.getElementById('searchInput').value = serviceName;
            searchQuery = serviceName.toLowerCase();
            currentCategory = 'all';
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('[data-category="all"]').classList.add('active');
            toggleView('services');
            renderServices();
        }

        // Populate Comparison Selectors
        function populateComparisonSelectors() {
            const select1 = document.getElementById('compareService1');
            const select2 = document.getElementById('compareService2');

            let allServices = [];
            Object.entries(awsServices).forEach(([category, services]) => {
                services.forEach(service => {
                    allServices.push({ name: service.name, category: category, data: service });
                });
            });

            allServices.sort((a, b) => a.name.localeCompare(b.name));

            allServices.forEach(service => {
                const option1 = document.createElement('option');
                option1.value = service.name;
                option1.textContent = `${service.name} (${service.category})`;
                select1.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = service.name;
                option2.textContent = `${service.name} (${service.category})`;
                select2.appendChild(option2);
            });
        }

        // Render Comparison
        function renderComparison() {
            const service1Name = document.getElementById('compareService1').value;
            const service2Name = document.getElementById('compareService2').value;
            const grid = document.getElementById('comparisonGrid');

            if (!service1Name || !service2Name) {
                grid.innerHTML = '<p style="color: var(--text-secondary); text-align: center; grid-column: 1 / -1;">Select two services to compare</p>';
                return;
            }

            const service1 = findService(service1Name);
            const service2 = findService(service2Name);

            if (!service1 || !service2) return;

            grid.innerHTML = `
                ${renderComparisonCard(service1)}
                ${renderComparisonCard(service2)}
            `;
        }

        // Find service by name
        function findService(name) {
            for (let category in awsServices) {
                const service = awsServices[category].find(s => s.name === name);
                if (service) return service;
            }
            return null;
        }

        // Render single comparison card
        function renderComparisonCard(service) {
            return `
                <div class="comparison-card">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div class="service-icon">${service.icon}</div>
                        <div class="service-name" style="font-size: 1.3rem;">${service.name}</div>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">${service.description}</p>
                    <div class="service-features" style="margin-bottom: 1rem;">
                        <div class="features-title">Key Features</div>
                        <ul class="features-list">
                            ${service.features.map(f => `<li>${f}</li>`).join('')}
                        </ul>
                    </div>
                    <div>
                        <div class="features-title">Use Cases</div>
                        ${service.useCases.map(uc => `
                            <div style="margin-bottom: 0.8rem;">
                                <div style="font-weight: 600; color: var(--aws-orange); font-size: 0.9rem;">${uc.title}</div>
                                <div style="color: var(--text-secondary); font-size: 0.85rem;">${uc.description}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="service-tags" style="margin-top: 1rem;">
                        ${service.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `;
        }

        // Draw Architecture Diagram
        function drawDiagram(type) {
            const canvas = document.getElementById('diagramCanvas');
            const ctx = canvas.getContext('2d');

            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Set styles
            ctx.font = '14px "Segoe UI"';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            if (type === 'webapp') {
                drawWebAppDiagram(ctx, canvas.width, canvas.height);
            } else if (type === 'dataprocessing') {
                drawDataProcessingDiagram(ctx, canvas.width, canvas.height);
            } else if (type === 'serverless') {
                drawServerlessDiagram(ctx, canvas.width, canvas.height);
            } else if (type === 'storage') {
                drawStorageDiagram(ctx, canvas.width, canvas.height);
            }
        }

        // Draw Web App Architecture
        function drawWebAppDiagram(ctx, width, height) {
            const services = [
                { x: width * 0.15, y: height * 0.3, name: 'Route 53', icon: 'üó∫Ô∏è', color: '#FF9900' },
                { x: width * 0.35, y: height * 0.3, name: 'CloudFront', icon: 'üöÄ', color: '#FF9900' },
                { x: width * 0.55, y: height * 0.3, name: 'ALB', icon: '‚öñÔ∏è', color: '#FF9900' },
                { x: width * 0.55, y: height * 0.6, name: 'EC2', icon: 'üñ•Ô∏è', color: '#FF9900' },
                { x: width * 0.75, y: height * 0.45, name: 'RDS', icon: 'üóÉÔ∏è', color: '#FF9900' },
                { x: width * 0.35, y: height * 0.6, name: 'S3', icon: 'ü™£', color: '#FF9900' }
            ];

            const connections = [
                [0, 1], [1, 2], [2, 3], [3, 4], [2, 5]
            ];

            drawServiceDiagram(ctx, services, connections);
        }

        // Draw Data Processing Architecture
        function drawDataProcessingDiagram(ctx, width, height) {
            const services = [
                { x: width * 0.15, y: height * 0.4, name: 'S3', icon: 'ü™£', color: '#FF9900' },
                { x: width * 0.35, y: height * 0.4, name: 'Lambda', icon: 'Œª', color: '#FF9900' },
                { x: width * 0.55, y: height * 0.4, name: 'DynamoDB', icon: '‚ö°', color: '#FF9900' },
                { x: width * 0.75, y: height * 0.4, name: 'Redshift', icon: 'üìä', color: '#FF9900' },
                { x: width * 0.45, y: height * 0.7, name: 'CloudWatch', icon: 'üìä', color: '#FF9900' }
            ];

            const connections = [
                [0, 1], [1, 2], [2, 3], [1, 4]
            ];

            drawServiceDiagram(ctx, services, connections);
        }

        // Draw Serverless Architecture
        function drawServerlessDiagram(ctx, width, height) {
            const services = [
                { x: width * 0.15, y: height * 0.4, name: 'API Gateway', icon: 'üö™', color: '#FF9900' },
                { x: width * 0.4, y: height * 0.3, name: 'Lambda', icon: 'Œª', color: '#FF9900' },
                { x: width * 0.4, y: height * 0.6, name: 'DynamoDB', icon: '‚ö°', color: '#FF9900' },
                { x: width * 0.65, y: height * 0.4, name: 'S3', icon: 'ü™£', color: '#FF9900' },
                { x: width * 0.85, y: height * 0.4, name: 'CloudFront', icon: 'üöÄ', color: '#FF9900' }
            ];

            const connections = [
                [0, 1], [1, 2], [1, 3], [3, 4]
            ];

            drawServiceDiagram(ctx, services, connections);
        }

        // Draw Storage Architecture
        function drawStorageDiagram(ctx, width, height) {
            const services = [
                { x: width * 0.25, y: height * 0.25, name: 'S3', icon: 'ü™£', color: '#FF9900' },
                { x: width * 0.5, y: height * 0.25, name: 'EBS', icon: 'üíø', color: '#FF9900' },
                { x: width * 0.75, y: height * 0.25, name: 'EFS', icon: 'üìÅ', color: '#FF9900' },
                { x: width * 0.25, y: height * 0.65, name: 'Glacier', icon: 'üßä', color: '#FF9900' },
                { x: width * 0.5, y: height * 0.65, name: 'EC2', icon: 'üñ•Ô∏è', color: '#FF9900' },
                { x: width * 0.75, y: height * 0.65, name: 'Storage Gateway', icon: 'üåâ', color: '#FF9900' }
            ];

            const connections = [
                [0, 3], [1, 4], [2, 4], [0, 5], [3, 5]
            ];

            drawServiceDiagram(ctx, services, connections);
        }

        // Generic service diagram drawer
        function drawServiceDiagram(ctx, services, connections) {
            // Draw connections first (so they appear behind boxes)
            ctx.strokeStyle = '#FF9900';
            ctx.lineWidth = 2;
            connections.forEach(([from, to]) => {
                ctx.beginPath();
                ctx.moveTo(services[from].x, services[from].y);
                ctx.lineTo(services[to].x, services[to].y);
                ctx.stroke();

                // Draw arrow
                const angle = Math.atan2(services[to].y - services[from].y, services[to].x - services[from].x);
                const arrowSize = 10;
                ctx.beginPath();
                ctx.moveTo(services[to].x, services[to].y);
                ctx.lineTo(
                    services[to].x - arrowSize * Math.cos(angle - Math.PI / 6),
                    services[to].y - arrowSize * Math.sin(angle - Math.PI / 6)
                );
                ctx.moveTo(services[to].x, services[to].y);
                ctx.lineTo(
                    services[to].x - arrowSize * Math.cos(angle + Math.PI / 6),
                    services[to].y - arrowSize * Math.sin(angle + Math.PI / 6)
                );
                ctx.stroke();
            });

            // Draw service boxes
            services.forEach(service => {
                // Draw box
                ctx.fillStyle = '#1A1F2E';
                ctx.strokeStyle = service.color;
                ctx.lineWidth = 3;
                const boxWidth = 100;
                const boxHeight = 70;
                const x = service.x - boxWidth / 2;
                const y = service.y - boxHeight / 2;

                ctx.fillRect(x, y, boxWidth, boxHeight);
                ctx.strokeRect(x, y, boxWidth, boxHeight);

                // Draw icon
                ctx.font = '24px "Segoe UI"';
                ctx.fillStyle = '#FFFFFF';
                ctx.fillText(service.icon, service.x, service.y - 15);

                // Draw name
                ctx.font = '12px "Segoe UI"';
                ctx.fillStyle = service.color;
                ctx.fillText(service.name, service.x, service.y + 15);
            });
        }

        // Start Quiz
        function startQuiz() {
            quizState = {
                currentQuestion: 0,
                score: 0,
                answeredQuestions: []
            };
            renderQuizQuestion();
        }

        // Render Quiz Question
        function renderQuizQuestion() {
            const quizContent = document.getElementById('quizContent');
            const currentQ = quizState.currentQuestion;

            document.getElementById('currentQuestion').textContent = currentQ + 1;
            document.getElementById('totalQuestions').textContent = quizQuestions.length;
            document.getElementById('currentScore').textContent = quizState.score;

            if (currentQ >= quizQuestions.length) {
                renderQuizScore();
                return;
            }

            const question = quizQuestions[currentQ];

            quizContent.innerHTML = `
                <div class="question-card">
                    <div class="question-text">${question.question}</div>
                    <div class="answers-grid" id="answersGrid"></div>
                    <div id="quizFeedback"></div>
                </div>
                <div class="quiz-actions">
                    <button class="btn btn-secondary" onclick="skipQuestion()">Skip Question</button>
                </div>
            `;

            const answersGrid = document.getElementById('answersGrid');
            question.answers.forEach((answer, index) => {
                const answerBtn = document.createElement('div');
                answerBtn.className = 'answer-option';
                answerBtn.textContent = answer;
                answerBtn.addEventListener('click', () => selectAnswer(index));
                answersGrid.appendChild(answerBtn);
            });
        }

        // Select Answer
        function selectAnswer(selected) {
            const question = quizQuestions[quizState.currentQuestion];
            const answerOptions = document.querySelectorAll('.answer-option');
            const feedback = document.getElementById('quizFeedback');

            // Disable all options
            answerOptions.forEach((option, index) => {
                option.classList.add('disabled');
                if (index === question.correct) {
                    option.classList.add('correct');
                }
                if (index === selected && selected !== question.correct) {
                    option.classList.add('incorrect');
                }
            });

            // Show feedback
            const isCorrect = selected === question.correct;
            if (isCorrect) {
                quizState.score++;
                feedback.innerHTML = `
                    <div class="quiz-feedback correct">
                        Correct! ${question.explanation}
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div class="quiz-feedback incorrect">
                        Incorrect. ${question.explanation}
                    </div>
                `;
            }

            // Add next button
            setTimeout(() => {
                document.querySelector('.quiz-actions').innerHTML = `
                    <button class="btn" onclick="nextQuestion()">Next Question</button>
                `;
            }, 500);
        }

        // Next Question
        function nextQuestion() {
            quizState.currentQuestion++;
            renderQuizQuestion();
        }

        // Skip Question
        function skipQuestion() {
            quizState.currentQuestion++;
            renderQuizQuestion();
        }

        // Render Quiz Score
        function renderQuizScore() {
            const quizContent = document.getElementById('quizContent');
            const percentage = Math.round((quizState.score / quizQuestions.length) * 100);

            document.getElementById('quizScore').textContent = percentage + '%';

            let message = '';
            if (percentage >= 90) {
                message = 'Outstanding! You have excellent knowledge of AWS services!';
            } else if (percentage >= 70) {
                message = 'Great job! You have a solid understanding of AWS services.';
            } else if (percentage >= 50) {
                message = 'Good effort! Keep learning to improve your AWS knowledge.';
            } else {
                message = 'Keep studying! Review the service details to strengthen your knowledge.';
            }

            quizContent.innerHTML = `
                <div class="quiz-score">
                    <h3 style="color: var(--aws-orange); margin-bottom: 1rem;">Quiz Complete!</h3>
                    <div class="score-display">${quizState.score} / ${quizQuestions.length}</div>
                    <div style="font-size: 1.5rem; color: var(--text-secondary); margin-bottom: 1rem;">${percentage}%</div>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">${message}</p>
                    <button class="btn" onclick="startQuiz()">Retake Quiz</button>
                    <button class="btn btn-secondary" onclick="toggleView('services'); renderServices();">Back to Services</button>
                </div>
            `;

            updateStats();
        }

        // Update Stats
        function updateStats() {
            let totalServices = 0;
            Object.values(awsServices).forEach(category => {
                totalServices += category.length;
            });

            document.getElementById('totalServices').textContent = totalServices;
            document.getElementById('categoryCount').textContent = Object.keys(awsServices).length;
            document.getElementById('servicesExplored').textContent = exploredServices.size;
        }

        // Resize canvas on window resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('diagramCanvas');
            if (canvas && document.getElementById('diagramContainer').classList.contains('active')) {
                // Redraw current diagram
                const activeBtn = document.querySelector('.diagram-controls .btn.active');
                if (activeBtn) {
                    activeBtn.click();
                }
            }
        });
    </script>
</body>
</html>