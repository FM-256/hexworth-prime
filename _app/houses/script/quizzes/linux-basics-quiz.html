<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Basics Challenge - Script House</title>

    <!-- Quiz Engine Styles -->
    <link rel="stylesheet" href="../../../styles/quiz-engine.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a1a0a 0%, #0d2818 50%, #0a1a0a 100%);
            display: flex;
            flex-direction: column;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .page-header {
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(74, 222, 128, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-header a {
            color: #4ade80;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .page-header a:hover {
            color: #86efac;
        }

        .brand {
            font-weight: 600;
            color: #e0e0e0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .brand-icon {
            font-size: 1.2rem;
        }

        .quiz-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 20px;
        }

        #quiz-container {
            width: 100%;
            max-width: 800px;
        }
    </style>
</head>
<body>
    <header class="page-header">
        <a href="../index.html">‚Üê Back to Script House</a>
        <span class="brand">
            <span class="brand-icon">üìú</span>
            Hexworth Prime
        </span>
    </header>

    <main class="quiz-wrapper">
        <div id="quiz-container"></div>
    </main>

    <!-- Quiz Engine -->
    <script src="../../../components/QuizEngine.js"></script>

    <script>
        const quiz = new QuizEngine({
            containerId: 'quiz-container',
            title: 'Linux Basics Challenge',
            description: 'Test your command-line skills and Linux fundamentals',
            passingScore: 70,
            showFeedback: true,
            randomize: true,
            timeLimit: null,
            retryAllowed: true,
            theme: 'script',
            achievement: 'script-linux-basics',

            questions: [
                // NAVIGATION & FILE SYSTEM
                {
                    question: 'Which command displays your current working directory?',
                    options: [
                        'cd',
                        'pwd',
                        'ls',
                        'dir'
                    ],
                    correct: 1,
                    explanation: 'pwd = "print working directory". It shows the full path of where you currently are in the filesystem.'
                },
                {
                    question: 'What does the command "cd ~" do?',
                    options: [
                        'Changes to the root directory',
                        'Changes to the home directory',
                        'Changes to the previous directory',
                        'Shows current directory'
                    ],
                    correct: 1,
                    explanation: 'The tilde (~) is a shortcut for your home directory. "cd ~" takes you home, like /home/username.'
                },
                {
                    question: 'Which command lists all files including hidden ones?',
                    options: [
                        'ls -l',
                        'ls -a',
                        'ls -h',
                        'ls -r'
                    ],
                    correct: 1,
                    explanation: 'The -a flag shows ALL files, including hidden files that start with a dot (.) like .bashrc.'
                },
                {
                    question: 'In Linux, hidden files are identified by:',
                    options: [
                        'A "hidden" file attribute',
                        'A filename starting with a dot (.)',
                        'Being in a special /hidden directory',
                        'Having no file extension'
                    ],
                    correct: 1,
                    explanation: 'Linux uses a simple convention: any file starting with a dot is hidden. No special attributes needed.'
                },

                // FILE OPERATIONS
                {
                    question: 'Which command creates an empty file or updates its timestamp?',
                    options: [
                        'create',
                        'new',
                        'touch',
                        'make'
                    ],
                    correct: 2,
                    explanation: 'touch creates an empty file if it doesn\'t exist, or updates the modification timestamp if it does.'
                },
                {
                    question: 'What does "rm -rf /folder" do?',
                    code: 'rm -rf /folder',
                    options: [
                        'Removes /folder after confirmation',
                        'Recursively force-deletes /folder and all contents',
                        'Moves /folder to trash',
                        'Creates a backup of /folder'
                    ],
                    correct: 1,
                    explanation: '-r = recursive (delete folders and contents), -f = force (no confirmation). DANGEROUS command - use with extreme caution!'
                },
                {
                    question: 'Which command copies files?',
                    options: [
                        'mv',
                        'cp',
                        'copy',
                        'cc'
                    ],
                    correct: 1,
                    explanation: 'cp = copy. Use "cp source destination" to copy files. Add -r to copy directories recursively.'
                },
                {
                    question: 'What\'s the difference between "mv" and "cp"?',
                    options: [
                        'mv is for directories, cp is for files',
                        'mv moves/renames, cp copies',
                        'They are exactly the same',
                        'cp is faster than mv'
                    ],
                    correct: 1,
                    explanation: 'mv = move (original is deleted). cp = copy (original remains). mv is also used to rename files.'
                },

                // PERMISSIONS
                {
                    question: 'In "chmod 755 file", what does 7 represent for the owner?',
                    options: [
                        'Read only',
                        'Read and write',
                        'Read, write, and execute',
                        'Execute only'
                    ],
                    correct: 2,
                    explanation: '7 = 4(read) + 2(write) + 1(execute). The owner has full permissions. 5 = read + execute. 0 = no permissions.'
                },
                {
                    question: 'What does the permission string "drwxr-x---" indicate?',
                    options: [
                        'A file with read permissions for all',
                        'A directory with owner full access, group read/execute, others none',
                        'An executable program',
                        'A symbolic link'
                    ],
                    correct: 1,
                    explanation: 'd = directory. rwx = owner can read, write, execute. r-x = group can read, execute. --- = others have no access.'
                },
                {
                    question: 'Which command changes file ownership?',
                    options: [
                        'chmod',
                        'chown',
                        'chgrp',
                        'chperm'
                    ],
                    correct: 1,
                    explanation: 'chown = change owner. chmod changes permissions, chgrp changes group. Example: chown user:group file'
                },
                {
                    question: 'What does "chmod +x script.sh" do?',
                    options: [
                        'Removes execute permission',
                        'Adds execute permission for everyone',
                        'Makes the file read-only',
                        'Changes the file owner'
                    ],
                    correct: 1,
                    explanation: '+x adds execute permission. This is needed to run scripts. The opposite would be -x to remove execute.'
                },

                // TEXT PROCESSING
                {
                    question: 'Which command displays the contents of a file?',
                    options: [
                        'cat',
                        'dog',
                        'show',
                        'display'
                    ],
                    correct: 0,
                    explanation: 'cat = concatenate. It displays file contents to the terminal. For large files, use less or more for pagination.'
                },
                {
                    question: 'What does "grep" do?',
                    options: [
                        'Groups files together',
                        'Searches for patterns in text',
                        'Creates graphical output',
                        'Compresses files'
                    ],
                    correct: 1,
                    explanation: 'grep = Global Regular Expression Print. It searches for text patterns. Example: grep "error" logfile.txt'
                },
                {
                    question: 'Which command shows the first 10 lines of a file?',
                    options: [
                        'top file',
                        'head file',
                        'first file',
                        'cat -10 file'
                    ],
                    correct: 1,
                    explanation: 'head shows the beginning of files (default 10 lines). tail shows the end. Use -n to specify lines: head -n 20 file'
                },
                {
                    question: 'What does the pipe symbol (|) do?',
                    code: 'cat file.txt | grep "error" | wc -l',
                    options: [
                        'Writes output to a file',
                        'Sends output of one command as input to another',
                        'Runs commands in parallel',
                        'Creates a logical OR condition'
                    ],
                    correct: 1,
                    explanation: 'Pipes chain commands together. This example: reads file ‚Üí filters for "error" ‚Üí counts matching lines.'
                },

                // SYSTEM INFORMATION
                {
                    question: 'Which command shows running processes?',
                    options: [
                        'ps',
                        'proc',
                        'run',
                        'show'
                    ],
                    correct: 0,
                    explanation: 'ps = process status. Use "ps aux" to see all processes. "top" or "htop" show real-time process information.'
                },
                {
                    question: 'What does "sudo" stand for?',
                    options: [
                        'Super User Do',
                        'Switch User and Do',
                        'System Utility for Doing Operations',
                        'Superuser Daemon'
                    ],
                    correct: 0,
                    explanation: 'sudo = "Super User Do" (or "substitute user do"). It runs commands with elevated (root) privileges.'
                },
                {
                    question: 'Which command shows disk space usage?',
                    options: [
                        'ds',
                        'df',
                        'disk',
                        'space'
                    ],
                    correct: 1,
                    explanation: 'df = disk free. Shows filesystem disk space usage. Add -h for human-readable sizes (GB, MB instead of bytes).'
                },
                {
                    question: 'What does "man ls" do?',
                    options: [
                        'Lists all manual pages',
                        'Shows the manual/documentation for the ls command',
                        'Runs ls as a different user',
                        'Formats ls output for printing'
                    ],
                    correct: 1,
                    explanation: 'man = manual. Every command has a manual page. Press q to quit, use / to search within the manual.'
                }
            ],

            onComplete: (results) => {
                console.log('Linux Basics Quiz completed:', results);
                if (results.passed) {
                    console.log('User passed! Linux basics mastered.');
                }
            }
        });

        quiz.start();
    </script>
</body>
</html>
