<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <!-- Achievement & Progress Integration -->
    <script src="../../../components/AchievementManager.js"></script>
    <script src="../../../components/ModuleProgress.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC Quiz - House of the Key</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --house-color: #06b6d4;
            --house-glow: rgba(6, 182, 212, 0.4);
            --bg-dark: #0a0a12;
            --bg-card: rgba(15, 15, 25, 0.8);
            --text-primary: #e8e8f0;
            --text-secondary: #8888aa;
            --success-green: #10b981;
            --warning-red: #ef4444;
            --info-blue: #3b82f6;
        }

        body {
            min-height: 100vh;
            background: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Header */
        .module-header {
            padding: 20px 30px;
            background: rgba(10, 10, 18, 0.95);
            border-bottom: 1px solid rgba(6, 182, 212, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid rgba(6, 182, 212, 0.3);
            background: transparent;
            color: var(--house-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 1.2rem;
        }

        .back-btn:hover {
            background: rgba(6, 182, 212, 0.1);
        }

        .module-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .house-badge {
            font-size: 0.7rem;
            padding: 4px 12px;
            background: rgba(6, 182, 212, 0.15);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 20px;
            color: var(--house-color);
            letter-spacing: 0.1em;
        }

        /* Container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            color: var(--house-color);
            margin-bottom: 10px;
        }

        .page-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Progress Bar */
        .quiz-progress {
            background: var(--bg-card);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .progress-title {
            color: var(--house-color);
            font-weight: 600;
        }

        .progress-count {
            color: var(--text-secondary);
        }

        .progress-bar-container {
            height: 10px;
            background: rgba(6, 182, 212, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--house-color), #22d3ee);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Question Card */
        .question-card {
            background: var(--bg-card);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            display: none;
        }

        .question-card.active {
            display: block;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 0.9rem;
            color: var(--text-secondary);
            background: rgba(6, 182, 212, 0.1);
            padding: 6px 12px;
            border-radius: 20px;
        }

        .question-text {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 25px;
            line-height: 1.5;
        }

        /* Answer Options */
        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
        }

        .answer-option {
            padding: 15px 20px;
            background: rgba(6, 182, 212, 0.05);
            border: 2px solid rgba(6, 182, 212, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .answer-option:hover {
            border-color: var(--house-color);
            background: rgba(6, 182, 212, 0.1);
        }

        .answer-option.selected {
            border-color: var(--house-color);
            background: rgba(6, 182, 212, 0.15);
        }

        .answer-option.correct {
            border-color: var(--success-green);
            background: rgba(16, 185, 129, 0.1);
        }

        .answer-option.incorrect {
            border-color: var(--warning-red);
            background: rgba(239, 68, 68, 0.1);
        }

        .answer-option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option-letter {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(6, 182, 212, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--house-color);
            flex-shrink: 0;
        }

        .answer-option.correct .option-letter {
            background: var(--success-green);
            color: var(--bg-dark);
        }

        .answer-option.incorrect .option-letter {
            background: var(--warning-red);
            color: var(--bg-dark);
        }

        .option-text {
            flex: 1;
            color: var(--text-secondary);
        }

        .answer-option.selected .option-text,
        .answer-option.correct .option-text,
        .answer-option.incorrect .option-text {
            color: var(--text-primary);
        }

        /* Explanation */
        .explanation {
            background: rgba(6, 182, 212, 0.1);
            border-left: 4px solid var(--house-color);
            padding: 20px;
            border-radius: 6px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation h4 {
            color: var(--house-color);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .explanation p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 25px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--house-color);
            color: var(--bg-dark);
        }

        .btn-primary:hover {
            background: #22d3ee;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--house-color);
            color: var(--house-color);
        }

        .btn-secondary:hover {
            background: rgba(6, 182, 212, 0.1);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
            padding: 40px 20px;
            background: var(--bg-card);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 12px;
        }

        .results-screen.show {
            display: block;
        }

        .results-score {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .results-score.excellent {
            color: var(--success-green);
        }

        .results-score.good {
            color: var(--house-color);
        }

        .results-score.needs-improvement {
            color: #f59e0b;
        }

        .results-message {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .results-detail {
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .results-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .result-stat {
            background: rgba(6, 182, 212, 0.1);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(6, 182, 212, 0.2);
        }

        .result-stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--house-color);
        }

        .result-stat-label {
            color: var(--text-secondary);
            margin-top: 8px;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }

            .question-text {
                font-size: 1.1rem;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .results-score {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="module-header">
        <div class="header-left">
            <button class="back-btn" onclick="window.location.href='../../../index.html'" title="Back to Key House">
                ‚Üê
            </button>
            <div class="module-title">PQC Quiz</div>
        </div>
        <div class="house-badge">HOUSE OF THE KEY</div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1>Post-Quantum Cryptography Quiz</h1>
            <p>Test your knowledge of quantum threats and next-generation cryptographic algorithms</p>
        </div>

        <!-- Progress Bar -->
        <div class="quiz-progress">
            <div class="progress-header">
                <div class="progress-title">Quiz Progress</div>
                <div class="progress-count">Question <span id="currentQuestion">1</span> of 10</div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>

        <!-- Question 1 -->
        <div class="question-card active" id="q1">
            <div class="question-header">
                <div class="question-number">Question 1 of 10</div>
            </div>
            <h3 class="question-text">
                What is the primary threat that Shor's algorithm poses to modern cryptography?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(1, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">It weakens symmetric encryption by providing quadratic speedup</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(1, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">It can efficiently factor large numbers and solve discrete logarithm problems, breaking RSA and ECC</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(1, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">It makes hash functions reversible</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(1, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">It enables brute-force attacks on AES-256</div>
                </div>
            </div>
            <div class="explanation" id="exp1">
                <h4>Explanation</h4>
                <p>
                    Shor's algorithm, developed in 1994, allows quantum computers to efficiently factor large
                    integers and solve discrete logarithm problems in polynomial time. This breaks the mathematical
                    foundations of RSA (factorization), ECC, and Diffie-Hellman (discrete logarithms). Symmetric
                    encryption like AES is only weakened by Grover's algorithm, not Shor's.
                </p>
            </div>
        </div>

        <!-- Question 2 -->
        <div class="question-card" id="q2">
            <div class="question-header">
                <div class="question-number">Question 2 of 10</div>
            </div>
            <h3 class="question-text">
                Which three algorithms did NIST select as the first standardized post-quantum cryptographic algorithms in August 2024?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(2, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">Kyber, FALCON, and Classic McEliece</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(2, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">ML-KEM (Kyber), ML-DSA (Dilithium), and SLH-DSA (SPHINCS+)</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(2, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">RSA-4096, ECC-521, and SHA-512</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(2, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">Dilithium, NTRU, and SIKE</div>
                </div>
            </div>
            <div class="explanation" id="exp2">
                <h4>Explanation</h4>
                <p>
                    NIST published three Federal Information Processing Standards (FIPS) in August 2024:
                    FIPS 203 (ML-KEM, formerly Kyber) for key encapsulation, FIPS 204 (ML-DSA, formerly Dilithium)
                    for digital signatures, and FIPS 205 (SLH-DSA, formerly SPHINCS+) for hash-based signatures.
                    FALCON and Classic McEliece are still under consideration in Round 4.
                </p>
            </div>
        </div>

        <!-- Question 3 -->
        <div class="question-card" id="q3">
            <div class="question-header">
                <div class="question-number">Question 3 of 10</div>
            </div>
            <h3 class="question-text">
                What is the main advantage of lattice-based cryptography (like Kyber and Dilithium) compared to other post-quantum approaches?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(3, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">It produces the smallest possible key and signature sizes</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(3, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">It has been studied longer than any other PQC approach</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(3, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">It offers an excellent balance of security, performance, and reasonable key/signature sizes</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(3, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">It relies only on hash functions with no other assumptions</div>
                </div>
            </div>
            <div class="explanation" id="exp3">
                <h4>Explanation</h4>
                <p>
                    Lattice-based cryptography (specifically Module-LWE used in Kyber and Dilithium) provides the
                    best overall balance. It's faster than RSA, has reasonable key/signature sizes (1-4 KB), and
                    offers strong security proofs. Hash-based signatures (SPHINCS+) have smaller keys but much
                    larger signatures. Code-based (McEliece) has been studied longest but has enormous public keys.
                </p>
            </div>
        </div>

        <!-- Question 4 -->
        <div class="question-card" id="q4">
            <div class="question-header">
                <div class="question-number">Question 4 of 10</div>
            </div>
            <h3 class="question-text">
                Why should organizations implement hybrid cryptography (combining classical and PQC algorithms) during the transition?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(4, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">It makes systems run faster by distributing the computational load</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(4, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">It provides security if either the classical or PQC algorithm is secure, hedging against cryptanalytic breakthroughs</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(4, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">It reduces the size of keys and signatures</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(4, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">It's required by government regulations</div>
                </div>
            </div>
            <div class="explanation" id="exp4">
                <h4>Explanation</h4>
                <p>
                    Hybrid approaches combine classical (e.g., ECDH) and PQC (e.g., Kyber) algorithms so that the
                    system remains secure if EITHER algorithm is secure. If quantum computers break ECDH, Kyber
                    protects. If a cryptanalytic breakthrough compromises Kyber, ECDH protects. This provides a
                    safety net during the transition period when both threats exist.
                </p>
            </div>
        </div>

        <!-- Question 5 -->
        <div class="question-card" id="q5">
            <div class="question-header">
                <div class="question-number">Question 5 of 10</div>
            </div>
            <h3 class="question-text">
                What is the "Harvest Now, Decrypt Later" (HNDL) threat model?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(5, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">Attackers steal encryption keys now and use them immediately</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(5, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">Adversaries capture encrypted data today and store it until quantum computers can decrypt it in the future</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(5, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">Organizations delay PQC migration until quantum computers are actually available</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(5, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">A strategy for rotating cryptographic keys annually</div>
                </div>
            </div>
            <div class="explanation" id="exp5">
                <h4>Explanation</h4>
                <p>
                    The HNDL threat model recognizes that adversaries can capture encrypted traffic TODAY (harvest),
                    store it, and wait for powerful quantum computers to become available in the future (decrypt later).
                    This is especially concerning for data with long-term confidentiality requirements (government
                    secrets, healthcare records, financial data). Organizations must transition to PQC NOW to protect
                    against this threat, even if quantum computers are years away.
                </p>
            </div>
        </div>

        <!-- Question 6 -->
        <div class="question-card" id="q6">
            <div class="question-header">
                <div class="question-number">Question 6 of 10</div>
            </div>
            <h3 class="question-text">
                For a high-security government application requiring maximum cryptographic confidence and where bandwidth is not a major constraint, which signature algorithm would be most appropriate?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(6, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">ML-DSA-44 (Dilithium) for smallest signatures</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(6, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">ECDSA P-256 for compatibility</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(6, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">SLH-DSA (SPHINCS+) for conservative hash-based security</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(6, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">RSA-4096 with larger keys</div>
                </div>
            </div>
            <div class="explanation" id="exp6">
                <h4>Explanation</h4>
                <p>
                    For maximum security confidence, SLH-DSA (SPHINCS+) is the best choice. It relies only on
                    hash functions (ultra-conservative assumptions) and has been extensively analyzed. While
                    signatures are large (7-30 KB), the scenario states bandwidth is not a constraint.
                    SPHINCS+ is NIST's backup standard specifically for high-security applications where
                    conservative security is paramount.
                </p>
            </div>
        </div>

        <!-- Question 7 -->
        <div class="question-card" id="q7">
            <div class="question-header">
                <div class="question-number">Question 7 of 10</div>
            </div>
            <h3 class="question-text">
                What is the primary disadvantage of Classic McEliece compared to lattice-based algorithms?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(7, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">It's much slower than other PQC algorithms</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(7, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">Extremely large public keys (200+ KB)</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(7, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">It has weak security proofs</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(7, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">It only provides digital signatures, not encryption</div>
                </div>
            </div>
            <div class="explanation" id="exp7">
                <h4>Explanation</h4>
                <p>
                    Classic McEliece has excellent security (45+ years of study), good performance, and small
                    ciphertexts. However, its public keys are enormous (260 KB to 1.3 MB), making it impractical
                    for many applications like TLS certificates or IoT devices. This is why Kyber was chosen as
                    the primary KEM standard, with McEliece remaining under consideration as a backup due to its
                    different mathematical foundation.
                </p>
            </div>
        </div>

        <!-- Question 8 -->
        <div class="question-card" id="q8">
            <div class="question-header">
                <div class="question-number">Question 8 of 10</div>
            </div>
            <h3 class="question-text">
                What is "crypto agility" and why is it important for post-quantum migration?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(8, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">Using the fastest possible cryptographic algorithms</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(8, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">The ability to quickly swap cryptographic algorithms without major system redesign</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(8, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">Rotating encryption keys on a regular schedule</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(8, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">Supporting multiple programming languages for crypto libraries</div>
                </div>
            </div>
            <div class="explanation" id="exp8">
                <h4>Explanation</h4>
                <p>
                    Crypto agility is the design principle of abstracting cryptographic operations so that
                    algorithms can be easily swapped without major code changes. This is critical for PQC
                    migration because: (1) standards may evolve, (2) new attacks may emerge, (3) performance
                    characteristics may differ from expectations, and (4) hybrid modes may be needed during
                    transition. Systems with good crypto agility can respond quickly to cryptographic changes.
                </p>
            </div>
        </div>

        <!-- Question 9 -->
        <div class="question-card" id="q9">
            <div class="question-header">
                <div class="question-number">Question 9 of 10</div>
            </div>
            <h3 class="question-text">
                Approximately how much larger is a typical ML-DSA-65 (Dilithium) signature compared to an ECDSA P-256 signature?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(9, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">About the same size (within 10%)</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(9, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">2-3 times larger</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(9, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">About 50 times larger</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(9, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">Over 100 times larger</div>
                </div>
            </div>
            <div class="explanation" id="exp9">
                <h4>Explanation</h4>
                <p>
                    ECDSA P-256 signatures are approximately 64 bytes, while ML-DSA-65 (Dilithium) signatures
                    are approximately 3,293 bytes - about 51x larger. This significant size increase impacts
                    bandwidth, especially for protocols with size constraints (DNS, blockchain, IoT). Organizations
                    must plan for this impact through compression, caching, protocol optimizations, or choosing
                    smaller parameter sets (ML-DSA-44) where appropriate.
                </p>
            </div>
        </div>

        <!-- Question 10 -->
        <div class="question-card" id="q10">
            <div class="question-header">
                <div class="question-number">Question 10 of 10</div>
            </div>
            <h3 class="question-text">
                Which phase should be the FIRST priority when planning a post-quantum migration?
            </h3>
            <div class="answer-options">
                <div class="answer-option" onclick="selectAnswer(10, 0)">
                    <div class="option-letter">A</div>
                    <div class="option-text">Immediately replace all RSA/ECC with PQC algorithms</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(10, 1)">
                    <div class="option-letter">B</div>
                    <div class="option-text">Wait until quantum computers are commercially available</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(10, 2)">
                    <div class="option-letter">C</div>
                    <div class="option-text">Conduct a cryptographic inventory to identify all systems using quantum-vulnerable algorithms</div>
                </div>
                <div class="answer-option" onclick="selectAnswer(10, 3)">
                    <div class="option-letter">D</div>
                    <div class="option-text">Deploy PQC only for new systems, leaving existing systems unchanged</div>
                </div>
            </div>
            <div class="explanation" id="exp10">
                <h4>Explanation</h4>
                <p>
                    The first critical step is discovery: conducting a comprehensive cryptographic inventory to
                    understand WHERE cryptography is used, WHICH algorithms are deployed, and WHAT data needs
                    protection. You cannot migrate what you don't know exists. Many organizations discover
                    cryptography in unexpected places (embedded devices, third-party dependencies, legacy systems).
                    Only after completing this inventory can you assess risk, prioritize systems, and plan the
                    actual migration.
                </p>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="nav-buttons" id="navButtons">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
            <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()" disabled>Submit Answer</button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">Next Question</button>
        </div>

        <!-- Results Screen -->
        <div class="results-screen" id="resultsScreen">
            <div class="results-score" id="resultsScore">0%</div>
            <div class="results-message" id="resultsMessage">Quiz Complete!</div>
            <div class="results-detail" id="resultsDetail"></div>

            <div class="results-breakdown">
                <div class="result-stat">
                    <div class="result-stat-value" id="correctCount">0</div>
                    <div class="result-stat-label">Correct Answers</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="incorrectCount">0</div>
                    <div class="result-stat-label">Incorrect Answers</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="percentageScore">0%</div>
                    <div class="result-stat-label">Final Score</div>
                </div>
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="reviewAnswers()">Review Answers</button>
                <button class="btn btn-primary" onclick="window.location.href='../../../index.html'">Return to Key House</button>
            </div>
        </div>
    </div>

    <script>
        const correctAnswers = [1, 1, 2, 1, 1, 2, 1, 1, 2, 2];
        let currentQ = 1;
        let userAnswers = {};
        let score = 0;

        function selectAnswer(questionNum, answerIndex) {
            // Check if already submitted
            if (userAnswers[questionNum] !== undefined) return;

            // Remove previous selections
            const options = document.querySelectorAll(`#q${questionNum} .answer-option`);
            options.forEach(opt => opt.classList.remove('selected'));

            // Mark as selected
            options[answerIndex].classList.add('selected');

            // Enable submit button
            document.getElementById('submitBtn').disabled = false;

            // Store selected answer (not submitted yet)
            window.tempAnswer = answerIndex;
        }

        function submitAnswer() {
            if (window.tempAnswer === undefined) return;

            const questionNum = currentQ;
            const answerIndex = window.tempAnswer;
            const isCorrect = (answerIndex === correctAnswers[questionNum - 1]);

            // Store answer
            userAnswers[questionNum] = answerIndex;

            // Mark correct/incorrect
            const options = document.querySelectorAll(`#q${questionNum} .answer-option`);
            options.forEach((opt, idx) => {
                opt.classList.add('disabled');
                if (idx === correctAnswers[questionNum - 1]) {
                    opt.classList.add('correct');
                } else if (idx === answerIndex && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // Show explanation
            document.getElementById(`exp${questionNum}`).classList.add('show');

            // Update score
            if (isCorrect) score++;

            // Update buttons
            document.getElementById('submitBtn').style.display = 'none';

            if (currentQ < 10) {
                document.getElementById('nextBtn').style.display = 'block';
            } else {
                // Last question - show results
                document.getElementById('nextBtn').textContent = 'View Results';
                document.getElementById('nextBtn').style.display = 'block';
            }

            // Clear temp answer
            window.tempAnswer = undefined;
        }

        function nextQuestion() {
            if (currentQ === 10) {
                showResults();
                return;
            }

            // Hide current question
            document.getElementById(`q${currentQ}`).classList.remove('active');

            // Show next question
            currentQ++;
            document.getElementById(`q${currentQ}`).classList.add('active');

            // Update progress
            updateProgress();

            // Reset buttons
            document.getElementById('submitBtn').style.display = 'block';
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('prevBtn').disabled = (currentQ === 1);
        }

        function previousQuestion() {
            if (currentQ === 1) return;

            // Hide current question
            document.getElementById(`q${currentQ}`).classList.remove('active');

            // Show previous question
            currentQ--;
            document.getElementById(`q${currentQ}`).classList.add('active');

            // Update progress
            updateProgress();

            // Update buttons based on whether this question was answered
            const wasAnswered = userAnswers[currentQ] !== undefined;
            if (wasAnswered) {
                document.getElementById('submitBtn').style.display = 'none';
                if (currentQ < 10 || (currentQ === 10 && wasAnswered)) {
                    document.getElementById('nextBtn').style.display = 'block';
                    document.getElementById('nextBtn').textContent = currentQ === 10 ? 'View Results' : 'Next Question';
                }
            } else {
                document.getElementById('submitBtn').style.display = 'block';
                document.getElementById('submitBtn').disabled = true;
                document.getElementById('nextBtn').style.display = 'none';
            }

            document.getElementById('prevBtn').disabled = (currentQ === 1);
        }

        function updateProgress() {
            const percentage = ((currentQ - 1) / 10) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('currentQuestion').textContent = currentQ;
        }

        function showResults() {
            // Hide quiz interface
            document.getElementById('navButtons').style.display = 'none';
            document.querySelectorAll('.question-card').forEach(card => card.style.display = 'none');

            // Calculate results
            const percentage = (score / 10) * 100;

            // Update results screen
            document.getElementById('resultsScore').textContent = percentage.toFixed(0) + '%';
            document.getElementById('correctCount').textContent = score;
            document.getElementById('incorrectCount').textContent = (10 - score);
            document.getElementById('percentageScore').textContent = percentage.toFixed(0) + '%';

            // Set message based on score
            let message = '';
            let detail = '';
            let scoreClass = '';

            if (percentage >= 90) {
                message = 'Excellent Work!';
                detail = 'You have mastered post-quantum cryptography concepts. You\'re ready to lead PQC migrations.';
                scoreClass = 'excellent';
            } else if (percentage >= 70) {
                message = 'Good Job!';
                detail = 'You have a solid understanding of PQC. Review the missed questions to strengthen your knowledge.';
                scoreClass = 'good';
            } else {
                message = 'Keep Learning!';
                detail = 'Post-quantum cryptography is complex. Review the presentation and try the quiz again.';
                scoreClass = 'needs-improvement';
            }

            document.getElementById('resultsMessage').textContent = message;
            document.getElementById('resultsDetail').textContent = detail;
            document.getElementById('resultsScore').classList.add(scoreClass);

            // Show results screen
            document.getElementById('resultsScreen').classList.add('show');

            // Complete quiz in progress system
            try {
                if (typeof ModuleProgress !== 'undefined' && percentage >= 70) {
                    ModuleProgress.completeQuiz('key', 'key-pqc-quiz', percentage);
                }

                // Award achievements
                if (typeof AchievementManager !== 'undefined') {
                    if (percentage === 100) {
                        AchievementManager.unlock('pqc-expert');
                    } else if (percentage >= 70) {
                        AchievementManager.unlock('pqc-ready');
                    }
                }
            } catch (error) {
                console.error('Error completing quiz:', error);
            }
        }

        function reviewAnswers() {
            // Hide results
            document.getElementById('resultsScreen').classList.remove('show');

            // Show all questions
            document.querySelectorAll('.question-card').forEach(card => card.style.display = 'block');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>
