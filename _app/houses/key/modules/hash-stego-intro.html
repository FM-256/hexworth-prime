<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Hashing & Steganography - Hexworth Prime</title>
<style>
  :root {
    /* Hexworth Prime - Key House Theme (Gold/Crypto) */
    --bg: #0a0a0f;
    --bg2: #1a1500;
    --card: #1f1a0a;
    --ink: #e0e0e0;
    --muted: #a0956a;
    --accent: #fbbf24;
    --accent2: #f59e0b;
    --accent-glow: rgba(251, 191, 36, 0.3);
    --ok: #2ed573;
    --border: rgba(251, 191, 36, 0.2);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: linear-gradient(135deg, #0a0a0f 0%, #1a1500 50%, #3d2e00 100%);
    color: var(--ink);
    min-height: 100vh;
    line-height: 1.6;
  }

  /* Page Header */
  .page-header {
    padding: 15px 30px;
    background: rgba(0, 0, 0, 0.4);
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .page-header a {
    color: var(--muted);
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.2s;
  }

  .page-header a:hover { color: var(--accent); }

  .brand {
    font-weight: 600;
    color: var(--ink);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .brand-icon { font-size: 1.2rem; }

  /* Container */
  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 30px 20px;
  }

  /* Slides */
  section {
    display: none;
    padding: 40px;
    background: linear-gradient(180deg, rgba(31, 26, 10, 0.9) 0%, rgba(10, 10, 15, 0.95) 100%);
    border: 1px solid var(--border);
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    margin: 20px 0;
  }

  section.active {
    display: block;
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h1 {
    font-size: clamp(1.8rem, 4vw, 2.4rem);
    text-align: center;
    margin-bottom: 20px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  h2 {
    font-size: 1.5rem;
    color: var(--accent);
    margin-bottom: 16px;
    text-align: center;
  }

  p {
    color: var(--ink);
    margin-bottom: 20px;
    font-size: 1.05rem;
  }

  /* Controls */
  .controls {
    position: fixed;
    top: 80px;
    right: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 999;
  }

  .nav {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-top: 30px;
  }

  button {
    padding: 10px 18px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.2s;
  }

  .btn-next {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #0a0a0f;
  }

  .btn-prev {
    background: rgba(255, 255, 255, 0.1);
    color: var(--ink);
    border: 1px solid var(--border);
  }

  .btn-theme {
    background: rgba(34, 211, 238, 0.2);
    color: #22d3ee;
    font-size: 0.8rem;
    padding: 8px 12px;
  }

  .btn-reset {
    background: rgba(255, 71, 87, 0.2);
    color: #ff4757;
    font-size: 0.8rem;
    padding: 8px 12px;
  }

  button:hover {
    transform: translateY(-2px);
    filter: brightness(1.1);
  }

  /* Interactive Section */
  .interactive {
    background: rgba(0, 0, 0, 0.3);
    padding: 24px;
    border: 1px solid var(--border);
    border-radius: 12px;
    margin-top: 20px;
  }

  label {
    display: block;
    color: var(--muted);
    font-size: 0.9rem;
    margin-bottom: 6px;
    margin-top: 14px;
  }

  label:first-child { margin-top: 0; }

  textarea, input[type="text"], input[type="file"] {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.4);
    color: var(--ink);
    font-size: 1rem;
    font-family: inherit;
  }

  textarea:focus, input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 15px var(--accent-glow);
  }

  input[type="file"] {
    padding: 10px;
    cursor: pointer;
  }

  pre {
    background: rgba(0, 0, 0, 0.5);
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 0.9rem;
    color: var(--accent);
    margin-top: 14px;
    border: 1px solid var(--border);
    min-height: 50px;
  }

  .btn-action {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #0a0a0f;
    margin-top: 14px;
    margin-right: 10px;
  }

  .btn-decode {
    background: linear-gradient(135deg, #2ed573, #26a65b);
  }

  /* Progress indicator */
  .slide-indicator {
    text-align: center;
    color: var(--muted);
    font-size: 0.9rem;
    margin-bottom: 10px;
  }

  /* Header meta */
  .header-meta {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
  }

  .tag {
    font-size: 0.75rem;
    padding: 4px 12px;
    border-radius: 20px;
    background: rgba(251, 191, 36, 0.15);
    color: var(--accent);
    border: 1px solid var(--border);
  }

  footer {
    text-align: center;
    padding: 30px;
    color: var(--muted);
    font-size: 0.85rem;
  }

  footer a {
    color: var(--accent);
    text-decoration: none;
  }

  footer a:hover { text-decoration: underline; }

  @media (max-width: 768px) {
    .controls { top: auto; bottom: 80px; right: 10px; }
    section { padding: 24px; }
  }
</style>
</head>
<body>

<!-- Hexworth Header -->
<header class="page-header">
  <a href="../../index.html">‚Üê Back to Key House</a>
  <span class="brand">
    <span class="brand-icon">üîë</span>
    Hexworth Prime
  </span>
</header>

<div class="controls">
  <button class="btn-theme" id="random">üé® Theme</button>
  <button class="btn-reset" id="reset">‚Ü∫ Reset</button>
</div>

<div class="container">
  <div class="slide-indicator">
    Slide <span id="currentSlide">1</span> of <span id="totalSlides">3</span>
  </div>

  <section id="slide1" class="active">
    <h1>üîê Hashing & Steganography</h1>
    <div class="header-meta">
      <span class="tag">Key House</span>
      <span class="tag">Interactive</span>
      <span class="tag">Cryptography</span>
    </div>
    <p style="text-align: center;">
      This interactive lesson explores how <strong>Hashing</strong> and <strong>Steganography</strong> work in cybersecurity.
      You'll compute real SHA-256 hashes and simulate hiding messages in images.
    </p>
    <p style="text-align: center; color: var(--muted);">
      Use the navigation buttons below to begin your journey into cryptographic fundamentals.
    </p>
    <div class="nav">
      <button class="btn-next" id="startBtn">Start Lesson ‚Üí</button>
    </div>
  </section>

  <section id="slide2">
    <h2>What is Hashing?</h2>
    <p>
      Hashing converts input data into a <strong>fixed-size digest</strong> (hash). It's a one-way function‚Äî
      you cannot reverse it to get the original input. Hashing is used for password security,
      data integrity verification, and blockchain technology.
    </p>
    <div class="interactive">
      <label for="hashInput">Type something to hash:</label>
      <textarea id="hashInput" rows="3" placeholder="Enter any text to see its SHA-256 hash..."></textarea>
      <button class="btn-action" id="hashBtn">Compute SHA-256</button>
      <pre id="hashResult">Hash will appear here...</pre>
    </div>
    <div class="nav">
      <button class="btn-prev" id="prev2">‚Üê Previous</button>
      <button class="btn-next" id="next2">Next ‚Üí</button>
    </div>
  </section>

  <section id="slide3">
    <h2>What is Steganography?</h2>
    <p>
      Steganography hides messages <strong>within other files</strong> (like images) so they are invisible
      to the naked eye. Unlike encryption which scrambles data, steganography conceals the very existence
      of the message.
    </p>
    <div class="interactive">
      <label for="stegoImage">Upload a PNG image:</label>
      <input type="file" id="stegoImage" accept="image/png">
      <label for="secretMsg">Hidden message:</label>
      <input type="text" id="secretMsg" placeholder="Enter your secret message...">
      <div style="margin-top: 14px;">
        <button class="btn-action" id="encodeBtn">üîí Hide Message</button>
        <button class="btn-action btn-decode" id="decodeBtn">üîì Reveal Message</button>
      </div>
      <pre id="stegoOutput">Upload an image and enter a message to simulate steganography...</pre>
    </div>
    <div class="nav">
      <button class="btn-prev" id="prev3">‚Üê Previous</button>
      <button class="btn-next" id="restart">‚Üª Start Over</button>
    </div>
  </section>
</div>

<footer>
  Part of <a href="../../../index.html">Hexworth Prime</a> | Key House Cryptography Fundamentals
</footer>

<script>
let slide = 1;
const total = 3;

function showSlide(n) {
  document.querySelectorAll('section').forEach((s, i) => s.classList.toggle('active', i === n - 1));
  document.getElementById('currentSlide').textContent = n;
}

function nextSlide() {
  slide = slide < total ? slide + 1 : 1;
  showSlide(slide);
}

function prevSlide() {
  slide = slide > 1 ? slide - 1 : total;
  showSlide(slide);
}

// Navigation
document.getElementById('startBtn').onclick = nextSlide;
document.getElementById('next2').onclick = nextSlide;
document.getElementById('prev2').onclick = prevSlide;
document.getElementById('prev3').onclick = prevSlide;
document.getElementById('restart').onclick = () => { slide = 1; showSlide(slide); };

// Theme switching
const themes = [
  { bg: 'linear-gradient(135deg, #0a0a0f 0%, #1a1500 50%, #3d2e00 100%)', text: '#e0e0e0', accent: '#fbbf24' },
  { bg: 'linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%)', text: '#e0e0e0', accent: '#a78bfa' },
  { bg: 'linear-gradient(135deg, #0a0a0f 0%, #164e63 50%, #0f766e 100%)', text: '#e0e0e0', accent: '#14b8a6' },
  { bg: 'linear-gradient(135deg, #0a0a0f 0%, #1c1917 50%, #44403c 100%)', text: '#e0e0e0', accent: '#fb923c' }
];

function applyTheme(t) {
  document.body.style.background = t.bg;
  document.body.style.color = t.text;
  document.querySelectorAll('h1, h2').forEach(h => {
    h.style.background = `linear-gradient(90deg, ${t.accent}, ${t.accent})`;
    h.style.webkitBackgroundClip = 'text';
    h.style.webkitTextFillColor = 'transparent';
  });
}

document.getElementById('random').onclick = () => applyTheme(themes[Math.floor(Math.random() * themes.length)]);
document.getElementById('reset').onclick = () => applyTheme(themes[0]);

// SHA-256 Hashing
async function sha256(str) {
  const buf = new TextEncoder().encode(str);
  const h = await crypto.subtle.digest('SHA-256', buf);
  return Array.from(new Uint8Array(h)).map(b => b.toString(16).padStart(2, '0')).join('');
}

document.getElementById('hashBtn').onclick = async () => {
  const val = document.getElementById('hashInput').value;
  if (!val.trim()) {
    document.getElementById('hashResult').textContent = 'Please enter some text first...';
    return;
  }
  const hash = await sha256(val);
  document.getElementById('hashResult').textContent = hash;
};

// Steganography simulation
let stegoData = null;

function b64(b) { return btoa(String.fromCharCode(...b)); }
function b64ToU8(b) { const bin = atob(b); return Uint8Array.from(bin, c => c.charCodeAt(0)); }

document.getElementById('encodeBtn').onclick = () => {
  const f = document.getElementById('stegoImage').files[0];
  if (!f) {
    document.getElementById('stegoOutput').textContent = '‚ö†Ô∏è Please upload a PNG image first.';
    return;
  }
  const msg = document.getElementById('secretMsg').value;
  if (!msg) {
    document.getElementById('stegoOutput').textContent = '‚ö†Ô∏è Please enter a secret message.';
    return;
  }
  const r = new FileReader();
  r.onload = () => {
    const msgBytes = new TextEncoder().encode(msg);
    stegoData = r.result + '|HIDDEN|' + b64(msgBytes);
    document.getElementById('stegoOutput').textContent = '‚úÖ Message hidden successfully!\n\nIn real steganography, the message would be encoded in the image\'s pixel data (LSB encoding).';
  };
  r.readAsDataURL(f);
};

document.getElementById('decodeBtn').onclick = () => {
  if (!stegoData) {
    document.getElementById('stegoOutput').textContent = '‚ö†Ô∏è No hidden data found. Hide a message first!';
    return;
  }
  const p = stegoData.split('|HIDDEN|');
  if (p.length < 2) {
    document.getElementById('stegoOutput').textContent = 'No hidden message found.';
    return;
  }
  const t = new TextDecoder().decode(b64ToU8(p[1]));
  document.getElementById('stegoOutput').textContent = 'üîì Hidden Message Revealed:\n\n"' + t + '"';
};

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowRight') nextSlide();
  if (e.key === 'ArrowLeft') prevSlide();
});
</script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
