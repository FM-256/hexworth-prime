<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC Explorer - House of the Key</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --house-color: #06b6d4;
            --house-glow: rgba(6, 182, 212, 0.4);
            --bg-dark: #0a0a12;
            --bg-card: rgba(15, 15, 25, 0.8);
            --text-primary: #e8e8f0;
            --text-secondary: #8888aa;
            --accent-cyan: #22d3ee;
            --success-green: #10b981;
            --warning-amber: #f59e0b;
            --danger-red: #ef4444;
            --code-bg: rgba(10, 20, 30, 0.9);
        }

        body {
            min-height: 100vh;
            background: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Header */
        .module-header {
            padding: 20px 30px;
            background: rgba(10, 10, 18, 0.95);
            border-bottom: 1px solid rgba(6, 182, 212, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid rgba(6, 182, 212, 0.3);
            background: transparent;
            color: var(--house-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 1.2rem;
        }

        .back-btn:hover {
            background: rgba(6, 182, 212, 0.1);
        }

        .module-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .house-badge {
            font-size: 0.7rem;
            padding: 4px 12px;
            background: rgba(6, 182, 212, 0.15);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 20px;
            color: var(--house-color);
            letter-spacing: 0.1em;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            color: var(--house-color);
            margin-bottom: 10px;
        }

        .page-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(6, 182, 212, 0.2);
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            font-size: 1rem;
        }

        .tab-btn:hover {
            color: var(--house-color);
        }

        .tab-btn.active {
            color: var(--house-color);
            border-bottom-color: var(--house-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--house-color);
            box-shadow: 0 4px 20px var(--house-glow);
        }

        .card h3 {
            color: var(--house-color);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .card p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* Timeline Visualization */
        .timeline-viz {
            position: relative;
            padding: 40px 0;
        }

        .timeline-track {
            position: relative;
            height: 120px;
            background: rgba(10, 20, 30, 0.5);
            border-radius: 8px;
            border: 1px solid rgba(6, 182, 212, 0.3);
            overflow: hidden;
        }

        .timeline-year-markers {
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            margin-top: 10px;
        }

        .year-marker {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .threat-indicator {
            position: absolute;
            height: 100%;
            border-right: 3px dashed;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .threat-label {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            right: 10px;
            background: rgba(10, 10, 18, 0.9);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }

        /* Algorithm Comparison Table */
        .comparison-table {
            overflow-x: auto;
        }

        .algo-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .algo-table th,
        .algo-table td {
            padding: 15px;
            text-align: left;
            border: 1px solid rgba(6, 182, 212, 0.2);
        }

        .algo-table th {
            background: rgba(6, 182, 212, 0.15);
            color: var(--house-color);
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .algo-table tr:hover {
            background: rgba(6, 182, 212, 0.05);
        }

        .algo-table td {
            color: var(--text-secondary);
        }

        .metric-good {
            color: var(--success-green);
            font-weight: 600;
        }

        .metric-medium {
            color: var(--warning-amber);
            font-weight: 600;
        }

        .metric-poor {
            color: var(--danger-red);
            font-weight: 600;
        }

        /* Size Comparison Chart */
        .size-chart {
            margin: 30px 0;
        }

        .size-item {
            margin-bottom: 20px;
        }

        .size-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .size-bar-container {
            height: 35px;
            background: rgba(10, 20, 30, 0.5);
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid rgba(6, 182, 212, 0.2);
            position: relative;
        }

        .size-bar {
            height: 100%;
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-size: 0.85rem;
            font-weight: 600;
            transition: width 1s ease;
            position: relative;
        }

        /* Performance Chart */
        .perf-chart {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .perf-card {
            background: var(--code-bg);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .perf-card h4 {
            color: var(--house-color);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .perf-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .perf-unit {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        /* Hybrid Visualizer */
        .hybrid-viz {
            background: var(--code-bg);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 8px;
            padding: 30px;
            margin: 25px 0;
        }

        .hybrid-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .hybrid-box {
            background: rgba(6, 182, 212, 0.1);
            border: 2px solid var(--house-color);
            border-radius: 8px;
            padding: 20px;
            min-width: 150px;
            text-align: center;
        }

        .hybrid-arrow {
            color: var(--accent-cyan);
            font-size: 1.5rem;
            font-weight: 700;
        }

        /* Migration Assessment */
        .assessment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .checklist-card {
            background: var(--code-bg);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 8px;
            padding: 20px;
        }

        .checklist-card h4 {
            color: var(--house-color);
            margin-bottom: 15px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(6, 182, 212, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checklist-item:hover {
            background: rgba(6, 182, 212, 0.1);
        }

        .checklist-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--house-color);
            border-radius: 4px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: transparent;
            transition: all 0.2s ease;
        }

        .checklist-item.checked .checklist-checkbox {
            background: var(--house-color);
            color: var(--bg-dark);
        }

        .checklist-text {
            color: var(--text-secondary);
            flex: 1;
        }

        .checklist-item.checked .checklist-text {
            color: var(--text-primary);
        }

        /* Algorithm Selector */
        .selector-container {
            background: var(--code-bg);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 8px;
            padding: 30px;
            margin: 25px 0;
        }

        .selector-question {
            margin-bottom: 25px;
        }

        .selector-question h4 {
            color: var(--house-color);
            margin-bottom: 12px;
        }

        .selector-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .selector-option {
            padding: 10px 20px;
            background: rgba(6, 182, 212, 0.1);
            border: 2px solid rgba(6, 182, 212, 0.3);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .selector-option:hover {
            border-color: var(--house-color);
            background: rgba(6, 182, 212, 0.2);
        }

        .selector-option.selected {
            border-color: var(--house-color);
            background: var(--house-color);
            color: var(--bg-dark);
        }

        .selector-result {
            margin-top: 30px;
            padding: 25px;
            background: rgba(6, 182, 212, 0.1);
            border: 2px solid var(--house-color);
            border-radius: 8px;
            display: none;
        }

        .selector-result.show {
            display: block;
        }

        .selector-result h3 {
            color: var(--house-color);
            margin-bottom: 10px;
        }

        .selector-result p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .control-group {
            flex: 1;
            min-width: 200px;
        }

        .control-label {
            display: block;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .control-input {
            width: 100%;
            padding: 10px;
            background: var(--code-bg);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .control-input:focus {
            outline: none;
            border-color: var(--house-color);
        }

        .btn {
            padding: 10px 20px;
            background: var(--house-color);
            border: none;
            border-radius: 6px;
            color: var(--bg-dark);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn:hover {
            background: var(--accent-cyan);
            transform: translateY(-2px);
        }

        /* Info Boxes */
        .info-box {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid;
        }

        .info-box.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success-green);
            color: #6ee7b7;
        }

        .info-box.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning-amber);
            color: #fcd34d;
        }

        .info-box.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger-red);
            color: #fca5a5;
        }

        .info-box.info {
            background: rgba(6, 182, 212, 0.1);
            border-color: var(--house-color);
            color: var(--accent-cyan);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }

            .hybrid-flow {
                flex-direction: column;
            }

            .hybrid-arrow {
                transform: rotate(90deg);
            }

            .algo-table {
                font-size: 0.85rem;
            }

            .algo-table th,
            .algo-table td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="module-header">
        <div class="header-left">
            <button class="back-btn" onclick="window.location.href='../../index.html'" title="Back to Key House">
                ←
            </button>
            <div class="module-title">PQC Explorer</div>
        </div>
        <div class="house-badge">HOUSE OF THE KEY</div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="page-header">
            <h1>Post-Quantum Cryptography Explorer</h1>
            <p>Interactive tools to understand PQC algorithms, compare performance, and plan your migration</p>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn active" onclick="switchTab('timeline')">Threat Timeline</button>
            <button class="tab-btn" onclick="switchTab('comparison')">Algorithm Comparison</button>
            <button class="tab-btn" onclick="switchTab('sizes')">Key Size Analysis</button>
            <button class="tab-btn" onclick="switchTab('performance')">Performance Metrics</button>
            <button class="tab-btn" onclick="switchTab('hybrid')">Hybrid Visualizer</button>
            <button class="tab-btn" onclick="switchTab('assessment')">Migration Readiness</button>
            <button class="tab-btn" onclick="switchTab('selector')">Algorithm Selector</button>
        </div>

        <!-- Tab 1: Threat Timeline -->
        <div id="tab-timeline" class="tab-content active">
            <div class="card">
                <h3>Quantum Threat Timeline Visualizer</h3>
                <p>
                    Estimate when different key sizes become vulnerable to quantum attacks.
                    Adjust the quantum computing progress rate to see how timelines shift.
                </p>

                <div class="controls">
                    <div class="control-group">
                        <label class="control-label">Key Size</label>
                        <select class="control-input" id="keySizeSelect" onchange="updateTimeline()">
                            <option value="1024">RSA-1024</option>
                            <option value="2048" selected>RSA-2048</option>
                            <option value="3072">RSA-3072</option>
                            <option value="4096">RSA-4096</option>
                            <option value="256">ECC-256 (P-256)</option>
                            <option value="384">ECC-384 (P-384)</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label">Progress Scenario</label>
                        <select class="control-input" id="scenarioSelect" onchange="updateTimeline()">
                            <option value="optimistic">Optimistic (Fast Progress)</option>
                            <option value="moderate" selected>Moderate (Expected)</option>
                            <option value="conservative">Conservative (Slow Progress)</option>
                        </select>
                    </div>
                </div>

                <div class="timeline-viz">
                    <div class="timeline-track" id="timelineTrack">
                        <div class="threat-indicator" id="threatIndicator" style="left: 0%; border-color: var(--danger-red);">
                            <div class="threat-label" id="threatLabel" style="color: var(--danger-red);">2030</div>
                        </div>
                    </div>
                    <div class="timeline-year-markers">
                        <div class="year-marker">2024<br>Today</div>
                        <div class="year-marker">2028</div>
                        <div class="year-marker">2032</div>
                        <div class="year-marker">2036</div>
                        <div class="year-marker">2040</div>
                    </div>
                </div>

                <div id="timelineInfo" class="info-box warning">
                    <strong>Estimated Vulnerability:</strong> RSA-2048 becomes vulnerable around 2030-2035 (moderate scenario).
                    Organizations should transition to PQC now to protect against "Harvest Now, Decrypt Later" attacks.
                </div>
            </div>
        </div>

        <!-- Tab 2: Algorithm Comparison -->
        <div id="tab-comparison" class="tab-content">
            <div class="card">
                <h3>PQC Algorithm Comparison</h3>
                <p>Compare the primary NIST-standardized post-quantum algorithms across multiple dimensions.</p>

                <div class="comparison-table">
                    <table class="algo-table">
                        <thead>
                            <tr>
                                <th>Algorithm</th>
                                <th>Type</th>
                                <th>Math Basis</th>
                                <th>Security Level</th>
                                <th>Key Size</th>
                                <th>Signature Size</th>
                                <th>Speed</th>
                                <th>Maturity</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ML-KEM-768<br>(Kyber)</strong></td>
                                <td>Key Encapsulation</td>
                                <td>Lattices (Module-LWE)</td>
                                <td>~AES-192</td>
                                <td class="metric-good">1,184 bytes</td>
                                <td>N/A</td>
                                <td class="metric-good">Fast</td>
                                <td class="metric-good">High</td>
                            </tr>
                            <tr>
                                <td><strong>ML-DSA-65<br>(Dilithium)</strong></td>
                                <td>Digital Signature</td>
                                <td>Lattices (Module-LWE)</td>
                                <td>~AES-192</td>
                                <td class="metric-medium">1,952 bytes</td>
                                <td class="metric-medium">3,293 bytes</td>
                                <td class="metric-good">Fast</td>
                                <td class="metric-good">High</td>
                            </tr>
                            <tr>
                                <td><strong>SLH-DSA-128s<br>(SPHINCS+)</strong></td>
                                <td>Digital Signature</td>
                                <td>Hash Functions</td>
                                <td>~AES-128</td>
                                <td class="metric-good">32 bytes</td>
                                <td class="metric-poor">7,856 bytes</td>
                                <td class="metric-medium">Medium</td>
                                <td class="metric-good">Very High</td>
                            </tr>
                            <tr>
                                <td><strong>SLH-DSA-128f<br>(SPHINCS+)</strong></td>
                                <td>Digital Signature</td>
                                <td>Hash Functions</td>
                                <td>~AES-128</td>
                                <td class="metric-good">32 bytes</td>
                                <td class="metric-poor">17,088 bytes</td>
                                <td class="metric-good">Fast</td>
                                <td class="metric-good">Very High</td>
                            </tr>
                            <tr>
                                <td><strong>McEliece</strong></td>
                                <td>Key Encapsulation</td>
                                <td>Error-Correcting Codes</td>
                                <td>~AES-128</td>
                                <td class="metric-poor">261 KB</td>
                                <td>N/A</td>
                                <td class="metric-good">Fast</td>
                                <td class="metric-good">Very High (1978)</td>
                            </tr>
                            <tr style="background: rgba(136, 136, 170, 0.1);">
                                <td><strong>RSA-2048</strong></td>
                                <td>Encryption/Signature</td>
                                <td>Integer Factorization</td>
                                <td class="metric-poor">Quantum Vulnerable</td>
                                <td class="metric-good">256 bytes</td>
                                <td class="metric-good">256 bytes</td>
                                <td class="metric-medium">Medium</td>
                                <td class="metric-good">Very High (1977)</td>
                            </tr>
                            <tr style="background: rgba(136, 136, 170, 0.1);">
                                <td><strong>ECDSA P-256</strong></td>
                                <td>Digital Signature</td>
                                <td>Elliptic Curves</td>
                                <td class="metric-poor">Quantum Vulnerable</td>
                                <td class="metric-good">32 bytes</td>
                                <td class="metric-good">64 bytes</td>
                                <td class="metric-good">Fast</td>
                                <td class="metric-good">High</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="info-box info">
                    <strong>Key Insight:</strong> PQC algorithms trade larger key/signature sizes for quantum resistance.
                    Lattice-based algorithms (Kyber, Dilithium) offer the best balance, while hash-based (SPHINCS+)
                    provides conservative security with large signatures.
                </div>
            </div>
        </div>

        <!-- Tab 3: Key Size Analysis -->
        <div id="tab-sizes" class="tab-content">
            <div class="card">
                <h3>Key and Signature Size Comparison</h3>
                <p>Visualize the size differences between classical and post-quantum cryptography.</p>

                <h4 style="color: var(--house-color); margin-top: 30px;">Public Key Sizes</h4>
                <div class="size-chart">
                    <div class="size-item">
                        <div class="size-label">
                            <span>RSA-2048</span>
                            <span>256 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 2%; background: linear-gradient(90deg, #8888aa, #6666aa);">256 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>ECDSA P-256</span>
                            <span>32 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 0.2%; background: linear-gradient(90deg, #8888aa, #6666aa);">32 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>ML-KEM-768 (Kyber)</span>
                            <span>1,184 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 9%; background: linear-gradient(90deg, var(--house-color), var(--accent-cyan));">1,184 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>ML-DSA-65 (Dilithium)</span>
                            <span>1,952 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 15%; background: linear-gradient(90deg, var(--house-color), var(--accent-cyan));">1,952 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>SLH-DSA-128s (SPHINCS+)</span>
                            <span>32 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 0.2%; background: linear-gradient(90deg, var(--success-green), #34d399);">32 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>Classic McEliece</span>
                            <span>261,120 bytes (255 KB)</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 100%; background: linear-gradient(90deg, var(--danger-red), #fb923c); color: white;">261,120 B</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: var(--house-color); margin-top: 40px;">Signature Sizes</h4>
                <div class="size-chart">
                    <div class="size-item">
                        <div class="size-label">
                            <span>RSA-2048</span>
                            <span>256 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 2%; background: linear-gradient(90deg, #8888aa, #6666aa);">256 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>ECDSA P-256</span>
                            <span>64 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 0.5%; background: linear-gradient(90deg, #8888aa, #6666aa);">64 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>ML-DSA-65 (Dilithium)</span>
                            <span>3,293 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 25%; background: linear-gradient(90deg, var(--house-color), var(--accent-cyan));">3,293 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>SLH-DSA-128s (SPHINCS+)</span>
                            <span>7,856 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 60%; background: linear-gradient(90deg, var(--warning-amber), #fb923c);">7,856 B</div>
                        </div>
                    </div>
                    <div class="size-item">
                        <div class="size-label">
                            <span>SLH-DSA-128f (SPHINCS+ fast)</span>
                            <span>17,088 bytes</span>
                        </div>
                        <div class="size-bar-container">
                            <div class="size-bar" style="width: 100%; background: linear-gradient(90deg, var(--danger-red), #ef4444); color: white;">17,088 B</div>
                        </div>
                    </div>
                </div>

                <div class="info-box warning">
                    <strong>Bandwidth Impact:</strong> Post-quantum signatures are 10-200x larger than classical equivalents.
                    This affects TLS handshakes, code signing, blockchain transactions, and IoT communications.
                    Consider compression, caching, and protocol optimizations.
                </div>
            </div>
        </div>

        <!-- Tab 4: Performance Metrics -->
        <div id="tab-performance" class="tab-content">
            <div class="card">
                <h3>Performance Comparison</h3>
                <p>Approximate performance metrics for PQC algorithms on modern hardware (relative to classical crypto).</p>

                <h4 style="color: var(--house-color); margin-top: 20px;">Key Encapsulation (KEM) Performance</h4>
                <div class="perf-chart">
                    <div class="perf-card">
                        <h4>RSA-2048 Encrypt</h4>
                        <div class="perf-value" style="color: var(--text-secondary);">1.0x</div>
                        <div class="perf-unit">Baseline</div>
                    </div>
                    <div class="perf-card">
                        <h4>ECDH P-256</h4>
                        <div class="perf-value" style="color: var(--success-green);">3.0x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                    <div class="perf-card">
                        <h4>ML-KEM-768 Encap</h4>
                        <div class="perf-value" style="color: var(--success-green);">5.0x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                    <div class="perf-card">
                        <h4>ML-KEM-768 Decap</h4>
                        <div class="perf-value" style="color: var(--success-green);">4.5x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                </div>

                <h4 style="color: var(--house-color); margin-top: 30px;">Digital Signature Performance</h4>
                <div class="perf-chart">
                    <div class="perf-card">
                        <h4>RSA-2048 Sign</h4>
                        <div class="perf-value" style="color: var(--text-secondary);">1.0x</div>
                        <div class="perf-unit">Baseline</div>
                    </div>
                    <div class="perf-card">
                        <h4>ECDSA P-256 Sign</h4>
                        <div class="perf-value" style="color: var(--success-green);">8.0x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                    <div class="perf-card">
                        <h4>ML-DSA-65 Sign</h4>
                        <div class="perf-value" style="color: var(--success-green);">6.0x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                    <div class="perf-card">
                        <h4>ML-DSA-65 Verify</h4>
                        <div class="perf-value" style="color: var(--success-green);">15x</div>
                        <div class="perf-unit">Faster than RSA</div>
                    </div>
                    <div class="perf-card">
                        <h4>SLH-DSA-128s Sign</h4>
                        <div class="perf-value" style="color: var(--warning-amber);">0.05x</div>
                        <div class="perf-unit">20x Slower</div>
                    </div>
                    <div class="perf-card">
                        <h4>SLH-DSA-128f Sign</h4>
                        <div class="perf-value" style="color: var(--warning-amber);">0.5x</div>
                        <div class="perf-unit">2x Slower</div>
                    </div>
                </div>

                <div class="info-box success">
                    <strong>Performance Insight:</strong> Lattice-based algorithms (Kyber, Dilithium) generally perform
                    better than RSA and comparably to ECC. Hash-based signatures (SPHINCS+) are slower but offer
                    conservative security. Choose 'f' (fast) variants when performance matters.
                </div>
            </div>
        </div>

        <!-- Tab 5: Hybrid Visualizer -->
        <div id="tab-hybrid" class="tab-content">
            <div class="card">
                <h3>Hybrid Cryptography Visualizer</h3>
                <p>
                    Hybrid approaches combine classical and post-quantum algorithms to provide security during
                    the transition period. Visualize how hybrid key exchange and signatures work.
                </p>

                <h4 style="color: var(--house-color); margin-top: 25px;">Hybrid Key Exchange</h4>
                <div class="hybrid-viz">
                    <div class="hybrid-flow">
                        <div class="hybrid-box">
                            <strong>Classical ECDH</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">X25519 Key Exchange</span><br>
                            <span style="color: var(--success-green); font-size: 0.85rem;">Protects vs classical attacks</span>
                        </div>
                        <div class="hybrid-arrow">+</div>
                        <div class="hybrid-box">
                            <strong>PQC KEM</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">ML-KEM-768 (Kyber)</span><br>
                            <span style="color: var(--success-green); font-size: 0.85rem;">Protects vs quantum attacks</span>
                        </div>
                        <div class="hybrid-arrow">→</div>
                        <div class="hybrid-box" style="border-color: var(--success-green);">
                            <strong>Combined Secret</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">KDF(ecdh || kyber)</span><br>
                            <span style="color: var(--success-green); font-size: 0.85rem;">Double protection</span>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(6, 182, 212, 0.1); border-radius: 6px;">
                        <strong style="color: var(--house-color);">Security Guarantee:</strong>
                        <p style="color: var(--text-secondary); margin-top: 8px; line-height: 1.6;">
                            The hybrid approach is secure if <em>either</em> component is secure. If quantum computers
                            break ECDH, Kyber protects. If Kyber is cryptanalyzed, ECDH protects. This provides
                            a safety net during the transition period.
                        </p>
                    </div>
                </div>

                <h4 style="color: var(--house-color); margin-top: 35px;">Hybrid Digital Signatures</h4>
                <div class="hybrid-viz">
                    <div class="hybrid-flow">
                        <div class="hybrid-box">
                            <strong>ECDSA P-256</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">Classical Signature</span><br>
                            <span style="color: var(--text-secondary); font-size: 0.85rem;">~64 bytes</span>
                        </div>
                        <div class="hybrid-arrow">+</div>
                        <div class="hybrid-box">
                            <strong>ML-DSA-65</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">PQC Signature</span><br>
                            <span style="color: var(--text-secondary); font-size: 0.85rem;">~3,293 bytes</span>
                        </div>
                        <div class="hybrid-arrow">→</div>
                        <div class="hybrid-box" style="border-color: var(--warning-amber);">
                            <strong>Dual Signature</strong><br>
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">Both signatures</span><br>
                            <span style="color: var(--warning-amber); font-size: 0.85rem;">~3,357 bytes total</span>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(245, 158, 11, 0.1); border-radius: 6px; border-left: 4px solid var(--warning-amber);">
                        <strong style="color: var(--warning-amber);">Trade-off:</strong>
                        <p style="color: var(--text-secondary); margin-top: 8px; line-height: 1.6;">
                            Hybrid signatures provide maximum security but double the signature size. Alternative
                            approaches include composite signatures (standardization in progress) or certificate
                            chain mixing (PQC cert signed by classical CA).
                        </p>
                    </div>
                </div>

                <div class="info-box info" style="margin-top: 25px;">
                    <strong>Industry Adoption:</strong>
                    <ul style="margin: 10px 0 0 20px; color: var(--text-secondary);">
                        <li>Google Chrome: X25519Kyber768 hybrid in TLS 1.3</li>
                        <li>Signal: PQXDH (X25519 + Kyber) for end-to-end encryption</li>
                        <li>Apple iMessage: PQ3 protocol with hybrid approach</li>
                        <li>Cloudflare: Hybrid post-quantum TLS for customer traffic</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tab 6: Migration Readiness Assessment -->
        <div id="tab-assessment" class="tab-content">
            <div class="card">
                <h3>Migration Readiness Assessment</h3>
                <p>
                    Evaluate your organization's readiness to transition to post-quantum cryptography.
                    Check off items you've completed to track progress.
                </p>

                <div class="assessment-grid">
                    <div class="checklist-card">
                        <h4>1. Discovery & Inventory</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Identify all systems using RSA/ECC/DH</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Document key sizes and algorithms in use</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Map data sensitivity and retention periods</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Catalog third-party crypto dependencies</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Identify legacy systems that can't be updated</div>
                        </div>
                    </div>

                    <div class="checklist-card">
                        <h4>2. Risk Assessment</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Evaluate HNDL threat for long-term data</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Prioritize high-value cryptographic assets</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Assess regulatory compliance requirements</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Determine migration timeline based on threats</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Document business impact of crypto failures</div>
                        </div>
                    </div>

                    <div class="checklist-card">
                        <h4>3. Technical Preparation</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Update crypto libraries to PQC-enabled versions</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Design for crypto agility (algorithm abstraction)</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Test PQC algorithms in non-production environments</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Measure performance impact of PQC algorithms</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Plan for increased bandwidth/storage needs</div>
                        </div>
                    </div>

                    <div class="checklist-card">
                        <h4>4. Organizational Readiness</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Train security team on PQC concepts</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Engage vendors about PQC support timeline</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Allocate budget for migration project</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Establish PQC migration governance</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Monitor NIST/IETF standards development</div>
                        </div>
                    </div>

                    <div class="checklist-card">
                        <h4>5. Hybrid Deployment</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Deploy hybrid key exchange in TLS</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Implement hybrid signatures for code signing</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Monitor performance in production</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Establish rollback procedures</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Document lessons learned</div>
                        </div>
                    </div>

                    <div class="checklist-card">
                        <h4>6. Full PQC Transition</h4>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Phase out classical algorithms systematically</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Reissue certificates with PQC algorithms</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Update disaster recovery procedures</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Continuous monitoring for new PQC standards</div>
                        </div>
                        <div class="checklist-item" onclick="toggleCheck(this)">
                            <div class="checklist-checkbox">✓</div>
                            <div class="checklist-text">Maintain crypto agility for future transitions</div>
                        </div>
                    </div>
                </div>

                <div id="readinessScore" class="info-box info" style="margin-top: 25px; font-size: 1.1rem;">
                    <strong>Readiness Score: 0/30 (0%)</strong> - Begin with discovery and inventory.
                </div>
            </div>
        </div>

        <!-- Tab 7: Algorithm Selector -->
        <div id="tab-selector" class="tab-content">
            <div class="card">
                <h3>PQC Algorithm Selector</h3>
                <p>Answer a few questions about your use case, and we'll recommend the best post-quantum algorithm.</p>

                <div class="selector-container">
                    <div class="selector-question">
                        <h4>1. What type of cryptographic operation do you need?</h4>
                        <div class="selector-options">
                            <div class="selector-option" data-question="1" data-value="kem" onclick="selectOption(this)">
                                Key Exchange / Encryption
                            </div>
                            <div class="selector-option" data-question="1" data-value="signature" onclick="selectOption(this)">
                                Digital Signatures
                            </div>
                        </div>
                    </div>

                    <div class="selector-question">
                        <h4>2. What is your primary constraint?</h4>
                        <div class="selector-options">
                            <div class="selector-option" data-question="2" data-value="performance" onclick="selectOption(this)">
                                Performance (Speed)
                            </div>
                            <div class="selector-option" data-question="2" data-value="bandwidth" onclick="selectOption(this)">
                                Bandwidth (Size)
                            </div>
                            <div class="selector-option" data-question="2" data-value="security" onclick="selectOption(this)">
                                Maximum Security Confidence
                            </div>
                            <div class="selector-option" data-question="2" data-value="balanced" onclick="selectOption(this)">
                                Balanced (General Purpose)
                            </div>
                        </div>
                    </div>

                    <div class="selector-question">
                        <h4>3. What is your deployment environment?</h4>
                        <div class="selector-options">
                            <div class="selector-option" data-question="3" data-value="server" onclick="selectOption(this)">
                                Server / Cloud
                            </div>
                            <div class="selector-option" data-question="3" data-value="client" onclick="selectOption(this)">
                                Client / Desktop
                            </div>
                            <div class="selector-option" data-question="3" data-value="iot" onclick="selectOption(this)">
                                IoT / Embedded
                            </div>
                            <div class="selector-option" data-question="3" data-value="mobile" onclick="selectOption(this)">
                                Mobile Device
                            </div>
                        </div>
                    </div>

                    <div class="selector-result" id="selectorResult">
                        <h3 id="resultAlgo"></h3>
                        <p id="resultReason"></p>
                        <div id="resultDetails" style="margin-top: 15px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById('tab-' + tabName).classList.add('active');

            // Set active button
            event.target.classList.add('active');
        }

        // Timeline updater
        function updateTimeline() {
            const keySize = document.getElementById('keySizeSelect').value;
            const scenario = document.getElementById('scenarioSelect').value;

            let year = 2030; // Base year
            let percentage = 37.5; // 2030 position (6 years from 2024, 16-year range 2024-2040)

            // Adjust based on scenario
            if (scenario === 'optimistic') {
                year -= 3;
                percentage -= 18.75;
            } else if (scenario === 'conservative') {
                year += 5;
                percentage += 31.25;
            }

            // Adjust based on key size
            if (keySize === '1024') {
                year -= 8;
                percentage -= 50;
            } else if (keySize === '3072') {
                year += 3;
                percentage += 18.75;
            } else if (keySize === '4096') {
                year += 5;
                percentage += 31.25;
            } else if (keySize === '256') {
                year -= 2;
                percentage -= 12.5;
            } else if (keySize === '384') {
                year += 2;
                percentage += 12.5;
            }

            // Clamp values
            percentage = Math.max(0, Math.min(100, percentage));
            year = Math.max(2024, Math.min(2040, year));

            // Update UI
            const indicator = document.getElementById('threatIndicator');
            const label = document.getElementById('threatLabel');
            indicator.style.left = percentage + '%';
            label.textContent = year;

            // Update info text
            const infoBox = document.getElementById('timelineInfo');
            let keySizeText = document.getElementById('keySizeSelect').selectedOptions[0].text;
            infoBox.innerHTML = `<strong>Estimated Vulnerability:</strong> ${keySizeText} becomes vulnerable around ${year} (${scenario} scenario). Organizations should transition to PQC now to protect against "Harvest Now, Decrypt Later" attacks.`;
        }

        // Checklist toggle
        function toggleCheck(element) {
            element.classList.toggle('checked');
            updateReadinessScore();
        }

        function updateReadinessScore() {
            const total = document.querySelectorAll('.checklist-item').length;
            const checked = document.querySelectorAll('.checklist-item.checked').length;
            const percentage = Math.round((checked / total) * 100);

            const scoreBox = document.getElementById('readinessScore');
            let message = '';

            if (percentage === 0) {
                message = 'Begin with discovery and inventory.';
            } else if (percentage < 20) {
                message = 'Early stages. Focus on completing inventory and risk assessment.';
            } else if (percentage < 40) {
                message = 'Good progress. Continue technical preparation and organizational readiness.';
            } else if (percentage < 60) {
                message = 'Halfway there! Begin planning hybrid deployment.';
            } else if (percentage < 80) {
                message = 'Strong readiness. Execute hybrid deployment and monitor results.';
            } else if (percentage < 100) {
                message = 'Almost complete. Finalize PQC transition and maintain crypto agility.';
            } else {
                message = 'Excellent! Your organization is ready for the post-quantum era.';
            }

            scoreBox.innerHTML = `<strong>Readiness Score: ${checked}/${total} (${percentage}%)</strong> - ${message}`;
        }

        // Algorithm selector
        let selections = {};

        function selectOption(element) {
            const question = element.getAttribute('data-question');
            const value = element.getAttribute('data-value');

            // Remove selected from siblings
            element.parentElement.querySelectorAll('.selector-option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Mark as selected
            element.classList.add('selected');

            // Store selection
            selections[question] = value;

            // Check if all questions answered
            if (Object.keys(selections).length === 3) {
                recommendAlgorithm();
            }
        }

        function recommendAlgorithm() {
            const operation = selections['1'];
            const constraint = selections['2'];
            const environment = selections['3'];

            let algo = '';
            let reason = '';
            let details = '';

            if (operation === 'kem') {
                // Key Encapsulation
                if (constraint === 'bandwidth' || environment === 'iot') {
                    algo = 'ML-KEM-512 (Kyber-512)';
                    reason = 'Smallest PQC KEM with acceptable security (~AES-128). Good for bandwidth-constrained environments.';
                    details = '<strong>Key Size:</strong> 800 bytes | <strong>Ciphertext:</strong> 768 bytes | <strong>Security:</strong> NIST Level 1';
                } else if (constraint === 'security') {
                    algo = 'ML-KEM-1024 (Kyber-1024)';
                    reason = 'Highest security level (~AES-256). Best for long-term data protection and high-security environments.';
                    details = '<strong>Key Size:</strong> 1,568 bytes | <strong>Ciphertext:</strong> 1,568 bytes | <strong>Security:</strong> NIST Level 5';
                } else {
                    algo = 'ML-KEM-768 (Kyber-768)';
                    reason = 'Recommended default for most use cases. Excellent balance of security, performance, and size.';
                    details = '<strong>Key Size:</strong> 1,184 bytes | <strong>Ciphertext:</strong> 1,088 bytes | <strong>Security:</strong> NIST Level 3 (~AES-192)';
                }
            } else {
                // Digital Signatures
                if (constraint === 'security') {
                    algo = 'SLH-DSA-128s (SPHINCS+) or ML-DSA-87';
                    reason = 'For maximum security confidence, use hash-based SPHINCS+ (conservative assumptions) or highest-security Dilithium.';
                    details = '<strong>SPHINCS+:</strong> Ultra-conservative, 7.8 KB signatures | <strong>Dilithium-87:</strong> Lattice-based, 4.6 KB signatures, ~AES-256 security';
                } else if (constraint === 'bandwidth' || environment === 'iot') {
                    algo = 'ML-DSA-44 (Dilithium-44)';
                    reason = 'Smallest PQC signature algorithm. Reasonable signature size (~2.4 KB) with AES-128 equivalent security.';
                    details = '<strong>Public Key:</strong> 1,312 bytes | <strong>Signature:</strong> 2,420 bytes | <strong>Security:</strong> NIST Level 2';
                } else if (constraint === 'performance') {
                    algo = 'ML-DSA-65 (Dilithium-65)';
                    reason = 'Fast signing and verification with moderate signature size. Best general-purpose PQC signature.';
                    details = '<strong>Public Key:</strong> 1,952 bytes | <strong>Signature:</strong> 3,293 bytes | <strong>Security:</strong> NIST Level 3 (~AES-192)';
                } else {
                    algo = 'ML-DSA-65 (Dilithium-65) or Hybrid (ECDSA + Dilithium)';
                    reason = 'For balanced requirements, use Dilithium-65 or consider hybrid approach for transition period.';
                    details = '<strong>ML-DSA-65:</strong> 3.3 KB signatures | <strong>Hybrid:</strong> Combines classical + PQC for maximum compatibility';
                }
            }

            // Show result
            document.getElementById('resultAlgo').textContent = 'Recommended: ' + algo;
            document.getElementById('resultReason').textContent = reason;
            document.getElementById('resultDetails').innerHTML = details;
            document.getElementById('selectorResult').classList.add('show');
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', function() {
            updateTimeline();
        });
    </script>
</body>
</html>
