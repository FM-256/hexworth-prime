<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIEM Fundamentals Quiz - Eye House</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a0b2e 100%);
            color: #e0e0e0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(192, 132, 252, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            color: #0f0f23;
            margin-bottom: 10px;
        }

        .quiz-info {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .quiz-info h3 {
            color: #c084fc;
            margin-bottom: 10px;
        }

        .quiz-info ul {
            margin-left: 25px;
            line-height: 1.8;
        }

        .question-card {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .question-card:hover {
            border-color: #06b6d4;
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .question-card.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .question-card.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #c084fc, #a78bfa);
            color: #0f0f23;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 15px;
        }

        .question-text {
            color: #06b6d4;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .options {
            margin: 20px 0;
        }

        .option {
            background: rgba(30, 30, 60, 0.5);
            border: 2px solid #666;
            border-radius: 10px;
            padding: 15px 20px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #c084fc;
            background: rgba(192, 132, 252, 0.1);
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin-right: 15px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .option.selected {
            border-color: #06b6d4;
            background: rgba(6, 182, 212, 0.2);
        }

        .option.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.2);
        }

        .option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.2);
        }

        .explanation {
            background: rgba(6, 182, 212, 0.1);
            border-left: 5px solid #06b6d4;
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
            display: none;
        }

        .explanation.visible {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .explanation h4 {
            color: #06b6d4;
            margin-bottom: 10px;
        }

        .btn {
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            color: #0f0f23;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            margin: 10px 5px;
            box-shadow: 0 6px 20px rgba(192, 132, 252, 0.4);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(192, 132, 252, 0.6);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: rgba(6, 182, 212, 0.3);
            border: 2px solid #06b6d4;
            color: #06b6d4;
        }

        .submit-section {
            text-align: center;
            margin: 40px 0;
        }

        .results {
            background: rgba(30, 30, 60, 0.8);
            border: 3px solid #c084fc;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
            display: none;
        }

        .results.visible {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .score-display {
            font-size: 4em;
            font-weight: bold;
            background: linear-gradient(135deg, #c084fc, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }

        .score-message {
            font-size: 1.5em;
            color: #06b6d4;
            margin: 20px 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(30, 30, 60, 0.5);
            border: 2px solid #c084fc;
            border-radius: 10px;
            padding: 20px;
        }

        .stat-value {
            font-size: 2.5em;
            color: #06b6d4;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            color: #c084fc;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #c084fc, #a78bfa);
            color: #0f0f23;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin: 5px;
        }

        .progress-indicator {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 30px;
            position: sticky;
            top: 20px;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: rgba(30, 30, 60, 0.8);
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #c084fc, #06b6d4);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0f0f23;
        }

        .code-snippet {
            background: #0f0f23;
            border: 2px solid #06b6d4;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            color: #22d3ee;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .question-card {
                padding: 20px;
            }

            .score-display {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìù SIEM Fundamentals Quiz</h1>
            <p>Test Your Security Monitoring Knowledge</p>
            <div style="margin-top: 15px;">
                <span class="badge">Eye House</span>
                <span class="badge">10 Questions</span>
                <span class="badge">CySA+ Level</span>
            </div>
        </header>

        <div class="quiz-info">
            <h3>Quiz Instructions</h3>
            <ul>
                <li>This quiz contains 10 multiple-choice questions covering SIEM fundamentals</li>
                <li>Each question has one correct answer</li>
                <li>Select your answer and explanations will be revealed after submission</li>
                <li>You need 70% or higher to pass</li>
                <li>Take your time and read each question carefully</li>
            </ul>
        </div>

        <div class="progress-indicator">
            <div style="color: #c084fc; font-weight: bold; margin-bottom: 5px;">Progress: <span id="progressText">0/10</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%;">0%</div>
            </div>
        </div>

        <!-- Question 1 -->
        <div class="question-card" data-question="1">
            <div class="question-text">
                <span class="question-number">1</span>
                What are the two main components that SIEM combines?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q1" value="a" onchange="selectOption(1, 'a')">
                    <span>SIM (Security Information Management) and SEM (Security Event Management)</span>
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="b" onchange="selectOption(1, 'b')">
                    <span>SOAR (Security Orchestration) and IDS (Intrusion Detection System)</span>
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="c" onchange="selectOption(1, 'c')">
                    <span>Firewall and Antivirus</span>
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="d" onchange="selectOption(1, 'd')">
                    <span>EDR (Endpoint Detection) and NDR (Network Detection)</span>
                </label>
            </div>
            <div class="explanation" id="exp1">
                <h4>‚úì Correct Answer: A</h4>
                <p><strong>Explanation:</strong> SIEM combines SIM (Security Information Management), which focuses on long-term storage and analysis of log data, with SEM (Security Event Management), which provides real-time monitoring and correlation of security events. This combination enables both historical analysis and real-time threat detection.</p>
            </div>
        </div>

        <!-- Question 2 -->
        <div class="question-card" data-question="2">
            <div class="question-text">
                <span class="question-number">2</span>
                What is the primary purpose of log normalization in a SIEM?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q2" value="a" onchange="selectOption(2, 'a')">
                    <span>To compress logs and save storage space</span>
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="b" onchange="selectOption(2, 'b')">
                    <span>To convert logs from different sources into a consistent, structured format</span>
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="c" onchange="selectOption(2, 'c')">
                    <span>To encrypt sensitive log data</span>
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="d" onchange="selectOption(2, 'd')">
                    <span>To delete duplicate log entries</span>
                </label>
            </div>
            <div class="explanation" id="exp2">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> Log normalization is the process of converting logs from different vendors and formats (Apache, Windows, Cisco, etc.) into a consistent, structured format with standardized field names. This allows the SIEM to correlate events across different log sources effectively. For example, mapping "src", "IpAddress", and "%h" all to a common "source_ip" field.</p>
            </div>
        </div>

        <!-- Question 3 -->
        <div class="question-card" data-question="3">
            <div class="question-text">
                <span class="question-number">3</span>
                Which SPL query would find all failed Windows login attempts from the last hour?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q3" value="a" onchange="selectOption(3, 'a')">
                    <span><code>index=windows EventCode=4624 earliest=-1h</code></span>
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="b" onchange="selectOption(3, 'b')">
                    <span><code>index=windows EventCode=4625 earliest=-1h</code></span>
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="c" onchange="selectOption(3, 'c')">
                    <span><code>index=security FailedLogin=true time=1h</code></span>
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="d" onchange="selectOption(3, 'd')">
                    <span><code>sourcetype=WinEventLog | where status="failed"</code></span>
                </label>
            </div>
            <div class="explanation" id="exp3">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> In Windows Event Logs, EventCode 4625 represents failed login attempts (while 4624 is successful login). The query searches the windows index for these events in the last hour using the earliest=-1h time modifier. EventCode 4624 would show successful logins, not failed ones.</p>
            </div>
        </div>

        <!-- Question 4 -->
        <div class="question-card" data-question="4">
            <div class="question-text">
                <span class="question-number">4</span>
                What does the SIEM correlation engine do?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q4" value="a" onchange="selectOption(4, 'a')">
                    <span>Stores logs in a database</span>
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="b" onchange="selectOption(4, 'b')">
                    <span>Applies rules to detect patterns and relationships between events</span>
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="c" onchange="selectOption(4, 'c')">
                    <span>Forwards logs from endpoints to the SIEM</span>
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="d" onchange="selectOption(4, 'd')">
                    <span>Displays dashboards for analysts</span>
                </label>
            </div>
            <div class="explanation" id="exp4">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> The correlation engine is the "brain" of the SIEM that applies rules to identify patterns and relationships between events. For example, it can detect that 5 failed logins from the same IP within 5 minutes, followed by a successful login, indicates a brute force attack. This automated pattern recognition is what makes SIEM powerful for threat detection.</p>
            </div>
        </div>

        <!-- Question 5 -->
        <div class="question-card" data-question="5">
            <div class="question-text">
                <span class="question-number">5</span>
                Which regulation requires tracking and monitoring all access to network resources and cardholder data?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q5" value="a" onchange="selectOption(5, 'a')">
                    <span>GDPR (General Data Protection Regulation)</span>
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="b" onchange="selectOption(5, 'b')">
                    <span>PCI-DSS (Payment Card Industry Data Security Standard)</span>
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="c" onchange="selectOption(5, 'c')">
                    <span>SOX (Sarbanes-Oxley Act)</span>
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="d" onchange="selectOption(5, 'd')">
                    <span>FISMA (Federal Information Security Management Act)</span>
                </label>
            </div>
            <div class="explanation" id="exp5">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> PCI-DSS Requirement 10 specifically mandates tracking and monitoring all access to network resources and cardholder data. Organizations that process, store, or transmit credit card information must implement SIEM capabilities to maintain PCI-DSS compliance. This includes logging all access attempts, both successful and failed, and retaining logs for audit purposes.</p>
            </div>
        </div>

        <!-- Question 6 -->
        <div class="question-card" data-question="6">
            <div class="question-text">
                <span class="question-number">6</span>
                What is the key difference between SIEM and SOAR?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q6" value="a" onchange="selectOption(6, 'a')">
                    <span>SIEM detects and analyzes threats; SOAR automates response and orchestrates actions</span>
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="b" onchange="selectOption(6, 'b')">
                    <span>SIEM is cloud-based; SOAR is on-premises only</span>
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="c" onchange="selectOption(6, 'c')">
                    <span>SIEM is for small businesses; SOAR is for enterprises</span>
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="d" onchange="selectOption(6, 'd')">
                    <span>They are the same technology with different names</span>
                </label>
            </div>
            <div class="explanation" id="exp6">
                <h4>‚úì Correct Answer: A</h4>
                <p><strong>Explanation:</strong> SIEM focuses on detection and analysis - collecting logs, correlating events, and generating alerts. SOAR (Security Orchestration, Automation, and Response) takes the next step by automating incident response workflows, orchestrating actions across multiple security tools, and reducing manual effort. They're complementary technologies: SIEM identifies the threat, SOAR responds to it.</p>
            </div>
        </div>

        <!-- Question 7 -->
        <div class="question-card" data-question="7">
            <div class="question-text">
                <span class="question-number">7</span>
                Which Windows Event ID indicates a successful user login?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q7" value="a" onchange="selectOption(7, 'a')">
                    <span>EventID 4625</span>
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="b" onchange="selectOption(7, 'b')">
                    <span>EventID 4624</span>
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="c" onchange="selectOption(7, 'c')">
                    <span>EventID 4672</span>
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="d" onchange="selectOption(7, 'd')">
                    <span>EventID 4720</span>
                </label>
            </div>
            <div class="explanation" id="exp7">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> Windows Event ID 4624 indicates a successful account logon. Other important Event IDs include: 4625 (failed logon), 4672 (special privileges assigned to new logon - admin access), 4720 (user account created), and 4688 (new process created). These are critical for security monitoring in Windows environments.</p>
            </div>
        </div>

        <!-- Question 8 -->
        <div class="question-card" data-question="8">
            <div class="question-text">
                <span class="question-number">8</span>
                What is the best approach to reduce false positives in SIEM alerts?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q8" value="a" onchange="selectOption(8, 'a')">
                    <span>Disable all alerts that trigger more than once per day</span>
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="b" onchange="selectOption(8, 'b')">
                    <span>Add thresholds, time windows, and exclude known benign sources through tuning</span>
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="c" onchange="selectOption(8, 'c')">
                    <span>Only alert on critical severity events</span>
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="d" onchange="selectOption(8, 'd')">
                    <span>Route all alerts directly to email and ignore them</span>
                </label>
            </div>
            <div class="explanation" id="exp8">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> Alert tuning involves refining rules to reduce noise while maintaining detection effectiveness. This includes adding thresholds (e.g., >5 events), time windows (e.g., within 5 minutes), excluding test environments or known benign IPs, and grouping events by source. The goal is high-fidelity alerts that warrant investigation, not alert fatigue from false positives.</p>
            </div>
        </div>

        <!-- Question 9 -->
        <div class="question-card" data-question="9">
            <div class="question-text">
                <span class="question-number">9</span>
                In the ELK Stack, what is Logstash primarily used for?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q9" value="a" onchange="selectOption(9, 'a')">
                    <span>Storing and searching log data</span>
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="b" onchange="selectOption(9, 'b')">
                    <span>Visualizing data with dashboards</span>
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="c" onchange="selectOption(9, 'c')">
                    <span>Processing, transforming, and enriching log data before indexing</span>
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="d" onchange="selectOption(9, 'd')">
                    <span>Collecting logs from endpoints</span>
                </label>
            </div>
            <div class="explanation" id="exp9">
                <h4>‚úì Correct Answer: C</h4>
                <p><strong>Explanation:</strong> In the ELK Stack: Beats collect data from endpoints, Logstash processes and transforms that data (parsing, filtering, enriching), Elasticsearch stores and indexes it, and Kibana visualizes it. Logstash acts as the data processing pipeline, using filters like grok patterns to parse unstructured logs into structured fields.</p>
            </div>
        </div>

        <!-- Question 10 -->
        <div class="question-card" data-question="10">
            <div class="question-text">
                <span class="question-number">10</span>
                Which of the following log sources is MOST critical for detecting lateral movement in a network?
            </div>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q10" value="a" onchange="selectOption(10, 'a')">
                    <span>Web server access logs</span>
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="b" onchange="selectOption(10, 'b')">
                    <span>Windows Domain Controller authentication logs</span>
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="c" onchange="selectOption(10, 'c')">
                    <span>Antivirus scan results</span>
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="d" onchange="selectOption(10, 'd')">
                    <span>Email gateway logs</span>
                </label>
            </div>
            <div class="explanation" id="exp10">
                <h4>‚úì Correct Answer: B</h4>
                <p><strong>Explanation:</strong> Lateral movement detection relies heavily on Windows Domain Controller authentication logs (Event IDs 4624, 4672, 4768, 4769). When an attacker moves from one system to another using compromised credentials, these events show unusual patterns like a single account accessing many systems in a short time, or administrative access from unexpected sources. This is why DC logs are considered "crown jewels" for threat hunting.</p>
            </div>
        </div>

        <div class="submit-section">
            <button class="btn" onclick="submitQuiz()" id="submitBtn">Submit Quiz</button>
            <button class="btn btn-secondary" onclick="resetQuiz()">Reset Quiz</button>
        </div>

        <div class="results" id="results">
            <h2 style="color: #c084fc; margin-bottom: 20px;">Quiz Results</h2>
            <div class="score-display" id="scoreDisplay">0%</div>
            <div class="score-message" id="scoreMessage"></div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Correct Answers</div>
                    <div class="stat-value" id="correctCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Incorrect Answers</div>
                    <div class="stat-value" id="incorrectCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Total Questions</div>
                    <div class="stat-value">10</div>
                </div>
            </div>

            <div id="passMessage"></div>

            <button class="btn" onclick="reviewAnswers()">Review Answers</button>
            <button class="btn btn-secondary" onclick="resetQuiz()">Retake Quiz</button>
        </div>
    </div>

    <script>
        const correctAnswers = {
            1: 'a',
            2: 'b',
            3: 'b',
            4: 'b',
            5: 'b',
            6: 'a',
            7: 'b',
            8: 'b',
            9: 'c',
            10: 'b'
        };

        const userAnswers = {};
        let quizSubmitted = false;

        function selectOption(questionNum, answer) {
            userAnswers[questionNum] = answer;
            updateProgress();

            // Visual feedback
            const questionCard = document.querySelector(`[data-question="${questionNum}"]`);
            const options = questionCard.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));

            const selectedOption = questionCard.querySelector(`input[value="${answer}"]`).parentElement;
            selectedOption.classList.add('selected');
        }

        function updateProgress() {
            const answered = Object.keys(userAnswers).length;
            const total = 10;
            const percentage = Math.round((answered / total) * 100);

            document.getElementById('progressText').textContent = `${answered}/${total}`;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = percentage + '%';
        }

        function submitQuiz() {
            if (Object.keys(userAnswers).length < 10) {
                alert('Please answer all questions before submitting.');
                return;
            }

            if (quizSubmitted) {
                alert('Quiz already submitted. Use Reset to try again.');
                return;
            }

            quizSubmitted = true;
            document.getElementById('submitBtn').disabled = true;

            let correct = 0;
            let incorrect = 0;

            // Check each answer
            for (let i = 1; i <= 10; i++) {
                const questionCard = document.querySelector(`[data-question="${i}"]`);
                const userAnswer = userAnswers[i];
                const correctAnswer = correctAnswers[i];

                if (userAnswer === correctAnswer) {
                    correct++;
                    questionCard.classList.add('correct');

                    const selectedOption = questionCard.querySelector(`input[value="${userAnswer}"]`).parentElement;
                    selectedOption.classList.add('correct');
                } else {
                    incorrect++;
                    questionCard.classList.add('incorrect');

                    const selectedOption = questionCard.querySelector(`input[value="${userAnswer}"]`).parentElement;
                    selectedOption.classList.add('incorrect');

                    const correctOption = questionCard.querySelector(`input[value="${correctAnswer}"]`).parentElement;
                    correctOption.classList.add('correct');
                }

                // Show explanation
                document.getElementById(`exp${i}`).classList.add('visible');
            }

            // Calculate score
            const percentage = Math.round((correct / 10) * 100);

            // Display results
            document.getElementById('scoreDisplay').textContent = percentage + '%';
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('incorrectCount').textContent = incorrect;

            let message = '';
            let passMsg = '';

            if (percentage >= 90) {
                message = 'üéâ Outstanding! You have excellent SIEM knowledge!';
                passMsg = '<div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; padding: 20px; border-radius: 10px; margin-top: 20px;"><h3 style="color: #86efac;">‚úì PASSED - Expert Level</h3><p>You\'ve demonstrated mastery of SIEM fundamentals.</p></div>';
            } else if (percentage >= 70) {
                message = '‚úì Great job! You passed the quiz!';
                passMsg = '<div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; padding: 20px; border-radius: 10px; margin-top: 20px;"><h3 style="color: #86efac;">‚úì PASSED</h3><p>You have a solid understanding of SIEM concepts.</p></div>';
            } else if (percentage >= 50) {
                message = 'Good effort! Review the explanations and try again.';
                passMsg = '<div style="background: rgba(251, 146, 60, 0.2); border: 2px solid #fb923c; padding: 20px; border-radius: 10px; margin-top: 20px;"><h3 style="color: #fdba74;">‚ö† NEEDS IMPROVEMENT</h3><p>Review the material and retake the quiz to pass.</p></div>';
            } else {
                message = 'Keep learning! Review the SIEM presentation and try again.';
                passMsg = '<div style="background: rgba(239, 68, 68, 0.2); border: 2px solid #ef4444; padding: 20px; border-radius: 10px; margin-top: 20px;"><h3 style="color: #fca5a5;">‚úó NOT PASSED</h3><p>Please review the SIEM fundamentals material.</p></div>';
            }

            document.getElementById('scoreMessage').textContent = message;
            document.getElementById('passMessage').innerHTML = passMsg;
            document.getElementById('results').classList.add('visible');

            // Trigger module completion if passed
            if (percentage >= 70) {
                if (typeof ModuleProgress !== 'undefined') {
                    ModuleProgress.completeQuiz('eye', 'eye-siem-fundamentals', percentage);
                }

                if (typeof AchievementManager !== 'undefined') {
                    AchievementManager.unlock('siem_certified');
                }
            }

            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function reviewAnswers() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetQuiz() {
            if (!confirm('Are you sure you want to reset the quiz? All answers will be cleared.')) {
                return;
            }

            // Reset state
            quizSubmitted = false;
            Object.keys(userAnswers).forEach(key => delete userAnswers[key]);

            // Reset UI
            document.querySelectorAll('.question-card').forEach(card => {
                card.classList.remove('correct', 'incorrect');
            });

            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });

            document.querySelectorAll('.explanation').forEach(exp => {
                exp.classList.remove('visible');
            });

            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            document.getElementById('results').classList.remove('visible');
            document.getElementById('submitBtn').disabled = false;

            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>
