<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOC Operations Quiz - Eye House - Hexworth Prime</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0a1e 0%, #1a0b2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(192, 132, 252, 0.3);
        }

        h1 {
            font-size: 2.5em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            color: #f0f0f0;
            margin-top: 10px;
        }

        .progress-bar {
            background: rgba(192, 132, 252, 0.2);
            border-radius: 10px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .question-card {
            background: rgba(30, 20, 50, 0.6);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            border: 2px solid rgba(192, 132, 252, 0.3);
            backdrop-filter: blur(10px);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #c084fc 0%, #a855f7 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.3em;
            color: #c084fc;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            margin: 20px 0;
        }

        .option {
            background: rgba(192, 132, 252, 0.1);
            border: 2px solid rgba(192, 132, 252, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            background: rgba(192, 132, 252, 0.2);
            border-color: #c084fc;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .option.selected {
            border-color: #06b6d4;
            background: rgba(6, 182, 212, 0.2);
        }

        .option.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.2);
        }

        .option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.2);
        }

        .explanation {
            display: none;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(192, 132, 252, 0.15) 100%);
            border-left: 4px solid #06b6d4;
            padding: 20px;
            margin-top: 20px;
            border-radius: 8px;
        }

        .explanation.show {
            display: block;
        }

        .explanation h4 {
            color: #06b6d4;
            margin-bottom: 10px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #c084fc 0%, #a855f7 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
        }

        .btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }

        .results-card {
            background: linear-gradient(135deg, rgba(192, 132, 252, 0.2) 0%, rgba(6, 182, 212, 0.2) 100%);
            border: 3px solid #c084fc;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            display: none;
        }

        .results-card.show {
            display: block;
        }

        .score-display {
            font-size: 5em;
            color: #06b6d4;
            font-weight: bold;
            margin: 20px 0;
        }

        .grade {
            font-size: 2em;
            margin: 20px 0;
        }

        .grade.pass {
            color: #22c55e;
        }

        .grade.fail {
            color: #fbbf24;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-box {
            background: rgba(192, 132, 252, 0.1);
            border: 2px solid rgba(192, 132, 252, 0.3);
            border-radius: 10px;
            padding: 20px;
        }

        .stat-value {
            font-size: 2.5em;
            color: #c084fc;
            font-weight: bold;
        }

        .stat-label {
            color: #06b6d4;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .quiz-instructions {
            background: rgba(6, 182, 212, 0.1);
            border: 2px solid #06b6d4;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .quiz-instructions h3 {
            color: #06b6d4;
            margin-bottom: 15px;
        }

        .quiz-instructions ul {
            margin-left: 25px;
        }

        @media (max-width: 768px) {
            .question-text {
                font-size: 1.1em;
            }

            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div style="font-size: 3em; margin-bottom: 10px;">ðŸŽ¯</div>
            <h1>SOC Operations Quiz</h1>
            <p class="subtitle">Test Your Security Operations Center Knowledge</p>
            <p class="subtitle">Eye House - Detection & Visibility</p>
        </header>

        <div class="quiz-instructions">
            <h3>Instructions</h3>
            <ul>
                <li>This quiz contains <strong>10 questions</strong> covering SOC operations concepts</li>
                <li>Select the best answer for each question</li>
                <li>Click "Submit Answer" to check your response and see the explanation</li>
                <li>You need <strong>70% or higher</strong> to pass (7/10 correct)</li>
                <li>Detailed explanations are provided for each question</li>
            </ul>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar" style="width: 0%">Question 0 / 10</div>
        </div>

        <div id="quizContainer">
            <!-- Questions will be populated by JavaScript -->
        </div>

        <div class="results-card" id="resultsCard">
            <h2 style="color: #c084fc; font-size: 2.5em; margin-bottom: 20px;">Quiz Complete!</h2>
            <div class="score-display" id="scoreDisplay">0%</div>
            <div class="grade" id="gradeDisplay"></div>

            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="correctCount">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="incorrectCount">0</div>
                    <div class="stat-label">Incorrect</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="percentageScore">0%</div>
                    <div class="stat-label">Score</div>
                </div>
            </div>

            <div style="margin-top: 30px;">
                <button class="btn btn-primary" onclick="retakeQuiz()">Retake Quiz</button>
                <button class="btn btn-success" id="completeBtn" onclick="completeQuiz()" style="display: none;">
                    Mark Module Complete
                </button>
            </div>
            <p id="completionMessage" style="margin-top: 20px; color: #22c55e; font-weight: bold;"></p>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                question: "What is the primary responsibility of a Tier 1 SOC analyst?",
                options: [
                    "Proactive threat hunting and malware reverse engineering",
                    "Initial alert triage, classification, and escalation of confirmed threats",
                    "Security architecture design and detection rule development",
                    "Incident command and coordination during major breaches"
                ],
                correct: 1,
                explanation: "Tier 1 analysts are the front line of the SOC, responsible for monitoring alerts, performing initial triage to determine if they're true positives, false positives, or benign true positives, and escalating confirmed threats to Tier 2. Advanced tasks like threat hunting and architecture are Tier 3 responsibilities."
            },
            {
                id: 2,
                question: "A user logged in from New York at 10:00 AM and Beijing at 10:15 AM. Investigation shows the New York login was via corporate VPN while the user is physically in Beijing for business. How should this be classified?",
                options: [
                    "True Positive - Credential compromise requiring immediate password reset",
                    "False Positive - The alert incorrectly flagged legitimate travel",
                    "Benign True Positive - Impossible travel was correctly detected, but activity is authorized",
                    "Escalate to Tier 3 for advanced forensics"
                ],
                correct: 2,
                explanation: "This is a Benign True Positive (BTP). The impossible travel detection is accurate and working correctly - it's impossible to physically travel that distance in 15 minutes. However, the activity is legitimate: the user is actually in Beijing and used VPN (showing New York IP) for corporate access. Document the business travel and consider VPN detection improvements."
            },
            {
                id: 3,
                question: "What is the correct order of actions when responding to a ransomware alert with active file encryption?",
                options: [
                    "Document incident â†’ Block C2 IP â†’ Isolate host â†’ Notify management",
                    "Isolate host â†’ Disable user account â†’ Block C2 â†’ Escalate to IR team",
                    "Contact user â†’ Verify alert â†’ Isolate host â†’ Create ticket",
                    "Block C2 IP â†’ Run antivirus scan â†’ Restore from backup â†’ Close ticket"
                ],
                correct: 1,
                explanation: "With active ransomware, speed is critical. The correct priority is: (1) Isolate the host immediately to stop encryption and prevent spread, (2) Disable the user account to prevent attacker access, (3) Block C2 IP/domain to prevent command and control, (4) Escalate to Incident Response team for forensics and recovery. Documentation comes after containment."
            },
            {
                id: 4,
                question: "Which metric measures the average time from when an attack begins to when the SOC detects it?",
                options: [
                    "Mean Time to Respond (MTTR)",
                    "Mean Time to Detect (MTTD)",
                    "Mean Time to Remediate (MTTR)",
                    "Mean Time Between Failures (MTBF)"
                ],
                correct: 1,
                explanation: "Mean Time to Detect (MTTD) measures detection speed - the time from attack start to SOC discovery. MTTR (Mean Time to Respond) measures response speed - from detection to containment/resolution. Lower MTTD means faster detection, which limits attacker dwell time and reduces damage."
            },
            {
                id: 5,
                question: "When should a Tier 1 analyst escalate an alert to Tier 2?",
                options: [
                    "For every alert with 'High' severity regardless of investigation results",
                    "When initial investigation confirms malicious activity beyond Tier 1 scope (e.g., confirmed malware with C2, lateral movement, data exfiltration)",
                    "Only when explicitly instructed by a manager or runbook",
                    "Never - Tier 1 should always handle alerts to completion"
                ],
                correct: 1,
                explanation: "Tier 1 escalates when they confirm a real security incident that requires deeper investigation or specialized skills. Examples include: confirmed malware with C2 communication, lateral movement, data exfiltration, advanced attacks beyond runbook coverage, or high-impact incidents affecting critical systems. Severity alone isn't enough - a 'High' severity FP doesn't require escalation."
            },
            {
                id: 6,
                question: "What is the most important information to include in a shift handoff report?",
                options: [
                    "Total number of alerts triaged and personal shift statistics",
                    "Detailed technical analysis of every closed ticket",
                    "Ongoing incidents requiring action, pending escalations, and environmental notes (maintenance, known issues)",
                    "List of all false positives closed during the shift"
                ],
                correct: 2,
                explanation: "Effective handoff focuses on ACTION REQUIRED by the next shift. This includes: (1) Ongoing incidents with status and next steps, (2) Pending escalations awaiting response, (3) Alert queue status with priority items, (4) Environmental notes like scheduled maintenance or tool issues. The incoming analyst needs to know what needs their attention, not historical statistics."
            },
            {
                id: 7,
                question: "Your SOC metrics show: Alert volume increased 50%, MTTD increased from 10 min to 25 min, MTTR increased from 45 min to 90 min, and False Positive rate increased from 75% to 92%. What is the most likely root cause?",
                options: [
                    "SOC team needs immediate additional training",
                    "The organization is experiencing an increase in real attacks",
                    "Recently deployed detection rules are poorly tuned and generating excessive false positives",
                    "SIEM system is malfunctioning and creating duplicate alerts"
                ],
                correct: 2,
                explanation: "The combination of increased alert volume (50%), very high FP rate (92%), and slower response times (MTTD/MTTR increased) strongly suggests alert fatigue from poorly tuned detection rules. When analysts are overwhelmed with false positives, they take longer to triage each alert (â†‘MTTD) and have less time for proper response (â†‘MTTR). Solution: Aggressive rule tuning, automation of obvious FPs, and review of recent rule deployments."
            },
            {
                id: 8,
                question: "What is the primary purpose of a SOC runbook?",
                options: [
                    "To document historical incidents for compliance reporting",
                    "To provide step-by-step investigation procedures for specific alert types, ensuring consistent and thorough analysis",
                    "To track analyst performance metrics and productivity",
                    "To record all security tools and their configurations"
                ],
                correct: 1,
                explanation: "Runbooks provide standardized, step-by-step investigation procedures for common alert types (e.g., 'Malware Detection Runbook', 'Brute Force Investigation Runbook'). They ensure junior analysts know what to check, where to look, and when to escalate. Runbooks improve consistency, reduce mistakes, and speed up investigations by eliminating guesswork."
            },
            {
                id: 9,
                question: "EDR detected Mimikatz (credential dumping tool) running on a patch management server. Investigation shows it's part of an authorized monthly credential strength audit by the security team. How should this be handled?",
                options: [
                    "True Positive - Escalate immediately as credential theft",
                    "False Positive - Close immediately as the tool is authorized",
                    "Benign True Positive - Verify authorization, document in ticket, add exception/whitelist",
                    "Ignore the alert as security team testing is expected"
                ],
                correct: 2,
                explanation: "This is a Benign True Positive (BTP). Mimikatz WAS correctly detected (it's a real tool), but it's being used for legitimate security testing. The detection system is working properly. Action: (1) Verify the authorization (check ticket/schedule), (2) Document the justification, (3) Consider whitelisting this specific use case to reduce future alerts, (4) Close ticket as BTP. Never ignore or dismiss without investigation."
            },
            {
                id: 10,
                question: "Which of the following is the MOST effective strategy for preventing SOC analyst burnout?",
                options: [
                    "Increase alert volume to keep analysts busy and challenged",
                    "Require analysts to work longer shifts to reduce handoff complexity",
                    "Aggressively tune detection rules to reduce false positives, implement SOAR automation, and provide clear career progression paths",
                    "Rotate analysts between different security teams every month"
                ],
                correct: 2,
                explanation: "Burnout prevention requires addressing root causes: (1) Alert fatigue - reduce FP rate through tuning and automation so analysts spend time on real threats, not noise, (2) Career growth - provide training, certifications, and clear progression (Tier 1â†’2â†’3) so analysts aren't stuck in repetitive work, (3) Meaningful work - automation frees analysts for higher-value activities like threat hunting. Increasing workload or frequent role changes exacerbates burnout."
            }
        ];

        let currentQuestion = 0;
        let answers = [];
        let score = 0;

        function init() {
            renderQuiz();
            updateProgress();
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = questions.map((q, index) => {
                return `
                    <div class="question-card" id="question-${index}" style="${index === 0 ? '' : 'display: none;'}">
                        <div class="question-header">
                            <span class="question-number">Question ${q.id} of ${questions.length}</span>
                        </div>
                        <div class="question-text">${q.question}</div>
                        <div class="options" id="options-${index}">
                            ${q.options.map((option, optIndex) => `
                                <label class="option" onclick="selectOption(${index}, ${optIndex})">
                                    <input type="radio" name="question-${index}" value="${optIndex}">
                                    <span>${option}</span>
                                </label>
                            `).join('')}
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="btn btn-primary" id="submit-${index}" onclick="submitAnswer(${index})" disabled>
                                Submit Answer
                            </button>
                            <button class="btn btn-secondary" id="next-${index}" onclick="nextQuestion(${index})" style="display: none;">
                                ${index === questions.length - 1 ? 'View Results' : 'Next Question'} â†’
                            </button>
                        </div>
                        <div class="explanation" id="explanation-${index}">
                            <h4>Explanation:</h4>
                            <p>${q.explanation}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function selectOption(questionIndex, optionIndex) {
            // Clear previous selections
            const options = document.querySelectorAll(`#options-${questionIndex} .option`);
            options.forEach(opt => opt.classList.remove('selected'));

            // Select current option
            options[optionIndex].classList.add('selected');
            options[optionIndex].querySelector('input').checked = true;

            // Enable submit button
            document.getElementById(`submit-${questionIndex}`).disabled = false;
        }

        function submitAnswer(questionIndex) {
            const selectedOption = document.querySelector(`input[name="question-${questionIndex}"]:checked`);
            if (!selectedOption) return;

            const userAnswer = parseInt(selectedOption.value);
            const correctAnswer = questions[questionIndex].correct;
            const isCorrect = userAnswer === correctAnswer;

            // Store answer
            answers[questionIndex] = {
                question: questionIndex,
                userAnswer: userAnswer,
                correct: isCorrect
            };

            if (isCorrect) score++;

            // Show feedback
            const options = document.querySelectorAll(`#options-${questionIndex} .option`);
            options.forEach((opt, idx) => {
                opt.style.pointerEvents = 'none';
                if (idx === correctAnswer) {
                    opt.classList.add('correct');
                }
                if (idx === userAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // Show explanation
            document.getElementById(`explanation-${questionIndex}`).classList.add('show');

            // Hide submit, show next
            document.getElementById(`submit-${questionIndex}`).style.display = 'none';
            document.getElementById(`next-${questionIndex}`).style.display = 'inline-block';

            updateProgress();
        }

        function nextQuestion(currentIndex) {
            if (currentIndex < questions.length - 1) {
                // Hide current question
                document.getElementById(`question-${currentIndex}`).style.display = 'none';
                // Show next question
                document.getElementById(`question-${currentIndex + 1}`).style.display = 'block';
                currentQuestion = currentIndex + 1;
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                // Show results
                showResults();
            }
        }

        function updateProgress() {
            const answered = answers.filter(a => a !== undefined).length;
            const percent = (answered / questions.length) * 100;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percent + '%';
            progressBar.textContent = `Question ${answered} / ${questions.length}`;
        }

        function showResults() {
            // Hide quiz
            document.getElementById('quizContainer').style.display = 'none';

            // Calculate results
            const totalQuestions = questions.length;
            const correctAnswers = score;
            const incorrectAnswers = totalQuestions - correctAnswers;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            const passed = percentage >= 70;

            // Display results
            document.getElementById('scoreDisplay').textContent = percentage + '%';
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            document.getElementById('percentageScore').textContent = percentage + '%';

            const gradeDisplay = document.getElementById('gradeDisplay');
            if (passed) {
                gradeDisplay.textContent = 'âœ… PASSED - Excellent work!';
                gradeDisplay.className = 'grade pass';
                document.getElementById('completeBtn').style.display = 'inline-block';
            } else {
                gradeDisplay.textContent = 'ðŸ“š Review the material and try again';
                gradeDisplay.className = 'grade fail';
            }

            document.getElementById('resultsCard').classList.add('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function retakeQuiz() {
            // Reset state
            currentQuestion = 0;
            answers = [];
            score = 0;

            // Hide results
            document.getElementById('resultsCard').classList.remove('show');

            // Show quiz
            document.getElementById('quizContainer').style.display = 'block';

            // Re-render quiz
            renderQuiz();
            updateProgress();

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function completeQuiz() {
            const btn = document.getElementById('completeBtn');
            btn.disabled = true;
            btn.textContent = 'Completing...';

            // Call ModuleProgress to mark quiz complete
            if (typeof ModuleProgress !== 'undefined') {
                ModuleProgress.completeQuiz('eye', 'eye-soc-operations', score, questions.length);
            }

            setTimeout(() => {
                btn.textContent = 'Completed! âœ“';
                btn.style.background = 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)';
                document.getElementById('completionMessage').textContent = 'ðŸŽ‰ Quiz completed and progress saved!';
            }, 500);
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', init);
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>