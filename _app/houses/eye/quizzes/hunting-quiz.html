<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Threat Hunting Quiz - Eye House</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a0b2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(192, 132, 252, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            color: #0f0f23;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            color: #1a0b2e;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 25px;
            background: rgba(192, 132, 252, 0.2);
            border: 2px solid #c084fc;
            border-radius: 8px;
            color: #c084fc;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(192, 132, 252, 0.3);
            transform: translateX(-5px);
        }

        .quiz-intro {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .quiz-intro h2 {
            color: #c084fc;
            margin-bottom: 15px;
        }

        .quiz-intro ul {
            margin-left: 25px;
            margin-top: 15px;
        }

        .quiz-intro li {
            margin-bottom: 10px;
        }

        .question-card {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .question-card.answered {
            border-color: #06b6d4;
        }

        .question-card.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .question-card.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #c084fc 0%, #a78bfa 100%);
            color: #0f0f23;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
        }

        .question-text {
            color: #e0e0e0;
            font-size: 1.2em;
            font-weight: 500;
            flex-grow: 1;
        }

        .options {
            margin: 20px 0;
        }

        .option {
            background: rgba(26, 26, 46, 0.8);
            border: 2px solid #c084fc;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            background: rgba(192, 132, 252, 0.2);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(6, 182, 212, 0.2);
            border-color: #06b6d4;
        }

        .option.correct {
            background: rgba(34, 197, 94, 0.2);
            border-color: #22c55e;
        }

        .option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
        }

        .option-letter {
            background: #c084fc;
            color: #0f0f23;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.correct .option-letter {
            background: #22c55e;
        }

        .option.incorrect .option-letter {
            background: #ef4444;
            color: white;
        }

        .option-text {
            flex-grow: 1;
        }

        .explanation {
            background: rgba(6, 182, 212, 0.1);
            border-left: 5px solid #06b6d4;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .explanation.visible {
            display: block;
        }

        .explanation strong {
            color: #06b6d4;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .submit-button {
            display: block;
            width: 100%;
            padding: 18px 40px;
            background: linear-gradient(135deg, #c084fc 0%, #a78bfa 100%);
            color: #0f0f23;
            border: none;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(192, 132, 252, 0.4);
        }

        .submit-button:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .results {
            background: rgba(30, 30, 60, 0.6);
            border: 2px solid #c084fc;
            border-radius: 15px;
            padding: 40px;
            margin-top: 30px;
            text-align: center;
            display: none;
            backdrop-filter: blur(10px);
        }

        .results.visible {
            display: block;
        }

        .results h2 {
            color: #c084fc;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 4em;
            font-weight: bold;
            margin: 30px 0;
            background: linear-gradient(135deg, #c084fc 0%, #06b6d4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-message {
            font-size: 1.3em;
            margin-bottom: 30px;
            color: #e0e0e0;
        }

        .results-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .result-stat {
            background: rgba(26, 26, 46, 0.8);
            border: 2px solid #c084fc;
            border-radius: 10px;
            padding: 20px;
        }

        .result-stat .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #c084fc;
            display: block;
        }

        .result-stat .stat-label {
            color: #06b6d4;
            font-size: 1em;
            margin-top: 5px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 35px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .progress-indicator {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .progress-text {
            color: #06b6d4;
            font-weight: bold;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .question-card {
                padding: 20px;
            }

            .score-display {
                font-size: 3em;
            }

            .results-breakdown {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">← Back to Eye House</a>

        <header>
            <h1>Threat Hunting Quiz</h1>
            <p>Test Your Proactive Security Knowledge</p>
        </header>

        <div class="quiz-intro">
            <h2>Quiz Instructions</h2>
            <p>This quiz covers key threat hunting concepts, methodologies, and techniques at the SOC Analyst / CySA+ level.</p>
            <ul>
                <li><strong>10 Questions</strong> covering hypothesis-driven hunting, stack counting, MITRE ATT&CK, beaconing detection, and operationalization</li>
                <li><strong>Passing Score:</strong> 70% (7 out of 10 correct)</li>
                <li>Select the best answer for each question</li>
                <li>Detailed explanations provided after submission</li>
                <li>You can review all questions before submitting</li>
            </ul>
        </div>

        <div class="progress-indicator">
            <div class="progress-text">Questions Answered: <span id="answered-count">0</span> / 10</div>
        </div>

        <!-- Question 1 -->
        <div class="question-card" data-question="1">
            <div class="question-header">
                <div class="question-number">1</div>
                <div class="question-text">What is the primary difference between threat hunting and traditional detection?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(1, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">Threat hunting uses better tools than detection systems</div>
                </div>
                <div class="option" onclick="selectOption(1, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">Threat hunting is proactive and hypothesis-driven, while detection is reactive and rule-based</div>
                </div>
                <div class="option" onclick="selectOption(1, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">Threat hunting only looks for known threats, detection finds unknown threats</div>
                </div>
                <div class="option" onclick="selectOption(1, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">Threat hunting replaces the need for SIEM and IDS systems</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p>Threat hunting is <strong>proactive</strong> and <strong>hypothesis-driven</strong>—hunters actively search for threats based on theories about adversary behavior. Traditional detection is <strong>reactive</strong> and <strong>rule-based</strong>—it triggers alerts when known patterns match.</p>
                <p>Hunting complements detection (doesn't replace it). Hunters often find sophisticated threats that evade automated systems, then operationalize findings into new detection rules.</p>
            </div>
        </div>

        <!-- Question 2 -->
        <div class="question-card" data-question="2">
            <div class="question-header">
                <div class="question-number">2</div>
                <div class="question-text">A hunting hypothesis should follow which structure?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(2, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">WHO-WHAT-WHEN-WHERE</div>
                </div>
                <div class="option" onclick="selectOption(2, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">IF-AND-THEN-WHERE</div>
                </div>
                <div class="option" onclick="selectOption(2, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">THREAT-VULNERABILITY-IMPACT</div>
                </div>
                <div class="option" onclick="selectOption(2, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">COLLECT-ANALYZE-REPORT</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p>The <strong>IF-AND-THEN-WHERE</strong> framework creates testable hunting hypotheses:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>IF:</strong> Adversary behavior or technique</li>
                    <li><strong>AND:</strong> Environmental condition or opportunity</li>
                    <li><strong>THEN:</strong> Observable indicator or artifact</li>
                    <li><strong>WHERE:</strong> Specific data source or location</li>
                </ul>
                <p>Example: IF an attacker has initial access AND wants persistence THEN they may create scheduled tasks WHERE we see Event ID 4698.</p>
            </div>
        </div>

        <!-- Question 3 -->
        <div class="question-card" data-question="3">
            <div class="question-header">
                <div class="question-number">3</div>
                <div class="question-text">In the context of MITRE ATT&CK, what is the relationship between tactics and techniques?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(3, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">Tactics are specific tools, techniques are general methods</div>
                </div>
                <div class="option" onclick="selectOption(3, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">Tactics are the "why" (adversary goals), techniques are the "how" (methods to achieve goals)</div>
                </div>
                <div class="option" onclick="selectOption(3, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">Tactics are defensive measures, techniques are offensive actions</div>
                </div>
                <div class="option" onclick="selectOption(3, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">They are synonyms and can be used interchangeably</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p><strong>Tactics</strong> represent the adversary's <strong>objective</strong> (the "why"): Persistence, Credential Access, Lateral Movement, etc.</p>
                <p><strong>Techniques</strong> represent the <strong>methods</strong> to achieve those objectives (the "how"): Scheduled Tasks (T1053), LSASS Memory Dumping (T1003.001), PsExec (T1021.002).</p>
                <p>For hunters: Select a tactic (e.g., Persistence), then hunt for all techniques within that tactic to achieve comprehensive coverage.</p>
            </div>
        </div>

        <!-- Question 4 -->
        <div class="question-card" data-question="4">
            <div class="question-header">
                <div class="question-number">4</div>
                <div class="question-text">What is the primary purpose of "stack counting" in threat hunting?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(4, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">To count the number of alerts in the SIEM</div>
                </div>
                <div class="option" onclick="selectOption(4, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">To identify rare or unusual occurrences by frequency analysis</div>
                </div>
                <div class="option" onclick="selectOption(4, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">To organize threat intelligence into categories</div>
                </div>
                <div class="option" onclick="selectOption(4, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">To measure the performance of security tools</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p><strong>Stack counting</strong> is a fundamental hunting technique: count occurrences of items (process names, network connections, etc.) and <strong>investigate the outliers</strong>.</p>
                <p>In large environments, legitimate processes occur frequently. Malware, attacker tools, and exploitation artifacts are <strong>statistically rare</strong>. Stack counting surfaces these needles in the haystack.</p>
                <p>Example: If 9,990 systems run "explorer.exe" but 10 systems run "exp1orer.exe" (typosquatting), those 10 are suspicious outliers worth investigating.</p>
            </div>
        </div>

        <!-- Question 5 -->
        <div class="question-card" data-question="5">
            <div class="question-header">
                <div class="question-number">5</div>
                <div class="question-text">Which characteristic is MOST indicative of C2 beaconing?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(5, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">High volume of data transfer</div>
                </div>
                <div class="option" onclick="selectOption(5, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">Connections to well-known cloud providers</div>
                </div>
                <div class="option" onclick="selectOption(5, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">Perfectly periodic connection intervals with consistent packet sizes</div>
                </div>
                <div class="option" onclick="selectOption(5, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">Use of HTTPS encryption</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: C</strong></p>
                <p>C2 beacons exhibit <strong>perfect periodicity</strong> (every 60s, 300s, 600s) and <strong>consistent packet sizes</strong>. Malware "phones home" at regular intervals to check for commands.</p>
                <p>Normal user traffic is <strong>irregular</strong> in both timing and size—humans don't browse with mathematical precision. Beaconing stands out as unnaturally regular.</p>
                <p>Detection approach: Calculate time deltas between connections, look for low standard deviation in intervals and packet sizes.</p>
            </div>
        </div>

        <!-- Question 6 -->
        <div class="question-card" data-question="6">
            <div class="question-header">
                <div class="question-number">6</div>
                <div class="question-text">When hunting for LSASS memory access (credential dumping), which processes accessing lsass.exe are MOST suspicious?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(6, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">svchost.exe, wininit.exe, csrss.exe</div>
                </div>
                <div class="option" onclick="selectOption(6, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">powershell.exe, cmd.exe, rundll32.exe</div>
                </div>
                <div class="option" onclick="selectOption(6, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">explorer.exe, taskmgr.exe</div>
                </div>
                <div class="option" onclick="selectOption(6, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">All process access to LSASS is equally suspicious</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p>Legitimate Windows system processes (svchost, wininit, csrss) routinely access LSASS with limited permissions. This is <strong>normal</strong>.</p>
                <p><strong>PowerShell, cmd.exe, rundll32.exe</strong> accessing LSASS—especially with memory-read permissions (0x1410, 0x1FFFFF)—is <strong>highly suspicious</strong>. These are "Living off the Land" (LOLBin) techniques used by Mimikatz and other credential dumpers.</p>
                <p>Hunt for: Unusual processes + high-privilege access rights to lsass.exe (Sysmon Event ID 10).</p>
            </div>
        </div>

        <!-- Question 7 -->
        <div class="question-card" data-question="7">
            <div class="question-header">
                <div class="question-number">7</div>
                <div class="question-text">What does "operationalizing" a hunt finding mean?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(7, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">Writing a detailed report for management</div>
                </div>
                <div class="option" onclick="selectOption(7, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">Converting manual hunt queries into automated detection rules</div>
                </div>
                <div class="option" onclick="selectOption(7, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">Archiving hunt results for compliance</div>
                </div>
                <div class="option" onclick="selectOption(7, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">Sharing findings on social media</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p><strong>Operationalizing</strong> means converting successful manual hunts into <strong>automated detection rules</strong> that run continuously in your SIEM/EDR.</p>
                <p>The hunting flywheel: Hunt → Find Threats → Create Detections → Free Up Hunting Time → Hunt More Advanced Threats → Improve Detections → Repeat.</p>
                <p>Each hunt strengthens defenses. Today's manual investigation becomes tomorrow's automated protection, allowing hunters to focus on novel, sophisticated attacks.</p>
            </div>
        </div>

        <!-- Question 8 -->
        <div class="question-card" data-question="8">
            <div class="question-header">
                <div class="question-number">8</div>
                <div class="question-text">In data-driven hunting, what is "long-tail analysis"?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(8, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">Analyzing data over extended time periods (months or years)</div>
                </div>
                <div class="option" onclick="selectOption(8, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">Focusing on the rare, one-off events that make up the "tail" of frequency distribution</div>
                </div>
                <div class="option" onclick="selectOption(8, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">Following the chain of events from initial access to exfiltration</div>
                </div>
                <div class="option" onclick="selectOption(8, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">Analyzing network packet trailers</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p>In any large dataset, a small number of items account for the majority of occurrences (the "head"), while thousands of unique items appear rarely (the "tail").</p>
                <p><strong>Long-tail analysis</strong> focuses on these <strong>rare events</strong>. In the top 100 processes, you'll find normal business applications. In the bottom 5% (items with count &lt; 5), you'll find attacker tools, custom malware, and exploitation artifacts.</p>
                <p>Strategy: Sort by frequency ascending, investigate items with count = 1 or very low counts.</p>
            </div>
        </div>

        <!-- Question 9 -->
        <div class="question-card" data-question="9">
            <div class="question-header">
                <div class="question-number">9</div>
                <div class="question-text">Why are Tactics, Techniques, and Procedures (TTPs) more valuable than Indicators of Compromise (IOCs) for hunting?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(9, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">TTPs are easier to collect than IOCs</div>
                </div>
                <div class="option" onclick="selectOption(9, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">TTPs describe adversary behavior which is harder to change than specific indicators</div>
                </div>
                <div class="option" onclick="selectOption(9, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">IOCs are only useful for network traffic, not endpoints</div>
                </div>
                <div class="option" onclick="selectOption(9, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">TTPs provide real-time alerts while IOCs are historical</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: B</strong></p>
                <p><strong>IOCs</strong> (file hashes, IP addresses, domains) are easily changed by attackers. A single character modification produces a different hash. IOCs have short shelf life.</p>
                <p><strong>TTPs</strong> describe <strong>how adversaries operate</strong>—their techniques and procedures. These are harder to change because they require retooling, retraining, and operational shifts.</p>
                <p>Example: If you hunt for a specific malware hash (IOC), you find only that exact sample. If you hunt for the TTP (scheduled task persistence with encoded PowerShell), you catch variants, custom tools, and future campaigns using similar techniques.</p>
            </div>
        </div>

        <!-- Question 10 -->
        <div class="question-card" data-question="10">
            <div class="question-header">
                <div class="question-number">10</div>
                <div class="question-text">A hunt finds no malicious activity. What should the hunter conclude?</div>
            </div>
            <div class="options">
                <div class="option" onclick="selectOption(10, 'A')">
                    <div class="option-letter">A</div>
                    <div class="option-text">The hunt was a failure and wasted time</div>
                </div>
                <div class="option" onclick="selectOption(10, 'B')">
                    <div class="option-letter">B</div>
                    <div class="option-text">The hypothesis was wrong and should be discarded</div>
                </div>
                <div class="option" onclick="selectOption(10, 'C')">
                    <div class="option-letter">C</div>
                    <div class="option-text">The hunt validated defenses and provided assurance; document findings and methodology</div>
                </div>
                <div class="option" onclick="selectOption(10, 'D')">
                    <div class="option-letter">D</div>
                    <div class="option-text">The data sources were insufficient and should be ignored</div>
                </div>
            </div>
            <div class="explanation">
                <strong>Explanation:</strong>
                <p><strong>Correct Answer: C</strong></p>
                <p>A hunt finding <strong>no threats is still valuable</strong>. It provides:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Validation:</strong> Confirms your defenses are working against this TTP</li>
                    <li><strong>Assurance:</strong> Demonstrates proactive security posture to stakeholders</li>
                    <li><strong>Documentation:</strong> Creates a record of what was investigated and ruled out</li>
                    <li><strong>Learning:</strong> Improves hunting methodology for future investigations</li>
                    <li><strong>Gap Identification:</strong> May reveal telemetry gaps to address</li>
                </ul>
                <p>Professional hunters document all hunts, regardless of outcome. Negative results have value.</p>
            </div>
        </div>

        <button class="submit-button" id="submit-button" onclick="submitQuiz()">Submit Quiz</button>

        <!-- Results Section -->
        <div class="results" id="results">
            <h2>Quiz Results</h2>
            <div class="score-display" id="score-display">0%</div>
            <div class="score-message" id="score-message"></div>

            <div class="results-breakdown">
                <div class="result-stat">
                    <span class="stat-value" id="correct-count">0</span>
                    <span class="stat-label">Correct</span>
                </div>
                <div class="result-stat">
                    <span class="stat-value" id="incorrect-count">0</span>
                    <span class="stat-label">Incorrect</span>
                </div>
                <div class="result-stat">
                    <span class="stat-value" id="percentage">0%</span>
                    <span class="stat-label">Score</span>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="completeCourse()">Complete Module</button>
                <button class="btn btn-secondary" onclick="retakeQuiz()">Retake Quiz</button>
            </div>
        </div>
    </div>

    <script src="../../../components/AchievementManager.js"></script>
    <script src="../../../components/ModuleProgress.js"></script>
    <script>
        // Quiz state
        const answers = {
            1: 'B', 2: 'B', 3: 'B', 4: 'B', 5: 'C',
            6: 'B', 7: 'B', 8: 'B', 9: 'B', 10: 'C'
        };

        let selectedAnswers = {};
        let quizSubmitted = false;

        // Select option
        function selectOption(questionNum, option) {
            if (quizSubmitted) return;

            // Remove previous selection
            const questionCard = document.querySelector(`[data-question="${questionNum}"]`);
            questionCard.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Add new selection
            event.currentTarget.classList.add('selected');
            selectedAnswers[questionNum] = option;

            // Update progress
            updateProgress();
        }

        function updateProgress() {
            const answeredCount = Object.keys(selectedAnswers).length;
            document.getElementById('answered-count').textContent = answeredCount;

            // Enable submit if all answered
            if (answeredCount === 10) {
                document.getElementById('submit-button').disabled = false;
            }
        }

        function submitQuiz() {
            if (Object.keys(selectedAnswers).length < 10) {
                alert('Please answer all questions before submitting.');
                return;
            }

            quizSubmitted = true;
            let correctCount = 0;

            // Grade each question
            for (let i = 1; i <= 10; i++) {
                const questionCard = document.querySelector(`[data-question="${i}"]`);
                const userAnswer = selectedAnswers[i];
                const correctAnswer = answers[i];
                const isCorrect = userAnswer === correctAnswer;

                if (isCorrect) correctCount++;

                // Mark options
                questionCard.querySelectorAll('.option').forEach(opt => {
                    const optionLetter = opt.querySelector('.option-letter').textContent;

                    if (optionLetter === correctAnswer) {
                        opt.classList.add('correct');
                    } else if (optionLetter === userAnswer && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                });

                // Mark question card
                questionCard.classList.add(isCorrect ? 'correct' : 'incorrect');

                // Show explanation
                questionCard.querySelector('.explanation').classList.add('visible');
            }

            // Calculate score
            const percentage = (correctCount / 10) * 100;
            const passed = percentage >= 70;

            // Show results
            displayResults(correctCount, percentage, passed);

            // Hide submit button
            document.getElementById('submit-button').style.display = 'none';

            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function displayResults(correctCount, percentage, passed) {
            document.getElementById('score-display').textContent = Math.round(percentage) + '%';
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = (10 - correctCount);
            document.getElementById('percentage').textContent = Math.round(percentage) + '%';

            let message = '';
            if (percentage >= 90) {
                message = 'Outstanding! You have mastered threat hunting concepts at the expert level. You understand proactive security methodology, hunting techniques, and operationalization strategies.';
            } else if (percentage >= 80) {
                message = 'Excellent work! You have a strong grasp of threat hunting principles. You understand hypothesis formation, hunting techniques, and the hunting lifecycle.';
            } else if (passed) {
                message = 'Good job! You passed with a solid understanding of threat hunting fundamentals. Review the explanations to strengthen your knowledge.';
            } else {
                message = 'You scored below the passing threshold of 70%. Review the material and explanations, then retake the quiz to demonstrate your threat hunting knowledge.';
            }

            document.getElementById('score-message').textContent = message;
            document.getElementById('results').classList.add('visible');
        }

        function completeCourse() {
            const percentage = Math.round((Object.values(selectedAnswers).filter((ans, i) => ans === answers[i + 1]).length / 10) * 100);

            ModuleProgress.completeQuiz('eye', 'eye-hunting-quiz', percentage, {
                silent: false,
                returnToDashboard: true,
                passingScore: 70
            });
        }

        function retakeQuiz() {
            selectedAnswers = {};
            quizSubmitted = false;

            // Reset all questions
            document.querySelectorAll('.question-card').forEach(card => {
                card.classList.remove('answered', 'correct', 'incorrect');
                card.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                });
                card.querySelector('.explanation').classList.remove('visible');
            });

            // Hide results
            document.getElementById('results').classList.remove('visible');

            // Show submit button
            document.getElementById('submit-button').style.display = 'block';
            document.getElementById('submit-button').disabled = true;

            // Reset progress
            updateProgress();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        document.getElementById('submit-button').disabled = true;
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
