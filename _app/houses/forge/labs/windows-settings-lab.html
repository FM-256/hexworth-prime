<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Settings Lab - House of the Forge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0c0c0c;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #c4b5d4;
        }

        /* Header */
        .lab-header {
            padding: 15px 30px;
            background: rgba(10, 10, 15, 0.95);
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .back-btn {
            padding: 8px 16px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 6px;
            color: #a78bfa;
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(139, 92, 246, 0.2);
        }

        .lab-title {
            font-size: 1rem;
            color: #e8d5f5;
        }

        .lab-badge {
            padding: 4px 12px;
            background: rgba(52, 211, 153, 0.15);
            border: 1px solid rgba(52, 211, 153, 0.3);
            border-radius: 12px;
            font-size: 0.7rem;
            color: #34d399;
            letter-spacing: 0.05em;
        }

        .task-progress {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 0.85rem;
            color: #8b7a9e;
        }

        .task-count {
            color: #a78bfa;
            font-weight: 500;
        }

        /* Main Layout */
        .lab-container {
            display: grid;
            grid-template-columns: 350px 1fr;
            height: calc(100vh - 60px);
        }

        /* Task Panel */
        .task-panel {
            background: rgba(15, 12, 20, 0.95);
            border-right: 1px solid rgba(139, 92, 246, 0.15);
            overflow-y: auto;
            padding: 20px;
        }

        .task-section {
            margin-bottom: 25px;
        }

        .task-section-title {
            font-size: 0.7rem;
            color: #6b5b7e;
            letter-spacing: 0.15em;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .task-card {
            background: rgba(25, 20, 35, 0.8);
            border: 1px solid rgba(139, 92, 246, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .task-card:hover {
            border-color: rgba(139, 92, 246, 0.4);
        }

        .task-card.active {
            border-color: #a78bfa;
            background: rgba(139, 92, 246, 0.1);
        }

        .task-card.completed {
            border-color: rgba(52, 211, 153, 0.3);
        }

        .task-card.completed::before {
            content: '‚úì';
            float: right;
            color: #34d399;
            font-weight: bold;
        }

        .task-number {
            font-size: 0.7rem;
            color: #a78bfa;
            margin-bottom: 5px;
        }

        .task-name {
            font-size: 0.95rem;
            color: #e8d5f5;
            margin-bottom: 5px;
        }

        .task-desc {
            font-size: 0.8rem;
            color: #8b7a9e;
            line-height: 1.5;
        }

        /* VM Panel */
        .vm-panel {
            display: flex;
            flex-direction: column;
            background: #0a0a0a;
        }

        .vm-toolbar {
            padding: 10px 20px;
            background: rgba(20, 15, 30, 0.9);
            border-bottom: 1px solid rgba(139, 92, 246, 0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .vm-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .vm-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            color: #34d399;
        }

        .vm-status-dot {
            width: 8px;
            height: 8px;
            background: #34d399;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .vm-name {
            font-size: 0.85rem;
            color: #c4b5d4;
        }

        .vm-actions {
            display: flex;
            gap: 10px;
        }

        .vm-btn {
            padding: 6px 14px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 5px;
            color: #a78bfa;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .vm-btn:hover {
            background: rgba(139, 92, 246, 0.2);
        }

        /* VM Screen */
        .vm-screen {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        /* Windows Desktop Simulation */
        .windows-desktop {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e3a8a 0%, #0f172a 100%);
            position: relative;
        }

        /* Windows Taskbar */
        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 50;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .start-btn {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s ease;
            border-radius: 4px;
        }

        .start-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .start-btn svg {
            width: 24px;
            height: 24px;
            fill: #60a5fa;
        }

        .taskbar-apps {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-left: 10px;
        }

        .taskbar-app {
            width: 44px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1.2rem;
            transition: background 0.2s ease;
        }

        .taskbar-app:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .taskbar-app.active {
            background: rgba(255, 255, 255, 0.15);
            border-bottom: 3px solid #60a5fa;
        }

        .system-tray {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 0 15px;
            height: 100%;
            color: white;
            font-size: 0.75rem;
        }

        .system-tray-icon {
            font-size: 0.9rem;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .system-tray-icon:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .system-tray-time {
            text-align: right;
            line-height: 1.3;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .system-tray-time:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Start Menu */
        .start-menu {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 650px;
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(40px);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            display: none;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .start-menu.active {
            display: flex;
        }

        .start-menu-search {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .start-menu-search input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: white;
            font-size: 0.9rem;
            outline: none;
        }

        .start-menu-search input:focus {
            border-color: #60a5fa;
        }

        .start-menu-pinned {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .start-menu-title {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-bottom: 15px;
            letter-spacing: 0.05em;
        }

        .start-menu-apps {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
        }

        .start-app {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px;
            cursor: pointer;
            border-radius: 8px;
            transition: background 0.2s ease;
        }

        .start-app:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .start-app-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .start-app-name {
            font-size: 0.75rem;
            color: #e2e8f0;
            text-align: center;
        }

        /* Windows Window */
        .win-window {
            position: absolute;
            background: #1e293b;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .win-window.active {
            display: block;
        }

        .win-titlebar {
            height: 40px;
            background: rgba(15, 23, 42, 0.95);
            display: flex;
            align-items: center;
            padding: 0 15px;
            cursor: move;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .win-icon {
            width: 16px;
            height: 16px;
            margin-right: 10px;
        }

        .win-title {
            flex: 1;
            font-size: 0.85rem;
            color: white;
            font-weight: 500;
        }

        .win-controls {
            display: flex;
            gap: 0;
        }

        .win-control {
            width: 46px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .win-control:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .win-control.close:hover {
            background: #ef4444;
        }

        .win-content {
            background: #0f172a;
            color: white;
            padding: 20px;
            overflow-y: auto;
        }

        /* Settings Window */
        .settings-window {
            width: 900px;
            height: 600px;
            top: 50px;
            left: calc(50% - 450px);
        }

        .settings-container {
            display: flex;
            height: 100%;
        }

        .settings-sidebar {
            width: 280px;
            background: rgba(15, 23, 42, 0.8);
            padding: 20px 0;
            overflow-y: auto;
        }

        .settings-main {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .settings-category {
            padding: 12px 20px;
            margin: 2px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #cbd5e1;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .settings-category:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .settings-category.active {
            background: rgba(96, 165, 250, 0.2);
            color: white;
            border-left: 3px solid #60a5fa;
        }

        .settings-icon {
            font-size: 1.2rem;
        }

        .settings-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 30px;
            color: white;
        }

        .settings-section {
            margin-bottom: 30px;
        }

        .settings-section-title {
            font-size: 1.1rem;
            font-weight: 500;
            color: #60a5fa;
            margin-bottom: 20px;
        }

        .settings-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .settings-row:last-child {
            border-bottom: none;
        }

        .settings-label {
            font-size: 0.95rem;
            color: #e2e8f0;
        }

        .settings-desc {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 4px;
        }

        .settings-value {
            font-size: 0.85rem;
            color: #60a5fa;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
            background: #475569;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch.on {
            background: #60a5fa;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: transform 0.3s ease;
        }

        .toggle-switch.on::after {
            transform: translateX(24px);
        }

        /* Dropdown */
        .settings-dropdown {
            padding: 8px 12px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #e2e8f0;
            font-size: 0.85rem;
            cursor: pointer;
            outline: none;
            min-width: 150px;
        }

        .settings-dropdown:hover {
            border-color: #60a5fa;
        }

        /* Button */
        .settings-btn {
            padding: 8px 20px;
            background: #60a5fa;
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .settings-btn:hover {
            background: #3b82f6;
        }

        .settings-btn.secondary {
            background: rgba(96, 165, 250, 0.2);
            border: 1px solid rgba(96, 165, 250, 0.5);
        }

        .settings-btn.secondary:hover {
            background: rgba(96, 165, 250, 0.3);
        }

        /* Time Picker */
        .time-picker {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .time-input {
            padding: 8px 12px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #e2e8f0;
            font-size: 0.85rem;
            width: 80px;
            outline: none;
        }

        .time-input:focus {
            border-color: #60a5fa;
        }

        /* Modal */
        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: #1e293b;
            border-radius: 12px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 1.3rem;
            color: white;
            margin-bottom: 20px;
        }

        .modal-content {
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .modal-input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: white;
            font-size: 0.9rem;
            margin-bottom: 15px;
            outline: none;
        }

        .modal-input:focus {
            border-color: #60a5fa;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* Device List */
        .device-list {
            margin-top: 15px;
        }

        .device-item {
            padding: 12px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .device-icon {
            font-size: 1.5rem;
        }

        .device-info {
            flex: 1;
        }

        .device-name {
            color: #e2e8f0;
            font-size: 0.9rem;
        }

        .device-status {
            color: #34d399;
            font-size: 0.75rem;
            margin-top: 4px;
        }

        /* Instructions Panel */
        .instructions-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 320px;
            background: rgba(30, 25, 40, 0.95);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 20px;
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .instructions-title {
            font-size: 1rem;
            color: #a78bfa;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions-step {
            font-size: 0.9rem;
            color: #c4b5d4;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .instructions-step code {
            background: rgba(139, 92, 246, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: #a78bfa;
        }

        .instructions-hint {
            font-size: 0.8rem;
            color: #6b5b7e;
            font-style: italic;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(139, 92, 246, 0.15);
        }

        .verify-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .verify-btn:hover {
            box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3);
        }

        .verify-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Success Overlay */
        .success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .success-overlay.active {
            display: flex;
        }

        .success-card {
            background: rgba(30, 25, 40, 0.95);
            border: 1px solid rgba(52, 211, 153, 0.3);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            max-width: 400px;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 1.5rem;
            color: #34d399;
            margin-bottom: 10px;
        }

        .success-message {
            color: #c4b5d4;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .success-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #34d399, #10b981);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .success-btn:hover {
            box-shadow: 0 5px 20px rgba(52, 211, 153, 0.3);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .lab-container {
                grid-template-columns: 1fr;
            }

            .task-panel {
                display: none;
            }

            .instructions-panel {
                position: fixed;
                bottom: 60px;
                top: auto;
                right: 10px;
                left: 10px;
                width: auto;
            }

            .settings-window {
                width: 95%;
                height: 90%;
                left: 2.5%;
                top: 20px;
            }

            .start-menu {
                width: 95%;
            }
        }
    </style>
</head>
<body>
    <header class="lab-header">
        <div class="header-left">
            <a href="../../dashboard.html" class="back-btn">‚Üê Exit Lab</a>
            <span class="lab-title">Windows Settings Configuration - Hands-On Lab</span>
            <span class="lab-badge">INTERACTIVE</span>
        </div>
        <div class="task-progress">
            <span>Tasks:</span>
            <span class="task-count" id="taskProgress">0/8 Complete</span>
        </div>
    </header>

    <div class="lab-container">
        <aside class="task-panel">
            <div class="task-section">
                <div class="task-section-title">Lab Tasks</div>

                <div class="task-card active" data-task="1" onclick="selectTask(1)">
                    <div class="task-number">TASK 1</div>
                    <div class="task-name">Enable Night Light</div>
                    <div class="task-desc">Configure Night Light and set a schedule for automatic activation</div>
                </div>

                <div class="task-card" data-task="2" onclick="selectTask(2)">
                    <div class="task-number">TASK 2</div>
                    <div class="task-name">Configure Focus Mode</div>
                    <div class="task-desc">Set up Do Not Disturb / Focus mode to minimize distractions</div>
                </div>

                <div class="task-card" data-task="3" onclick="selectTask(3)">
                    <div class="task-number">TASK 3</div>
                    <div class="task-name">Adjust Display Scaling</div>
                    <div class="task-desc">Change display scaling to 125% for better readability</div>
                </div>

                <div class="task-card" data-task="4" onclick="selectTask(4)">
                    <div class="task-number">TASK 4</div>
                    <div class="task-name">Add Bluetooth Device</div>
                    <div class="task-desc">Pair a simulated Bluetooth device with your computer</div>
                </div>

                <div class="task-card" data-task="5" onclick="selectTask(5)">
                    <div class="task-number">TASK 5</div>
                    <div class="task-name">Set Active Hours</div>
                    <div class="task-desc">Configure Windows Update active hours to prevent interruptions</div>
                </div>

                <div class="task-card" data-task="6" onclick="selectTask(6)">
                    <div class="task-number">TASK 6</div>
                    <div class="task-name">Set Default Browser</div>
                    <div class="task-desc">Choose your preferred default web browser</div>
                </div>

                <div class="task-card" data-task="7" onclick="selectTask(7)">
                    <div class="task-number">TASK 7</div>
                    <div class="task-name">Enable PIN Sign-in</div>
                    <div class="task-desc">Set up a PIN for faster and more secure sign-in</div>
                </div>

                <div class="task-card" data-task="8" onclick="selectTask(8)">
                    <div class="task-number">TASK 8</div>
                    <div class="task-name">Configure Privacy Settings</div>
                    <div class="task-desc">Manage camera access permissions for an application</div>
                </div>
            </div>
        </aside>

        <main class="vm-panel">
            <div class="vm-toolbar">
                <div class="vm-info">
                    <div class="vm-status">
                        <span class="vm-status-dot"></span>
                        <span>Running</span>
                    </div>
                    <span class="vm-name">WORKSTATION-PC - Windows 11 Pro</span>
                </div>
                <div class="vm-actions">
                    <button class="vm-btn" onclick="resetVM()">üîÑ Reset VM</button>
                    <button class="vm-btn" onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
                </div>
            </div>

            <div class="vm-screen">
                <div class="windows-desktop" id="desktop">
                    <!-- Taskbar -->
                    <div class="taskbar">
                        <div class="start-btn" onclick="toggleStartMenu()">
                            <svg viewBox="0 0 24 24">
                                <path d="M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"/>
                            </svg>
                        </div>
                        <div class="taskbar-apps">
                            <div class="taskbar-app" onclick="openWindow('settings')" title="Settings">‚öôÔ∏è</div>
                        </div>
                        <div class="system-tray">
                            <span class="system-tray-icon" title="Network">üì∂</span>
                            <span class="system-tray-icon" title="Volume">üîä</span>
                            <div class="system-tray-time" onclick="toggleNotifications()">
                                <div id="taskbarTime">10:30 AM</div>
                                <div id="taskbarDate">12/18/2025</div>
                            </div>
                        </div>
                    </div>

                    <!-- Start Menu -->
                    <div class="start-menu" id="startMenu">
                        <div class="start-menu-search">
                            <input type="text" placeholder="Search for apps, settings, and documents" onclick="event.stopPropagation()">
                        </div>
                        <div class="start-menu-pinned">
                            <div class="start-menu-title">Pinned</div>
                            <div class="start-menu-apps">
                                <div class="start-app" onclick="openWindow('settings')">
                                    <div class="start-app-icon">‚öôÔ∏è</div>
                                    <div class="start-app-name">Settings</div>
                                </div>
                                <div class="start-app">
                                    <div class="start-app-icon">üåê</div>
                                    <div class="start-app-name">Edge</div>
                                </div>
                                <div class="start-app">
                                    <div class="start-app-icon">üìÅ</div>
                                    <div class="start-app-name">File Explorer</div>
                                </div>
                                <div class="start-app">
                                    <div class="start-app-icon">üìß</div>
                                    <div class="start-app-name">Mail</div>
                                </div>
                                <div class="start-app">
                                    <div class="start-app-icon">üìÖ</div>
                                    <div class="start-app-name">Calendar</div>
                                </div>
                                <div class="start-app">
                                    <div class="start-app-icon">üéµ</div>
                                    <div class="start-app-name">Music</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Window -->
                    <div class="win-window settings-window" id="settingsWindow">
                        <div class="win-titlebar">
                            <span class="win-icon">‚öôÔ∏è</span>
                            <span class="win-title">Settings</span>
                            <div class="win-controls">
                                <span class="win-control">‚îÄ</span>
                                <span class="win-control">‚ñ°</span>
                                <span class="win-control close" onclick="closeWindow('settings')">√ó</span>
                            </div>
                        </div>
                        <div class="win-content" style="padding: 0;">
                            <div class="settings-container">
                                <div class="settings-sidebar">
                                    <div class="settings-category active" onclick="showSettingsPage('system')">
                                        <span class="settings-icon">üíª</span>
                                        <span>System</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('bluetooth')">
                                        <span class="settings-icon">üì∂</span>
                                        <span>Bluetooth & devices</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('focus')">
                                        <span class="settings-icon">üîî</span>
                                        <span>Focus</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('apps')">
                                        <span class="settings-icon">üì±</span>
                                        <span>Apps</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('accounts')">
                                        <span class="settings-icon">üë§</span>
                                        <span>Accounts</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('privacy')">
                                        <span class="settings-icon">üîí</span>
                                        <span>Privacy & security</span>
                                    </div>
                                    <div class="settings-category" onclick="showSettingsPage('update')">
                                        <span class="settings-icon">üîÑ</span>
                                        <span>Windows Update</span>
                                    </div>
                                </div>
                                <div class="settings-main" id="settingsContent">
                                    <!-- Dynamic content -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal Overlay -->
                    <div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
                        <div class="modal" onclick="event.stopPropagation()">
                            <div class="modal-title" id="modalTitle"></div>
                            <div class="modal-content" id="modalContent"></div>
                            <div class="modal-actions" id="modalActions"></div>
                        </div>
                    </div>

                    <!-- Instructions Panel -->
                    <div class="instructions-panel" id="instructionsPanel">
                        <div class="instructions-title">
                            üìã Task Instructions
                        </div>
                        <div class="instructions-step" id="instructionsStep">
                            Click the <strong>Start</strong> button (Windows icon), then click <strong>Settings</strong>. Navigate to <strong>System ‚Üí Display</strong> and enable <strong>Night Light</strong>. Set a schedule for automatic activation.
                        </div>
                        <div class="instructions-hint" id="instructionsHint">
                            üí° Hint: Night Light reduces blue light to help you sleep better
                        </div>
                        <button class="verify-btn" id="verifyBtn" onclick="verifyTask()">
                            Verify Task Completion
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Success Overlay -->
    <div class="success-overlay" id="successOverlay">
        <div class="success-card">
            <div class="success-icon">üéâ</div>
            <div class="success-title">Lab Complete!</div>
            <div class="success-message">
                You've successfully configured essential Windows 11 settings. These skills are fundamental for personalizing and securing any Windows environment.
            </div>
            <button class="success-btn" onclick="finishLab()">Complete Lab</button>
        </div>
    </div>

    <script>
        // State
        let currentTask = 1;
        let completedTasks = new Set();
        let taskVerification = {
            1: false, // Night Light enabled
            2: false, // Focus mode configured
            3: false, // Display scaling changed
            4: false, // Bluetooth device added
            5: false, // Active hours set
            6: false, // Default browser set
            7: false, // PIN enabled
            8: false  // Privacy setting configured
        };

        // Settings state
        let settingsState = {
            nightLightEnabled: false,
            nightLightSchedule: false,
            focusModeEnabled: false,
            displayScaling: '100%',
            bluetoothDevices: [],
            activeHoursStart: '08:00',
            activeHoursEnd: '17:00',
            defaultBrowser: 'Microsoft Edge',
            pinEnabled: false,
            cameraAccessApps: {
                'Camera': true,
                'Teams': false,
                'Zoom': false
            }
        };

        // Task instructions
        const taskInstructions = {
            1: {
                step: 'Click the <strong>Start</strong> button, then <strong>Settings</strong>. Navigate to <strong>System ‚Üí Display</strong> and enable <strong>Night Light</strong>. Set a schedule for automatic activation.',
                hint: 'üí° Hint: Night Light reduces blue light to help you sleep better'
            },
            2: {
                step: 'In Settings, navigate to <strong>Focus</strong> and enable <strong>Do Not Disturb</strong> mode. Configure it to automatically activate during specific hours.',
                hint: 'üí° Hint: Focus mode helps minimize distractions during work'
            },
            3: {
                step: 'Go to <strong>System ‚Üí Display</strong> and change <strong>Scale</strong> to <strong>125%</strong> for better readability on high-resolution displays.',
                hint: 'üí° Hint: Higher scaling makes text and apps larger'
            },
            4: {
                step: 'Navigate to <strong>Bluetooth & devices</strong> and click <strong>Add device</strong>. Select a Bluetooth device from the list to pair it.',
                hint: 'üí° Hint: Make sure Bluetooth is enabled before adding devices'
            },
            5: {
                step: 'Go to <strong>Windows Update</strong> and click <strong>Change active hours</strong>. Set hours when you typically use your PC to prevent automatic restarts.',
                hint: 'üí° Hint: Active hours prevent updates during your work time'
            },
            6: {
                step: 'Navigate to <strong>Apps ‚Üí Default apps</strong> and set your preferred <strong>Web browser</strong> as the default.',
                hint: 'üí° Hint: Choose Chrome, Firefox, or Edge as your default'
            },
            7: {
                step: 'Go to <strong>Accounts ‚Üí Sign-in options</strong> and click <strong>PIN (Windows Hello)</strong>. Set up a new PIN for faster sign-in.',
                hint: 'üí° Hint: PINs are more secure than passwords on modern devices'
            },
            8: {
                step: 'Navigate to <strong>Privacy & security ‚Üí Camera</strong>. Enable camera access for <strong>Zoom</strong> by toggling its permission.',
                hint: 'üí° Hint: Control which apps can access your camera'
            }
        };

        // Settings pages content generator
        function generateSettingsPages() {
            return {
                system: `
                    <h2 class="settings-title">Display</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Brightness and color</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Night light</div>
                                <div class="settings-desc">Reduce blue light at night</div>
                            </div>
                            <div class="toggle-switch ${settingsState.nightLightEnabled ? 'on' : ''}" onclick="toggleNightLight()"></div>
                        </div>
                        ${settingsState.nightLightEnabled ? `
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Schedule night light</div>
                                <div class="settings-desc">From sunset to sunrise</div>
                            </div>
                            <div class="toggle-switch ${settingsState.nightLightSchedule ? 'on' : ''}" onclick="toggleNightLightSchedule()"></div>
                        </div>
                        ` : ''}
                    </div>
                    <div class="settings-section">
                        <div class="settings-section-title">Scale and layout</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Scale</div>
                                <div class="settings-desc">Change the size of text, apps, and other items</div>
                            </div>
                            <select class="settings-dropdown" onchange="changeScaling(this.value)">
                                <option value="100%" ${settingsState.displayScaling === '100%' ? 'selected' : ''}>100% (Recommended)</option>
                                <option value="125%" ${settingsState.displayScaling === '125%' ? 'selected' : ''}>125%</option>
                                <option value="150%" ${settingsState.displayScaling === '150%' ? 'selected' : ''}>150%</option>
                            </select>
                        </div>
                    </div>
                `,
                bluetooth: `
                    <h2 class="settings-title">Bluetooth & devices</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Devices</div>
                        <button class="settings-btn" onclick="addBluetoothDevice()">+ Add device</button>
                        <div class="device-list">
                            ${settingsState.bluetoothDevices.map(device => `
                                <div class="device-item">
                                    <div class="device-icon">${device.icon}</div>
                                    <div class="device-info">
                                        <div class="device-name">${device.name}</div>
                                        <div class="device-status">Connected</div>
                                    </div>
                                </div>
                            `).join('')}
                            ${settingsState.bluetoothDevices.length === 0 ? '<p style="color: #94a3b8; font-size: 0.85rem; margin-top: 15px;">No devices paired yet</p>' : ''}
                        </div>
                    </div>
                `,
                focus: `
                    <h2 class="settings-title">Focus</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Do not disturb</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Do not disturb</div>
                                <div class="settings-desc">Hide notifications and sounds</div>
                            </div>
                            <div class="toggle-switch ${settingsState.focusModeEnabled ? 'on' : ''}" onclick="toggleFocusMode()"></div>
                        </div>
                        ${settingsState.focusModeEnabled ? `
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Automatic rules</div>
                                <div class="settings-desc">Turn on during these times: 9:00 AM - 5:00 PM</div>
                            </div>
                            <span class="settings-value">Configured</span>
                        </div>
                        ` : ''}
                    </div>
                `,
                apps: `
                    <h2 class="settings-title">Default apps</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Set defaults for applications</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Web browser</div>
                                <div class="settings-desc">Choose which browser opens web links</div>
                            </div>
                            <select class="settings-dropdown" onchange="changeDefaultBrowser(this.value)">
                                <option value="Microsoft Edge" ${settingsState.defaultBrowser === 'Microsoft Edge' ? 'selected' : ''}>Microsoft Edge</option>
                                <option value="Google Chrome" ${settingsState.defaultBrowser === 'Google Chrome' ? 'selected' : ''}>Google Chrome</option>
                                <option value="Mozilla Firefox" ${settingsState.defaultBrowser === 'Mozilla Firefox' ? 'selected' : ''}>Mozilla Firefox</option>
                            </select>
                        </div>
                    </div>
                `,
                accounts: `
                    <h2 class="settings-title">Sign-in options</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Ways to sign in</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">PIN (Windows Hello)</div>
                                <div class="settings-desc">${settingsState.pinEnabled ? 'PIN is set up' : 'Add a PIN for faster, more secure sign-in'}</div>
                            </div>
                            <button class="settings-btn ${settingsState.pinEnabled ? 'secondary' : ''}" onclick="setupPIN()">
                                ${settingsState.pinEnabled ? 'Change PIN' : 'Set up'}
                            </button>
                        </div>
                    </div>
                `,
                privacy: `
                    <h2 class="settings-title">Privacy & security</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">App permissions</div>
                        <div class="settings-row" style="cursor: pointer;" onclick="manageCameraAccess()">
                            <div>
                                <div class="settings-label">Camera</div>
                                <div class="settings-desc">Control which apps can access your camera</div>
                            </div>
                            <span style="color: #94a3b8;">‚Ä∫</span>
                        </div>
                    </div>
                `,
                update: `
                    <h2 class="settings-title">Windows Update</h2>
                    <div class="settings-section">
                        <div class="settings-section-title">Update status</div>
                        <div class="settings-row">
                            <span class="settings-label">Status</span>
                            <span class="settings-value">You're up to date</span>
                        </div>
                    </div>
                    <div class="settings-section">
                        <div class="settings-section-title">Active hours</div>
                        <div class="settings-row">
                            <div>
                                <div class="settings-label">Active hours</div>
                                <div class="settings-desc">We won't restart during active hours: ${settingsState.activeHoursStart} - ${settingsState.activeHoursEnd}</div>
                            </div>
                            <button class="settings-btn secondary" onclick="changeActiveHours()">Change</button>
                        </div>
                    </div>
                `
            };
        }

        function openWindow(windowId) {
            document.querySelectorAll('.win-window').forEach(w => w.classList.remove('active'));
            const win = document.getElementById(windowId + 'Window');
            if (win) {
                win.classList.add('active');
                closeStartMenu();
                if (windowId === 'settings') {
                    showSettingsPage('system');
                }
            }
        }

        function closeWindow(windowId) {
            document.getElementById(windowId + 'Window').classList.remove('active');
        }

        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            startMenu.classList.toggle('active');
        }

        function closeStartMenu() {
            document.getElementById('startMenu').classList.remove('active');
        }

        function showSettingsPage(page) {
            document.querySelectorAll('.settings-category').forEach(c => c.classList.remove('active'));
            event.target.closest('.settings-category').classList.add('active');

            const pages = generateSettingsPages();
            document.getElementById('settingsContent').innerHTML = pages[page];
        }

        function toggleNightLight() {
            settingsState.nightLightEnabled = !settingsState.nightLightEnabled;
            showSettingsPage('system');
        }

        function toggleNightLightSchedule() {
            settingsState.nightLightSchedule = !settingsState.nightLightSchedule;
            if (settingsState.nightLightEnabled && settingsState.nightLightSchedule) {
                taskVerification[1] = true;
            }
            showSettingsPage('system');
        }

        function changeScaling(value) {
            settingsState.displayScaling = value;
            if (value === '125%') {
                taskVerification[3] = true;
            }
            showSettingsPage('system');
        }

        function toggleFocusMode() {
            settingsState.focusModeEnabled = !settingsState.focusModeEnabled;
            if (settingsState.focusModeEnabled) {
                taskVerification[2] = true;
            }
            showSettingsPage('focus');
        }

        function addBluetoothDevice() {
            showModal(
                'Add a device',
                `
                <p style="margin-bottom: 15px;">Select a device type:</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button class="settings-btn" onclick="pairDevice('üéß', 'Sony WH-1000XM4')">Bluetooth headphones</button>
                    <button class="settings-btn" onclick="pairDevice('üñ±Ô∏è', 'Logitech MX Master 3')">Bluetooth mouse</button>
                    <button class="settings-btn" onclick="pairDevice('‚å®Ô∏è', 'Keychron K2')">Bluetooth keyboard</button>
                </div>
                `,
                `<button class="settings-btn secondary" onclick="closeModal()">Cancel</button>`
            );
        }

        function pairDevice(icon, name) {
            settingsState.bluetoothDevices.push({ icon, name });
            taskVerification[4] = true;
            closeModal();
            showSettingsPage('bluetooth');
        }

        function changeActiveHours() {
            showModal(
                'Change active hours',
                `
                <p style="margin-bottom: 15px;">Set the hours when you typically use this device</p>
                <div class="time-picker" style="margin-bottom: 15px;">
                    <label style="color: #cbd5e1;">Start time:</label>
                    <input type="time" class="time-input" id="activeHoursStart" value="${settingsState.activeHoursStart}">
                </div>
                <div class="time-picker">
                    <label style="color: #cbd5e1;">End time:</label>
                    <input type="time" class="time-input" id="activeHoursEnd" value="${settingsState.activeHoursEnd}">
                </div>
                `,
                `
                <button class="settings-btn secondary" onclick="closeModal()">Cancel</button>
                <button class="settings-btn" onclick="saveActiveHours()">Save</button>
                `
            );
        }

        function saveActiveHours() {
            const start = document.getElementById('activeHoursStart').value;
            const end = document.getElementById('activeHoursEnd').value;
            if (start && end && start !== settingsState.activeHoursStart || end !== settingsState.activeHoursEnd) {
                settingsState.activeHoursStart = start;
                settingsState.activeHoursEnd = end;
                taskVerification[5] = true;
                closeModal();
                showSettingsPage('update');
            }
        }

        function changeDefaultBrowser(browser) {
            settingsState.defaultBrowser = browser;
            if (browser !== 'Microsoft Edge') {
                taskVerification[6] = true;
            }
            showSettingsPage('apps');
        }

        function setupPIN() {
            showModal(
                'Set up a PIN',
                `
                <p style="margin-bottom: 15px;">PINs are more secure than passwords on this device</p>
                <input type="password" class="modal-input" id="pinInput" placeholder="Enter new PIN (4-6 digits)" maxlength="6">
                <input type="password" class="modal-input" placeholder="Confirm PIN" maxlength="6">
                `,
                `
                <button class="settings-btn secondary" onclick="closeModal()">Cancel</button>
                <button class="settings-btn" onclick="savePIN()">OK</button>
                `
            );
        }

        function savePIN() {
            const pin = document.getElementById('pinInput').value;
            if (pin && pin.length >= 4) {
                settingsState.pinEnabled = true;
                taskVerification[7] = true;
                closeModal();
                showSettingsPage('accounts');
            }
        }

        function manageCameraAccess() {
            const appsHtml = Object.entries(settingsState.cameraAccessApps).map(([app, enabled]) => `
                <div class="settings-row">
                    <span class="settings-label">${app}</span>
                    <div class="toggle-switch ${enabled ? 'on' : ''}" onclick="toggleCameraAccess('${app}')"></div>
                </div>
            `).join('');

            showModal(
                'Camera access',
                `
                <p style="margin-bottom: 20px;">Choose which apps can access your camera</p>
                <div style="max-height: 300px; overflow-y: auto;">
                    ${appsHtml}
                </div>
                `,
                `<button class="settings-btn" onclick="closeModal()">Done</button>`
            );
        }

        function toggleCameraAccess(app) {
            const currentState = settingsState.cameraAccessApps[app];
            settingsState.cameraAccessApps[app] = !currentState;

            // Check if Zoom was enabled
            if (app === 'Zoom' && settingsState.cameraAccessApps[app]) {
                taskVerification[8] = true;
            }

            manageCameraAccess(); // Refresh the modal
        }

        function showModal(title, content, actions) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('modalActions').innerHTML = actions;
            document.getElementById('modalOverlay').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
        }

        function selectTask(taskNum) {
            currentTask = taskNum;

            // Update task cards
            document.querySelectorAll('.task-card').forEach(card => {
                card.classList.remove('active');
                if (parseInt(card.dataset.task) === taskNum) {
                    card.classList.add('active');
                }
            });

            // Update instructions
            const task = taskInstructions[taskNum];
            document.getElementById('instructionsStep').innerHTML = task.step;
            document.getElementById('instructionsHint').innerHTML = task.hint;
        }

        function verifyTask() {
            if (taskVerification[currentTask]) {
                completeTask(currentTask);
            } else {
                alert('Task not yet completed. Follow the instructions and try the required configuration.');
            }
        }

        function completeTask(taskNum) {
            completedTasks.add(taskNum);

            // Mark task as complete
            const taskCard = document.querySelector(`[data-task="${taskNum}"]`);
            taskCard.classList.add('completed');

            // Update progress
            document.getElementById('taskProgress').textContent = `${completedTasks.size}/8 Complete`;

            // Check if all tasks complete
            if (completedTasks.size === 8) {
                setTimeout(() => {
                    document.getElementById('successOverlay').classList.add('active');
                }, 500);
            } else {
                // Move to next task
                const nextTask = taskNum + 1;
                if (nextTask <= 8) {
                    selectTask(nextTask);
                }
            }
        }

        function finishLab() {
            // Save progress
            const progress = JSON.parse(localStorage.getItem('hexworth_progress') || '{}');
            progress.forge = progress.forge || {};
            progress.forge.windowsSettingsLab = {
                completed: true,
                tasksCompleted: completedTasks.size,
                date: new Date().toISOString()
            };
            localStorage.setItem('hexworth_progress', JSON.stringify(progress));

            window.location.href = '../../dashboard.html';
        }

        function resetVM() {
            location.reload();
        }

        function toggleFullscreen() {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                document.querySelector('.vm-screen').requestFullscreen();
            }
        }

        function toggleNotifications() {
            // Placeholder for notification center
        }

        // Update taskbar time
        function updateTime() {
            const now = new Date();
            document.getElementById('taskbarTime').textContent = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
            document.getElementById('taskbarDate').textContent = now.toLocaleDateString('en-US');
        }
        setInterval(updateTime, 1000);
        updateTime();

        // Close start menu when clicking outside
        document.addEventListener('click', (e) => {
            const startMenu = document.getElementById('startMenu');
            const startBtn = document.querySelector('.start-btn');
            if (!startMenu.contains(e.target) && !startBtn.contains(e.target)) {
                closeStartMenu();
            }
        });

        // Initialize
        showSettingsPage('system');
    </script>
</body>
</html>
