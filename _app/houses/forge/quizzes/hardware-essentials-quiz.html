<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Essentials Quiz | Forge House</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1510 50%, #0d0d15 100%);
            color: #e0e0e0;
            min-height: 100vh;
            line-height: 1.6;
        }

        .quiz-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            border-radius: 16px;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .quiz-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .quiz-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            color: #9ca3af;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .progress-section {
            background: rgba(30, 30, 40, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(251, 191, 36, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.75rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .question-card {
            background: rgba(30, 30, 40, 0.6);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(251, 191, 36, 0.2);
        }

        .question-card.correct {
            border-color: rgba(34, 197, 94, 0.5);
            background: rgba(34, 197, 94, 0.05);
        }

        .question-card.incorrect {
            border-color: rgba(239, 68, 68, 0.5);
            background: rgba(239, 68, 68, 0.05);
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .question-number {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #000;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .question-text {
            font-size: 1.1rem;
            color: #fff;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(251, 191, 36, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option:hover:not(.disabled) {
            border-color: rgba(251, 191, 36, 0.5);
            background: rgba(251, 191, 36, 0.1);
        }

        .option.selected {
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.15);
        }

        .option.correct-answer {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.15);
        }

        .option.wrong-answer {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.15);
        }

        .option.disabled {
            cursor: default;
            opacity: 0.8;
        }

        .option-marker {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid rgba(251, 191, 36, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .option.selected .option-marker {
            background: #fbbf24;
            border-color: #fbbf24;
            color: #000;
        }

        .option.correct-answer .option-marker {
            background: #22c55e;
            border-color: #22c55e;
            color: white;
        }

        .option.wrong-answer .option-marker {
            background: #ef4444;
            border-color: #ef4444;
            color: white;
        }

        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation.correct {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
        }

        .explanation.incorrect {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
        }

        .explanation-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .explanation.correct .explanation-title { color: #22c55e; }
        .explanation.incorrect .explanation-title { color: #ef4444; }

        .results-section {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            margin-top: 2rem;
            border: 1px solid rgba(251, 191, 36, 0.3);
            display: none;
        }

        .results-section.show {
            display: block;
        }

        .results-score {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .results-label {
            font-size: 1.2rem;
            color: #9ca3af;
            margin-bottom: 1rem;
        }

        .results-message {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .results-message.passed { color: #22c55e; }
        .results-message.failed { color: #ef4444; }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            border: none;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #000;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4);
        }

        .btn-secondary {
            background: rgba(107, 114, 128, 0.2);
            color: #9ca3af;
            border: 1px solid rgba(107, 114, 128, 0.3);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(251, 191, 36, 0.2);
        }

        .submit-section {
            text-align: center;
            margin-top: 2rem;
        }

        .topic-tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .quiz-container { padding: 1rem; }
            .quiz-title { font-size: 1.5rem; }
            .question-card { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <header class="quiz-header">
            <div class="quiz-icon">üî©</div>
            <h1 class="quiz-title">Hardware Essentials Quiz</h1>
            <p>Test your A+ Core 1 hardware knowledge</p>
            <div class="quiz-meta">
                <span>üìù 15 Questions</span>
                <span>‚è±Ô∏è No Time Limit</span>
                <span>üéØ 70% to Pass</span>
            </div>
        </header>

        <div class="progress-section">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="progress-text">
                <span id="answeredCount">0 of 15 answered</span>
                <span id="correctCount">0 correct</span>
            </div>
        </div>

        <div id="questionsContainer"></div>

        <div class="submit-section" id="submitSection">
            <button class="btn btn-primary" id="submitBtn" disabled>Submit Quiz</button>
        </div>

        <div class="results-section" id="resultsSection">
            <div class="results-score" id="finalScore">0%</div>
            <div class="results-label">Final Score</div>
            <div class="results-message" id="resultsMessage"></div>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-primary" onclick="retakeQuiz()">üîÑ Retake Quiz</button>
                <a href="../labs/hardware-essentials-lab.html" class="btn btn-secondary">üìö Review Lab</a>
            </div>
        </div>

        <nav class="nav-buttons">
            <a href="../labs/hardware-essentials-lab.html" class="btn btn-secondary">‚Üê Back to Lab</a>
            <a href="../index.html" class="btn btn-secondary">Forge House ‚Üí</a>
        </nav>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                topic: "CPU",
                question: "What does TDP stand for in CPU specifications?",
                options: [
                    "Total Data Processing",
                    "Thermal Design Power",
                    "Transistor Density Parameter",
                    "Turbo Dynamic Performance"
                ],
                correct: 1,
                explanation: "TDP (Thermal Design Power) indicates the maximum amount of heat a CPU generates under typical workloads. It helps determine cooling requirements and power supply needs."
            },
            {
                id: 2,
                topic: "CPU",
                question: "Which Intel CPU socket is used for 12th-14th generation Core processors?",
                options: [
                    "LGA 1151",
                    "LGA 1200",
                    "LGA 1700",
                    "AM5"
                ],
                correct: 2,
                explanation: "LGA 1700 is Intel's socket for Alder Lake (12th gen), Raptor Lake (13th gen), and Raptor Lake Refresh (14th gen) processors. AM5 is AMD's current socket."
            },
            {
                id: 3,
                topic: "Motherboard",
                question: "What is the largest common consumer motherboard form factor?",
                options: [
                    "Mini-ITX",
                    "Micro-ATX",
                    "ATX",
                    "E-ATX"
                ],
                correct: 3,
                explanation: "E-ATX (Extended ATX) at 12\" x 13\" is larger than standard ATX (12\" x 9.6\"). It's used for high-end workstations and enthusiast builds requiring many expansion slots."
            },
            {
                id: 4,
                topic: "Motherboard",
                question: "How many expansion slots does a typical Mini-ITX motherboard have?",
                options: [
                    "1 slot",
                    "4 slots",
                    "7 slots",
                    "None"
                ],
                correct: 0,
                explanation: "Mini-ITX motherboards are compact (6.7\" x 6.7\") and typically have only one PCIe slot, usually x16 for a graphics card. This makes them ideal for small form factor builds."
            },
            {
                id: 5,
                topic: "RAM",
                question: "What is the standard voltage for DDR4 RAM?",
                options: [
                    "1.5V",
                    "1.35V",
                    "1.2V",
                    "1.1V"
                ],
                correct: 2,
                explanation: "DDR4 operates at 1.2V standard, which is lower than DDR3's 1.5V. DDR5 operates at even lower 1.1V. Lower voltage means less heat and power consumption."
            },
            {
                id: 6,
                topic: "RAM",
                question: "For dual-channel RAM with 2 sticks on a 4-slot motherboard, which slots should you use?",
                options: [
                    "Slots 1 and 2 (adjacent)",
                    "Slots 1 and 3 (alternating)",
                    "Slots 3 and 4 (adjacent)",
                    "Any two slots work the same"
                ],
                correct: 1,
                explanation: "For dual-channel operation, RAM sticks should be installed in alternating slots (typically A1 and A2, which are slots 1 and 3). Check your motherboard manual for specific layout."
            },
            {
                id: 7,
                topic: "Storage",
                question: "What is the maximum theoretical speed of a PCIe 4.0 NVMe SSD?",
                options: [
                    "550 MB/s",
                    "3,500 MB/s",
                    "7,000 MB/s",
                    "12,000 MB/s"
                ],
                correct: 2,
                explanation: "PCIe 4.0 x4 provides approximately 7,000 MB/s (8 GB/s theoretical). PCIe 3.0 x4 maxes at ~3,500 MB/s, and SATA III is limited to 550 MB/s."
            },
            {
                id: 8,
                topic: "Storage",
                question: "What does M.2 2280 mean?",
                options: [
                    "A storage capacity of 2280 GB",
                    "22mm wide by 80mm long",
                    "2280 MB/s speed rating",
                    "A RAID configuration type"
                ],
                correct: 1,
                explanation: "M.2 form factor uses a WxL naming convention. 2280 means 22mm wide by 80mm long. Other common sizes include 2242 (42mm) and 2260 (60mm)."
            },
            {
                id: 9,
                topic: "Storage",
                question: "Which RAID level provides striping without redundancy?",
                options: [
                    "RAID 0",
                    "RAID 1",
                    "RAID 5",
                    "RAID 10"
                ],
                correct: 0,
                explanation: "RAID 0 stripes data across drives for maximum performance but offers no redundancy‚Äîif one drive fails, all data is lost. RAID 1 mirrors, RAID 5 uses parity, RAID 10 combines mirroring and striping."
            },
            {
                id: 10,
                topic: "PSU",
                question: "What efficiency rating does an 80 PLUS Gold PSU guarantee at 50% load?",
                options: [
                    "80%",
                    "85%",
                    "90%",
                    "92%"
                ],
                correct: 2,
                explanation: "80 PLUS Gold guarantees 90% efficiency at 50% load. Bronze is 85%, Platinum is 92%, and Titanium is 94%. Higher efficiency means less wasted power as heat."
            },
            {
                id: 11,
                topic: "PSU",
                question: "A system with a 125W CPU and 200W GPU needs approximately what PSU wattage?",
                options: [
                    "325W",
                    "450W",
                    "650W",
                    "1000W"
                ],
                correct: 2,
                explanation: "With 325W for CPU+GPU, add ~100W for other components, and apply 50% headroom rule: (325+100) √ó 1.5 ‚âà 650W. PSUs are most efficient at 40-60% load."
            },
            {
                id: 12,
                topic: "Expansion",
                question: "What is the bandwidth of a PCIe 4.0 x16 slot?",
                options: [
                    "8 GB/s",
                    "16 GB/s",
                    "32 GB/s",
                    "64 GB/s"
                ],
                correct: 2,
                explanation: "PCIe 4.0 provides 2 GB/s per lane. x16 slot = 16 lanes √ó 2 GB/s = 32 GB/s bidirectional. PCIe 5.0 doubles this to 64 GB/s for x16."
            },
            {
                id: 13,
                topic: "Expansion",
                question: "Can a PCIe x16 graphics card work in a PCIe x4 slot?",
                options: [
                    "No, it won't physically fit",
                    "Yes, but at reduced bandwidth",
                    "Only with an adapter",
                    "Only if the slot has external power"
                ],
                correct: 1,
                explanation: "Physically longer cards can work in shorter slots (if the slot is open-ended), but will operate at the slot's bandwidth. A GPU in an x4 slot will run at x4 speeds, potentially impacting performance."
            },
            {
                id: 14,
                topic: "CPU",
                question: "What does hyperthreading/SMT allow a CPU to do?",
                options: [
                    "Run at higher clock speeds",
                    "Process two threads per physical core",
                    "Use less power under load",
                    "Access more RAM"
                ],
                correct: 1,
                explanation: "Hyperthreading (Intel) or SMT (AMD) allows each physical core to handle two threads simultaneously, improving multitasking. An 8-core CPU with HT/SMT has 16 threads."
            },
            {
                id: 15,
                topic: "Motherboard",
                question: "What is the purpose of the chipset on a motherboard?",
                options: [
                    "To provide power to the CPU",
                    "To manage communication between CPU, RAM, and peripherals",
                    "To cool the system",
                    "To store the BIOS firmware"
                ],
                correct: 1,
                explanation: "The chipset acts as a traffic controller, managing data flow between the CPU, RAM, storage, USB ports, and expansion slots. Modern chipsets often include integrated features like USB controllers and SATA ports."
            }
        ];

        const STORAGE_KEY = 'hexworth_hardware_quiz_answers';
        const SCORE_KEY = 'hexworth_hardware_quiz_score';
        let userAnswers = {};
        let submitted = false;

        function loadState() {
            const saved = localStorage.getItem(STORAGE_KEY);
            const score = localStorage.getItem(SCORE_KEY);
            if (saved) userAnswers = JSON.parse(saved);
            if (score !== null) submitted = true;
        }

        function saveState() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(userAnswers));
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = questions.map(q => `
                <div class="question-card" id="question-${q.id}">
                    <div class="question-header">
                        <div class="question-number">${q.id}</div>
                        <div class="question-text">${q.question}</div>
                        <span class="topic-tag">${q.topic}</span>
                    </div>
                    <div class="options-list">
                        ${q.options.map((opt, idx) => `
                            <div class="option ${submitted ? 'disabled' : ''}"
                                 data-question="${q.id}"
                                 data-option="${idx}"
                                 onclick="selectOption(${q.id}, ${idx})">
                                <div class="option-marker">${String.fromCharCode(65 + idx)}</div>
                                <div class="option-text">${opt}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation-${q.id}">
                        <div class="explanation-title"></div>
                        <p>${q.explanation}</p>
                    </div>
                </div>
            `).join('');

            Object.entries(userAnswers).forEach(([qId, oIdx]) => {
                highlightOption(parseInt(qId), oIdx);
            });

            if (submitted) showResults();
            updateProgress();
        }

        function selectOption(questionId, optionIndex) {
            if (submitted) return;
            userAnswers[questionId] = optionIndex;
            saveState();

            document.querySelectorAll(`[data-question="${questionId}"].option`).forEach(opt => {
                opt.classList.remove('selected');
            });
            highlightOption(questionId, optionIndex);
            updateProgress();
        }

        function highlightOption(questionId, optionIndex) {
            const option = document.querySelector(`[data-question="${questionId}"][data-option="${optionIndex}"]`);
            if (option) option.classList.add('selected');
        }

        function updateProgress() {
            const answered = Object.keys(userAnswers).length;
            const correct = Object.entries(userAnswers).filter(([qId, answer]) => {
                const q = questions.find(q => q.id === parseInt(qId));
                return q && q.correct === answer;
            }).length;

            document.getElementById('progressFill').style.width = `${(answered / questions.length) * 100}%`;
            document.getElementById('answeredCount').textContent = `${answered} of ${questions.length} answered`;
            document.getElementById('correctCount').textContent = submitted ? `${correct} correct` : '';
            document.getElementById('submitBtn').disabled = answered < questions.length;
        }

        document.getElementById('submitBtn').addEventListener('click', () => {
            if (Object.keys(userAnswers).length < questions.length) return;
            submitted = true;
            showResults();
        });

        function showResults() {
            let correct = 0;
            questions.forEach(q => {
                const card = document.getElementById(`question-${q.id}`);
                const userAnswer = userAnswers[q.id];
                const isCorrect = userAnswer === q.correct;
                if (isCorrect) correct++;

                card.classList.add(isCorrect ? 'correct' : 'incorrect');
                card.querySelectorAll('.option').forEach((opt, idx) => {
                    opt.classList.add('disabled');
                    if (idx === q.correct) opt.classList.add('correct-answer');
                    else if (idx === userAnswer && !isCorrect) opt.classList.add('wrong-answer');
                });

                const explanation = document.getElementById(`explanation-${q.id}`);
                explanation.classList.add('show', isCorrect ? 'correct' : 'incorrect');
                explanation.querySelector('.explanation-title').textContent = isCorrect ? '‚úì Correct!' : '‚úó Incorrect';
            });

            const score = Math.round((correct / questions.length) * 100);
            localStorage.setItem(SCORE_KEY, score);

            document.getElementById('finalScore').textContent = `${score}%`;
            document.getElementById('resultsMessage').textContent = score >= 70
                ? 'üéâ Congratulations! You passed!'
                : 'üìö Keep practicing! Review the lab and try again.';
            document.getElementById('resultsMessage').className = `results-message ${score >= 70 ? 'passed' : 'failed'}`;
            document.getElementById('submitSection').style.display = 'none';
            document.getElementById('resultsSection').classList.add('show');
            updateProgress();
        }

        function retakeQuiz() {
            localStorage.removeItem(STORAGE_KEY);
            localStorage.removeItem(SCORE_KEY);
            userAnswers = {};
            submitted = false;
            document.getElementById('submitSection').style.display = 'block';
            document.getElementById('resultsSection').classList.remove('show');
            renderQuestions();
        }

        loadState();
        renderQuestions();
    </script>
</body>
</html>
