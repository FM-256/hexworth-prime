<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../../../../components/AccessGuard.js"></script>
    <script>AccessGuard.require('sorted');</script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Trust Architecture Visualizer - Shield House</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --shield-primary: #f87171; --shield-light: #fca5a5; --shield-dark: #dc2626;
            --dark-bg: #0f172a; --darker-bg: #020617; --card-bg: #1e293b;
            --light-text: #f1f5f9; --gray-text: #94a3b8;
            --accent-green: #10b981; --accent-orange: #f97316; --accent-purple: #a855f7; --accent-blue: #3b82f6; --accent-yellow: #eab308;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%); color: var(--light-text); line-height: 1.7; min-height: 100vh; }
        .header { background: linear-gradient(135deg, var(--shield-dark) 0%, var(--shield-primary) 100%); padding: 1.25rem 2rem; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 20px rgba(248, 113, 113, 0.3); }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
        .back-button { background: rgba(255, 255, 255, 0.15); border: 2px solid rgba(255, 255, 255, 0.25); color: white; padding: 0.5rem 1.25rem; border-radius: 8px; font-size: 0.95rem; font-weight: 600; transition: all 0.3s ease; text-decoration: none; }
        .back-button:hover { background: rgba(255, 255, 255, 0.25); transform: translateX(-4px); }
        .badge { background: white; color: var(--shield-dark); padding: 0.5rem 1rem; border-radius: 20px; font-weight: 700; font-size: 0.8rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }

        .intro-section { text-align: center; padding: 2.5rem 2rem; background: var(--card-bg); border-radius: 20px; margin-bottom: 2rem; border: 1px solid rgba(248, 113, 113, 0.2); }
        .intro-icon { font-size: 3.5rem; margin-bottom: 1rem; }
        .intro-title { font-size: 2rem; color: var(--shield-primary); margin-bottom: 0.5rem; font-weight: 700; }
        .intro-subtitle { color: var(--gray-text); max-width: 700px; margin: 0 auto; }

        .tabs { display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: wrap; justify-content: center; }
        .tab { padding: 0.75rem 1.5rem; background: var(--card-bg); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 10px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; color: var(--gray-text); }
        .tab:hover { border-color: var(--shield-primary); color: var(--light-text); }
        .tab.active { background: var(--shield-primary); color: white; border-color: var(--shield-primary); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Principles Section */
        .principles-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem; }
        .principle-card { background: var(--card-bg); border-radius: 16px; padding: 2rem; text-align: center; border: 2px solid rgba(255, 255, 255, 0.05); transition: all 0.3s ease; cursor: pointer; }
        .principle-card:hover { transform: translateY(-5px); border-color: var(--shield-primary); }
        .principle-card.active { border-color: var(--accent-green); box-shadow: 0 0 30px rgba(16, 185, 129, 0.3); }
        .principle-icon { font-size: 3rem; margin-bottom: 1rem; }
        .principle-title { font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem; }
        .principle-card:nth-child(1) .principle-title { color: var(--accent-blue); }
        .principle-card:nth-child(2) .principle-title { color: var(--accent-orange); }
        .principle-card:nth-child(3) .principle-title { color: var(--accent-purple); }
        .principle-desc { color: var(--gray-text); font-size: 0.9rem; }

        .principle-detail { background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; border-left: 4px solid var(--accent-green); display: none; }
        .principle-detail.show { display: block; animation: fadeIn 0.3s ease; }
        .principle-detail h3 { color: var(--accent-green); margin-bottom: 1rem; font-size: 1.3rem; }
        .principle-detail ul { list-style: none; }
        .principle-detail li { padding: 0.5rem 0; color: var(--light-text); display: flex; gap: 0.75rem; }
        .principle-detail li::before { content: ">"; color: var(--accent-green); font-weight: bold; }

        /* Architecture Visualization */
        .architecture-section { background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; }
        .arch-title { font-size: 1.4rem; color: var(--shield-primary); margin-bottom: 1.5rem; text-align: center; }
        .arch-diagram { display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 1.5rem; align-items: center; }
        .arch-zone { padding: 1.5rem; border-radius: 12px; text-align: center; }
        .arch-zone.untrusted { background: rgba(239, 68, 68, 0.15); border: 2px solid var(--shield-primary); }
        .arch-zone.policy { background: rgba(168, 85, 247, 0.15); border: 2px solid var(--accent-purple); }
        .arch-zone.resources { background: rgba(16, 185, 129, 0.15); border: 2px solid var(--accent-green); }
        .zone-title { font-weight: 700; font-size: 1rem; margin-bottom: 0.75rem; }
        .arch-zone.untrusted .zone-title { color: var(--shield-primary); }
        .arch-zone.policy .zone-title { color: var(--accent-purple); }
        .arch-zone.resources .zone-title { color: var(--accent-green); }
        .zone-items { font-size: 0.85rem; color: var(--gray-text); }
        .zone-items div { padding: 0.25rem 0; }

        .policy-engine { background: rgba(168, 85, 247, 0.2); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem; }
        .policy-engine h4 { color: var(--accent-purple); margin-bottom: 1rem; text-align: center; }
        .policy-flow { display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: 1rem; }
        .policy-step { text-align: center; padding: 1rem; background: rgba(0, 0, 0, 0.2); border-radius: 10px; flex: 1; min-width: 120px; }
        .policy-step-num { width: 30px; height: 30px; background: var(--accent-purple); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; font-weight: bold; font-size: 0.85rem; }
        .policy-step-title { font-size: 0.8rem; color: var(--light-text); font-weight: 600; }

        /* Microsegmentation */
        .micro-section { background: var(--card-bg); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; }
        .micro-title { font-size: 1.4rem; color: var(--accent-blue); margin-bottom: 1.5rem; text-align: center; }
        .network-comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .network-type { padding: 1.5rem; border-radius: 12px; }
        .network-type.traditional { background: rgba(239, 68, 68, 0.1); border: 2px solid rgba(239, 68, 68, 0.3); }
        .network-type.microseg { background: rgba(16, 185, 129, 0.1); border: 2px solid rgba(16, 185, 129, 0.3); }
        .network-type h4 { margin-bottom: 1rem; text-align: center; }
        .network-type.traditional h4 { color: var(--shield-primary); }
        .network-type.microseg h4 { color: var(--accent-green); }
        .network-visual { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; margin-bottom: 1rem; }
        .network-node { padding: 0.75rem; text-align: center; border-radius: 8px; font-size: 0.75rem; }
        .network-type.traditional .network-node { background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.4); color: var(--shield-light); }
        .network-type.microseg .network-node { background: rgba(16, 185, 129, 0.2); border: 2px solid rgba(16, 185, 129, 0.5); color: var(--accent-green); }
        .network-type.microseg .network-node.isolated { border-color: var(--accent-purple); background: rgba(168, 85, 247, 0.2); }
        .network-desc { font-size: 0.85rem; color: var(--gray-text); text-align: center; }
        .network-type.traditional .network-desc { color: var(--shield-light); }
        .network-type.microseg .network-desc { color: var(--accent-green); }

        /* Deperimeterization */
        .deperm-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 1rem; margin-bottom: 2rem; }
        .deperm-card { background: var(--card-bg); border-radius: 12px; padding: 1.25rem; text-align: center; border: 2px solid rgba(255, 255, 255, 0.05); transition: all 0.3s ease; }
        .deperm-card:hover { border-color: var(--accent-orange); transform: translateY(-3px); }
        .deperm-icon { font-size: 2rem; margin-bottom: 0.5rem; }
        .deperm-name { font-size: 0.85rem; font-weight: 600; color: var(--accent-orange); }

        /* NIST Reference */
        .nist-section { background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(168, 85, 247, 0.1)); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; border: 1px solid rgba(59, 130, 246, 0.2); }
        .nist-title { font-size: 1.4rem; color: var(--accent-blue); margin-bottom: 1rem; text-align: center; }
        .nist-subtitle { color: var(--gray-text); text-align: center; margin-bottom: 1.5rem; font-size: 0.95rem; }
        .nist-tenets { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
        .tenet-card { background: rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 1.25rem; }
        .tenet-num { font-size: 0.75rem; color: var(--accent-blue); font-weight: 700; margin-bottom: 0.5rem; }
        .tenet-text { font-size: 0.9rem; color: var(--light-text); }

        /* Quiz */
        .quiz-section { background: var(--card-bg); border-radius: 16px; padding: 2rem; }
        .quiz-title { font-size: 1.4rem; color: var(--accent-green); margin-bottom: 1.5rem; text-align: center; }
        .quiz-question { background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 1.5rem; margin-bottom: 1rem; }
        .quiz-question h4 { color: var(--light-text); margin-bottom: 1rem; font-size: 1rem; }
        .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .quiz-option { padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.03); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem; }
        .quiz-option:hover { border-color: var(--accent-blue); }
        .quiz-option.selected { border-color: var(--accent-blue); background: rgba(59, 130, 246, 0.15); }
        .quiz-option.correct { border-color: var(--accent-green); background: rgba(16, 185, 129, 0.15); }
        .quiz-option.incorrect { border-color: var(--shield-primary); background: rgba(248, 113, 113, 0.15); }
        .quiz-btn { padding: 1rem 2rem; background: var(--accent-green); color: white; border: none; border-radius: 10px; font-weight: 700; cursor: pointer; margin-top: 1rem; transition: all 0.3s ease; }
        .quiz-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(16, 185, 129, 0.4); }
        .quiz-result { text-align: center; padding: 1.5rem; background: rgba(16, 185, 129, 0.1); border-radius: 12px; margin-top: 1rem; display: none; }
        .quiz-result.show { display: block; }
        .quiz-score { font-size: 2rem; font-weight: 700; color: var(--accent-green); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .principles-grid, .network-comparison, .arch-diagram { grid-template-columns: 1fr; }
            .deperm-grid { grid-template-columns: repeat(2, 1fr); }
            .policy-flow { flex-direction: column; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../../index.html" class="back-button">< Shield House</a>
            <span class="badge">CASP+ Domain 1</span>
        </div>
    </header>

    <div class="container">
        <section class="intro-section">
            <div class="intro-icon">üîí</div>
            <h1 class="intro-title">Zero Trust Architecture</h1>
            <p class="intro-subtitle">Never trust, always verify. Explore the principles of Zero Trust security architecture based on NIST SP 800-207.</p>
        </section>

        <div class="tabs">
            <div class="tab active" onclick="showTab('principles')">Core Principles</div>
            <div class="tab" onclick="showTab('architecture')">Architecture</div>
            <div class="tab" onclick="showTab('microseg')">Microsegmentation</div>
            <div class="tab" onclick="showTab('nist')">NIST SP 800-207</div>
            <div class="tab" onclick="showTab('quiz')">Knowledge Check</div>
        </div>

        <!-- Core Principles -->
        <div id="principles" class="tab-content active">
            <div class="principles-grid">
                <div class="principle-card" onclick="showPrinciple(0)">
                    <div class="principle-icon">üö´</div>
                    <h3 class="principle-title">Never Trust</h3>
                    <p class="principle-desc">All network traffic is untrusted by default, regardless of source or location</p>
                </div>
                <div class="principle-card" onclick="showPrinciple(1)">
                    <div class="principle-icon">‚úÖ</div>
                    <h3 class="principle-title">Always Verify</h3>
                    <p class="principle-desc">Every request must be authenticated, authorized, and encrypted</p>
                </div>
                <div class="principle-card" onclick="showPrinciple(2)">
                    <div class="principle-icon">üí•</div>
                    <h3 class="principle-title">Assume Breach</h3>
                    <p class="principle-desc">Design systems assuming attackers are already inside the network</p>
                </div>
            </div>

            <div id="principleDetail" class="principle-detail">
                <!-- Populated by JS -->
            </div>

            <div class="deperm-grid">
                <div class="deperm-card">
                    <div class="deperm-icon">‚òÅÔ∏è</div>
                    <div class="deperm-name">Cloud</div>
                </div>
                <div class="deperm-card">
                    <div class="deperm-icon">üè†</div>
                    <div class="deperm-name">Remote Work</div>
                </div>
                <div class="deperm-card">
                    <div class="deperm-icon">üì±</div>
                    <div class="deperm-name">Mobile</div>
                </div>
                <div class="deperm-card">
                    <div class="deperm-icon">ü§ù</div>
                    <div class="deperm-name">Contractors</div>
                </div>
                <div class="deperm-card">
                    <div class="deperm-icon">üì∂</div>
                    <div class="deperm-name">Wi-Fi</div>
                </div>
            </div>

            <div class="architecture-section">
                <h3 class="arch-title">Why Zero Trust? Deperimeterization</h3>
                <p style="text-align: center; color: var(--gray-text); margin-bottom: 1rem;">The traditional network perimeter has dissolved. Users, devices, and data now exist everywhere.</p>
            </div>
        </div>

        <!-- Architecture -->
        <div id="architecture" class="tab-content">
            <div class="architecture-section">
                <h3 class="arch-title">Zero Trust Architecture Components</h3>
                <div class="arch-diagram">
                    <div class="arch-zone untrusted">
                        <h4 class="zone-title">Untrusted Zone</h4>
                        <div class="zone-items">
                            <div>üë§ Users</div>
                            <div>üíª Devices</div>
                            <div>üì± Mobile Apps</div>
                            <div>üåê External Networks</div>
                        </div>
                    </div>
                    <div class="arch-zone policy">
                        <h4 class="zone-title">Policy Enforcement Point</h4>
                        <div class="zone-items">
                            <div>üîê Identity Verification</div>
                            <div>üìã Policy Decision</div>
                            <div>üîí Encryption</div>
                            <div>üìä Continuous Monitoring</div>
                        </div>
                    </div>
                    <div class="arch-zone resources">
                        <h4 class="zone-title">Protected Resources</h4>
                        <div class="zone-items">
                            <div>üóÑÔ∏è Databases</div>
                            <div>üìÅ File Servers</div>
                            <div>‚öôÔ∏è Applications</div>
                            <div>üîß Services</div>
                        </div>
                    </div>
                </div>

                <div class="policy-engine">
                    <h4>Policy Decision Process</h4>
                    <div class="policy-flow">
                        <div class="policy-step">
                            <div class="policy-step-num">1</div>
                            <div class="policy-step-title">Identify User</div>
                        </div>
                        <div class="policy-step">
                            <div class="policy-step-num">2</div>
                            <div class="policy-step-title">Verify Device</div>
                        </div>
                        <div class="policy-step">
                            <div class="policy-step-num">3</div>
                            <div class="policy-step-title">Check Context</div>
                        </div>
                        <div class="policy-step">
                            <div class="policy-step-num">4</div>
                            <div class="policy-step-title">Evaluate Risk</div>
                        </div>
                        <div class="policy-step">
                            <div class="policy-step-num">5</div>
                            <div class="policy-step-title">Grant/Deny</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Microsegmentation -->
        <div id="microseg" class="tab-content">
            <div class="micro-section">
                <h3 class="micro-title">Traditional vs Microsegmented Networks</h3>
                <div class="network-comparison">
                    <div class="network-type traditional">
                        <h4>‚ùå Traditional Flat Network</h4>
                        <div class="network-visual">
                            <div class="network-node">Web Server</div>
                            <div class="network-node">DB Server</div>
                            <div class="network-node">App Server</div>
                            <div class="network-node">Workstation</div>
                            <div class="network-node">IoT Device</div>
                            <div class="network-node">File Server</div>
                        </div>
                        <p class="network-desc">All systems can communicate freely. One breach = full lateral movement.</p>
                    </div>
                    <div class="network-type microseg">
                        <h4>‚úÖ Microsegmented Network</h4>
                        <div class="network-visual">
                            <div class="network-node isolated">Web Server</div>
                            <div class="network-node">DB Server</div>
                            <div class="network-node isolated">App Server</div>
                            <div class="network-node">Workstation</div>
                            <div class="network-node isolated">IoT Device</div>
                            <div class="network-node">File Server</div>
                        </div>
                        <p class="network-desc">Each workload isolated. Breach contained to single segment.</p>
                    </div>
                </div>
            </div>

            <div class="architecture-section">
                <h3 class="arch-title">Key Microsegmentation Concepts</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div style="padding: 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üîÄ</div>
                        <div style="font-weight: 600; color: var(--accent-blue);">SDN</div>
                        <div style="font-size: 0.8rem; color: var(--gray-text);">Software-Defined Networking</div>
                    </div>
                    <div style="padding: 1rem; background: rgba(168, 85, 247, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üè∑Ô∏è</div>
                        <div style="font-weight: 600; color: var(--accent-purple);">Tags</div>
                        <div style="font-size: 0.8rem; color: var(--gray-text);">Workload Classification</div>
                    </div>
                    <div style="padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üìã</div>
                        <div style="font-weight: 600; color: var(--accent-green);">Policies</div>
                        <div style="font-size: 0.8rem; color: var(--gray-text);">Granular Access Rules</div>
                    </div>
                    <div style="padding: 1rem; background: rgba(249, 115, 22, 0.1); border-radius: 10px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üëÅÔ∏è</div>
                        <div style="font-weight: 600; color: var(--accent-orange);">Visibility</div>
                        <div style="font-size: 0.8rem; color: var(--gray-text);">East-West Traffic Monitoring</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NIST Reference -->
        <div id="nist" class="tab-content">
            <div class="nist-section">
                <h3 class="nist-title">NIST SP 800-207: Zero Trust Architecture</h3>
                <p class="nist-subtitle">"Cybersecurity paradigms that move defenses from static, network-based perimeters to focus on users, assets, and resources"</p>

                <div class="nist-tenets">
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 1</div>
                        <div class="tenet-text">All data sources and computing services are considered resources</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 2</div>
                        <div class="tenet-text">All communication is secured regardless of network location</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 3</div>
                        <div class="tenet-text">Access to individual enterprise resources is granted on a per-session basis</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 4</div>
                        <div class="tenet-text">Access is determined by dynamic policy including client identity, application, and other attributes</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 5</div>
                        <div class="tenet-text">Enterprise monitors and measures integrity and security posture of all assets</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 6</div>
                        <div class="tenet-text">All resource authentication and authorization are dynamic and strictly enforced</div>
                    </div>
                    <div class="tenet-card">
                        <div class="tenet-num">TENET 7</div>
                        <div class="tenet-text">Enterprise collects information about assets, network, and communications to improve security posture</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz -->
        <div id="quiz" class="tab-content">
            <div class="quiz-section">
                <h3 class="quiz-title">Zero Trust Knowledge Check</h3>
                <div id="quizContainer"></div>
                <button class="quiz-btn" onclick="checkQuiz()">Check Answers</button>
                <div id="quizResult" class="quiz-result">
                    <div class="quiz-score" id="quizScore">0/5</div>
                    <p style="color: var(--gray-text);">Your Zero Trust knowledge score</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const principleDetails = [
            {
                title: "Never Trust - Explicit Verification Required",
                points: [
                    "No implicit trust based on network location",
                    "Internal traffic treated same as external",
                    "Every access request requires authentication",
                    "Trust is never inherited from previous sessions",
                    "Network segments don't grant automatic access"
                ]
            },
            {
                title: "Always Verify - Continuous Validation",
                points: [
                    "Multi-factor authentication for all users",
                    "Device health and compliance checks",
                    "Real-time risk assessment for each request",
                    "Least privilege access enforcement",
                    "Session encryption end-to-end"
                ]
            },
            {
                title: "Assume Breach - Defense in Depth",
                points: [
                    "Minimize blast radius with microsegmentation",
                    "Detect lateral movement attempts",
                    "Encrypt data at rest and in transit",
                    "Continuous monitoring and logging",
                    "Rapid incident response capabilities"
                ]
            }
        ];

        const quizQuestions = [
            {
                question: "What is the core mantra of Zero Trust Architecture?",
                options: ["Trust but verify", "Never trust, always verify", "Trust internal, verify external", "Verify once, trust forever"],
                correct: 1
            },
            {
                question: "Which NIST publication defines Zero Trust Architecture?",
                options: ["SP 800-53", "SP 800-207", "SP 800-171", "SP 800-37"],
                correct: 1
            },
            {
                question: "What is microsegmentation primarily used for?",
                options: ["Increasing network speed", "Limiting lateral movement", "Reducing hardware costs", "Simplifying administration"],
                correct: 1
            },
            {
                question: "In Zero Trust, how should internal network traffic be treated?",
                options: ["As trusted by default", "As untrusted, same as external", "As semi-trusted", "Based on IP address"],
                correct: 1
            },
            {
                question: "What does 'assume breach' mean in Zero Trust?",
                options: ["Expect breaches are inevitable", "Never update security", "Trust all internal users", "Disable logging"],
                correct: 0
            }
        ];

        let selectedAnswers = {};

        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelector(`[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId).classList.add('active');

            if (tabId === 'quiz' && document.getElementById('quizContainer').innerHTML === '') {
                renderQuiz();
            }
        }

        function showPrinciple(index) {
            const cards = document.querySelectorAll('.principle-card');
            cards.forEach((c, i) => c.classList.toggle('active', i === index));

            const detail = document.getElementById('principleDetail');
            const data = principleDetails[index];
            detail.innerHTML = `
                <h3>${data.title}</h3>
                <ul>${data.points.map(p => `<li>${p}</li>`).join('')}</ul>
            `;
            detail.classList.add('show');
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = quizQuestions.map((q, i) => `
                <div class="quiz-question">
                    <h4>${i + 1}. ${q.question}</h4>
                    <div class="quiz-options">
                        ${q.options.map((opt, j) => `
                            <div class="quiz-option" onclick="selectQuizOption(${i}, ${j})" id="q${i}o${j}">${opt}</div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function selectQuizOption(qIndex, oIndex) {
            document.querySelectorAll(`#q${qIndex}o0, #q${qIndex}o1, #q${qIndex}o2, #q${qIndex}o3`).forEach(o => o.classList.remove('selected'));
            document.getElementById(`q${qIndex}o${oIndex}`).classList.add('selected');
            selectedAnswers[qIndex] = oIndex;
        }

        function checkQuiz() {
            let correct = 0;
            quizQuestions.forEach((q, i) => {
                const options = document.querySelectorAll(`#q${i}o0, #q${i}o1, #q${i}o2, #q${i}o3`);
                options.forEach(o => o.style.pointerEvents = 'none');

                if (selectedAnswers[i] === q.correct) {
                    document.getElementById(`q${i}o${q.correct}`).classList.add('correct');
                    correct++;
                } else {
                    if (selectedAnswers[i] !== undefined) {
                        document.getElementById(`q${i}o${selectedAnswers[i]}`).classList.add('incorrect');
                    }
                    document.getElementById(`q${i}o${q.correct}`).classList.add('correct');
                }
            });

            document.getElementById('quizScore').textContent = `${correct}/${quizQuestions.length}`;
            document.getElementById('quizResult').classList.add('show');

            if (typeof ProgressManager !== 'undefined' && correct >= 4) {
                ProgressManager.markProgress('shield', 'zero-trust-visualizer', 'complete');
            }
        }
    </script>
    <script src="../../../../components/ProgressManager.js"></script>
</body>
</html>
