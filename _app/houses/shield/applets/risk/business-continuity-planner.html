<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Continuity Planner - Shield House</title>
    <style>
        :root {
            --house-primary: #f87171;
            --bia: #3b82f6;
            --bcp: #22c55e;
            --drp: #f59e0b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            min-height: 100vh;
            background: #0a0a0f;
            font-family: 'Segoe UI', system-ui, sans-serif;
            color: #e0e0e0;
        }

        .header {
            padding: 20px 40px;
            border-bottom: 1px solid rgba(248, 113, 113, 0.2);
            background: rgba(10, 10, 15, 0.95);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #888;
            text-decoration: none;
        }

        .back-btn:hover { background: rgba(255, 255, 255, 0.1); color: #fff; }

        .title-section {
            text-align: center;
            padding: 40px 20px;
        }

        .title-section h1 {
            font-size: 2rem;
            font-weight: 300;
            color: #fff;
            margin-bottom: 10px;
        }

        .title-section h1 span { color: var(--house-primary); }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px 60px;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
        }

        .tab-btn {
            padding: 12px 24px;
            background: rgba(15, 15, 20, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #888;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .tab-btn:hover { background: rgba(255, 255, 255, 0.1); color: #fff; }
        .tab-btn.active { color: #000; font-weight: 600; }
        .tab-btn.bia.active { background: var(--bia); border-color: var(--bia); }
        .tab-btn.bcp.active { background: var(--bcp); border-color: var(--bcp); }
        .tab-btn.drp.active { background: var(--drp); border-color: var(--drp); }

        /* Tab Content */
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Section Styling */
        .section {
            background: rgba(15, 15, 20, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .section h2 {
            margin-bottom: 20px;
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section h2 .icon { font-size: 1.5rem; }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .metric-card .label {
            color: #888;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 10px;
        }

        .metric-card .value {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .metric-card .value.bia { color: var(--bia); }
        .metric-card .value.bcp { color: var(--bcp); }
        .metric-card .value.drp { color: var(--drp); }

        .metric-card .desc {
            color: #666;
            font-size: 0.8rem;
        }

        /* Process Flow */
        .process-flow {
            display: flex;
            align-items: center;
            gap: 10px;
            overflow-x: auto;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .process-step {
            flex-shrink: 0;
            padding: 20px 25px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            text-align: center;
            min-width: 150px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .process-step .step-num {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 600;
        }

        .process-step .step-num.bia { background: var(--bia); color: #000; }
        .process-step .step-num.bcp { background: var(--bcp); color: #000; }
        .process-step .step-num.drp { background: var(--drp); color: #000; }

        .process-step .step-name {
            color: #fff;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .process-step .step-desc {
            color: #666;
            font-size: 0.7rem;
        }

        .process-arrow {
            color: #444;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        /* Calculator */
        .calculator {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 25px;
        }

        .calc-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
            align-items: end;
        }

        .calc-field label {
            display: block;
            color: #888;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }

        .calc-field input, .calc-field select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
        }

        .calc-field input:focus, .calc-field select:focus {
            outline: none;
            border-color: var(--house-primary);
        }

        .calc-result {
            padding: 20px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 12px;
            border-left: 4px solid var(--bia);
            margin-top: 20px;
        }

        .calc-result h4 {
            color: var(--bia);
            margin-bottom: 15px;
        }

        .calc-result .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .calc-result .result-item {
            text-align: center;
        }

        .calc-result .result-value {
            font-size: 1.5rem;
            color: #fff;
            font-weight: 300;
        }

        .calc-result .result-label {
            color: #888;
            font-size: 0.75rem;
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checklist li:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .checklist li.completed {
            background: rgba(34, 197, 94, 0.1);
        }

        .checklist li .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #444;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .checklist li.completed .checkbox {
            background: var(--bcp);
            border-color: var(--bcp);
        }

        .checklist li .text {
            flex: 1;
            color: #aaa;
        }

        .checklist li.completed .text {
            color: #4ade80;
        }

        .checklist li .priority {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .priority.critical { background: rgba(220, 38, 38, 0.2); color: #f87171; }
        .priority.high { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
        .priority.medium { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .priority.low { background: rgba(34, 197, 94, 0.2); color: #4ade80; }

        /* Recovery Strategies */
        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .strategy-card {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .strategy-card h3 {
            color: #fff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .strategy-card p {
            color: #888;
            font-size: 0.85rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .strategy-card .meta {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .strategy-card .meta-tag {
            padding: 4px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            font-size: 0.7rem;
            color: #888;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(255, 255, 255, 0.1);
        }

        .timeline-item {
            position: relative;
            padding-bottom: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--drp);
        }

        .timeline-item .time {
            color: var(--drp);
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .timeline-item .title {
            color: #fff;
            margin-bottom: 5px;
        }

        .timeline-item .desc {
            color: #888;
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            .calc-row { grid-template-columns: 1fr; }
            .tab-nav { flex-direction: column; }
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="../../index.html" class="back-btn">
            <span>‚Üê</span>
            <span>Shield House</span>
        </a>
        <div style="color: #666; font-size: 0.8rem;">CISSP Domain 1 & 7</div>
    </header>

    <section class="title-section">
        <h1>Business <span>Continuity</span> Planner</h1>
        <p>BIA, BCP, and DRP planning tools for organizational resilience</p>
    </section>

    <div class="container">
        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn bia active" onclick="showTab('bia')">üìä Business Impact Analysis</button>
            <button class="tab-btn bcp" onclick="showTab('bcp')">üìã Business Continuity Plan</button>
            <button class="tab-btn drp" onclick="showTab('drp')">üîÑ Disaster Recovery Plan</button>
        </div>

        <!-- BIA Tab -->
        <div class="tab-content active" id="tab-bia">
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="label">RTO</div>
                    <div class="value bia">Recovery Time</div>
                    <div class="desc">Max acceptable downtime</div>
                </div>
                <div class="metric-card">
                    <div class="label">RPO</div>
                    <div class="value bia">Recovery Point</div>
                    <div class="desc">Max acceptable data loss</div>
                </div>
                <div class="metric-card">
                    <div class="label">MTD</div>
                    <div class="value bia">Max Tolerable</div>
                    <div class="desc">Business survival limit</div>
                </div>
                <div class="metric-card">
                    <div class="label">WRT</div>
                    <div class="value bia">Work Recovery</div>
                    <div class="desc">Time to verify systems</div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üìä</span> BIA Process Flow</h2>
                <div class="process-flow">
                    <div class="process-step">
                        <div class="step-num bia">1</div>
                        <div class="step-name">Identify Functions</div>
                        <div class="step-desc">List critical business processes</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bia">2</div>
                        <div class="step-name">Assess Impact</div>
                        <div class="step-desc">Financial & operational costs</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bia">3</div>
                        <div class="step-name">Determine RTO/RPO</div>
                        <div class="step-desc">Set recovery objectives</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bia">4</div>
                        <div class="step-name">Identify Dependencies</div>
                        <div class="step-desc">Map resource requirements</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bia">5</div>
                        <div class="step-name">Prioritize</div>
                        <div class="step-desc">Rank by criticality</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üßÆ</span> Impact Calculator</h2>
                <div class="calculator">
                    <div class="calc-row">
                        <div class="calc-field">
                            <label>Hourly Revenue ($)</label>
                            <input type="number" id="hourlyRevenue" value="10000" onchange="calculateImpact()">
                        </div>
                        <div class="calc-field">
                            <label>Downtime (hours)</label>
                            <input type="number" id="downtime" value="4" onchange="calculateImpact()">
                        </div>
                        <div class="calc-field">
                            <label>Recovery Cost ($)</label>
                            <input type="number" id="recoveryCost" value="5000" onchange="calculateImpact()">
                        </div>
                    </div>
                    <div class="calc-row">
                        <div class="calc-field">
                            <label>Reputation Factor (1-5)</label>
                            <input type="number" id="repFactor" min="1" max="5" value="3" onchange="calculateImpact()">
                        </div>
                        <div class="calc-field">
                            <label>Regulatory Penalties ($)</label>
                            <input type="number" id="penalties" value="0" onchange="calculateImpact()">
                        </div>
                        <div class="calc-field">
                            <label>Customer Impact (%)</label>
                            <input type="number" id="custImpact" min="0" max="100" value="25" onchange="calculateImpact()">
                        </div>
                    </div>
                    <div class="calc-result" id="impactResult">
                        <!-- Calculated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- BCP Tab -->
        <div class="tab-content" id="tab-bcp">
            <div class="section">
                <h2><span class="icon">üìã</span> BCP Development Phases</h2>
                <div class="process-flow">
                    <div class="process-step">
                        <div class="step-num bcp">1</div>
                        <div class="step-name">Project Initiation</div>
                        <div class="step-desc">Get executive sponsorship</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bcp">2</div>
                        <div class="step-name">BIA</div>
                        <div class="step-desc">Analyze business impact</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bcp">3</div>
                        <div class="step-name">Strategy Development</div>
                        <div class="step-desc">Define recovery strategies</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bcp">4</div>
                        <div class="step-name">Plan Development</div>
                        <div class="step-desc">Document procedures</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bcp">5</div>
                        <div class="step-name">Testing & Training</div>
                        <div class="step-desc">Validate and exercise</div>
                    </div>
                    <div class="process-arrow">‚Üí</div>
                    <div class="process-step">
                        <div class="step-num bcp">6</div>
                        <div class="step-name">Maintenance</div>
                        <div class="step-desc">Update and improve</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">‚úì</span> BCP Checklist</h2>
                <ul class="checklist" id="bcpChecklist">
                    <!-- Populated by JS -->
                </ul>
            </div>

            <div class="section">
                <h2><span class="icon">üè¢</span> Alternate Site Strategies</h2>
                <div class="strategy-grid">
                    <div class="strategy-card">
                        <h3>üî• Hot Site</h3>
                        <p>Fully equipped, operational facility with real-time data replication. Ready for immediate failover.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Minutes</span>
                            <span class="meta-tag">Cost: $$$$$</span>
                            <span class="meta-tag">Best for: Critical ops</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üå°Ô∏è Warm Site</h3>
                        <p>Partially equipped facility with hardware but requires data restoration and configuration.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Hours-Days</span>
                            <span class="meta-tag">Cost: $$$</span>
                            <span class="meta-tag">Best for: Important systems</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>‚ùÑÔ∏è Cold Site</h3>
                        <p>Basic facility with power, HVAC, connectivity. Requires full equipment installation.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Days-Weeks</span>
                            <span class="meta-tag">Cost: $</span>
                            <span class="meta-tag">Best for: Non-critical</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>‚òÅÔ∏è Cloud Recovery</h3>
                        <p>DRaaS (Disaster Recovery as a Service). Virtual infrastructure in cloud providers.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Variable</span>
                            <span class="meta-tag">Cost: $$</span>
                            <span class="meta-tag">Best for: Flexible needs</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>ü§ù Reciprocal Agreement</h3>
                        <p>Mutual agreement with another organization to share facilities during disasters.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Variable</span>
                            <span class="meta-tag">Cost: Low</span>
                            <span class="meta-tag">Risk: Reliability</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üì± Mobile Site</h3>
                        <p>Portable, self-contained recovery facility that can be deployed to any location.</p>
                        <div class="meta">
                            <span class="meta-tag">RTO: Hours</span>
                            <span class="meta-tag">Cost: $$$</span>
                            <span class="meta-tag">Best for: Field ops</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DRP Tab -->
        <div class="tab-content" id="tab-drp">
            <div class="section">
                <h2><span class="icon">üîÑ</span> Disaster Recovery Timeline</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="time">0 - 1 Hour</div>
                        <div class="title">Initial Response</div>
                        <div class="desc">Activate incident response team, assess situation, notify stakeholders, invoke DR plan if needed.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="time">1 - 4 Hours</div>
                        <div class="title">Damage Assessment</div>
                        <div class="desc">Evaluate extent of damage, determine affected systems, estimate recovery time.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="time">4 - 24 Hours</div>
                        <div class="title">Recovery Initiation</div>
                        <div class="desc">Begin system recovery, activate alternate site, restore from backups.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="time">24 - 72 Hours</div>
                        <div class="title">Service Restoration</div>
                        <div class="desc">Bring critical services online, verify data integrity, begin user access restoration.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="time">72+ Hours</div>
                        <div class="title">Normal Operations</div>
                        <div class="desc">Return to primary site (if applicable), conduct post-incident review, update DR plan.</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üß™</span> Testing Types</h2>
                <div class="strategy-grid">
                    <div class="strategy-card">
                        <h3>üìñ Checklist Review</h3>
                        <p>Distribute DR plan to team members for review. Low cost, identifies obvious gaps.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: Low</span>
                            <span class="meta-tag">Disruption: None</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üí¨ Tabletop Exercise</h3>
                        <p>Discussion-based walkthrough of DR scenarios. Team discusses responses to hypothetical disasters.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: Low-Medium</span>
                            <span class="meta-tag">Disruption: None</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üö∂ Walkthrough/Structured</h3>
                        <p>Step through each procedure in the plan. May include role-playing and Q&A.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: Medium</span>
                            <span class="meta-tag">Disruption: Minimal</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üé≠ Simulation</h3>
                        <p>Practice specific recovery procedures without affecting production. Tests individual components.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: Medium-High</span>
                            <span class="meta-tag">Disruption: Limited</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>‚ö° Parallel Test</h3>
                        <p>Recover systems at alternate site while primary continues. Validates full recovery capability.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: High</span>
                            <span class="meta-tag">Disruption: Moderate</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üî¥ Full Interruption</h3>
                        <p>Shut down primary, activate DR site. Most realistic but highest risk. Rarely performed.</p>
                        <div class="meta">
                            <span class="meta-tag">Effort: Very High</span>
                            <span class="meta-tag">Disruption: Significant</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üíæ</span> Backup Strategies</h2>
                <div class="strategy-grid">
                    <div class="strategy-card">
                        <h3>üì¶ Full Backup</h3>
                        <p>Complete copy of all data. Longest backup time, fastest restore.</p>
                        <div class="meta">
                            <span class="meta-tag">Backup: Slow</span>
                            <span class="meta-tag">Restore: Fast</span>
                            <span class="meta-tag">Storage: High</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üìà Incremental</h3>
                        <p>Only data changed since last backup. Fast backup, slower restore (needs chain).</p>
                        <div class="meta">
                            <span class="meta-tag">Backup: Fast</span>
                            <span class="meta-tag">Restore: Slow</span>
                            <span class="meta-tag">Storage: Low</span>
                        </div>
                    </div>
                    <div class="strategy-card">
                        <h3>üìä Differential</h3>
                        <p>All changes since last full backup. Balance of backup/restore speed.</p>
                        <div class="meta">
                            <span class="meta-tag">Backup: Medium</span>
                            <span class="meta-tag">Restore: Medium</span>
                            <span class="meta-tag">Storage: Medium</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const BCP_CHECKLIST = [
            { text: 'Executive sponsorship secured', priority: 'critical' },
            { text: 'BIA completed for all critical functions', priority: 'critical' },
            { text: 'RTO/RPO defined for each system', priority: 'critical' },
            { text: 'Alternate site selected and contracted', priority: 'high' },
            { text: 'Emergency contact lists updated', priority: 'high' },
            { text: 'Communication plan documented', priority: 'high' },
            { text: 'Backup procedures tested', priority: 'high' },
            { text: 'Recovery procedures documented', priority: 'medium' },
            { text: 'Vendor agreements include DR provisions', priority: 'medium' },
            { text: 'Insurance coverage reviewed', priority: 'medium' },
            { text: 'Annual tabletop exercise scheduled', priority: 'medium' },
            { text: 'Plan distributed to all stakeholders', priority: 'low' },
            { text: 'Plan review scheduled (annual)', priority: 'low' }
        ];

        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('tab-' + tab).classList.add('active');
            document.querySelector('.tab-btn.' + tab).classList.add('active');
        }

        function calculateImpact() {
            const hourly = parseFloat(document.getElementById('hourlyRevenue').value) || 0;
            const downtime = parseFloat(document.getElementById('downtime').value) || 0;
            const recovery = parseFloat(document.getElementById('recoveryCost').value) || 0;
            const rep = parseFloat(document.getElementById('repFactor').value) || 1;
            const penalties = parseFloat(document.getElementById('penalties').value) || 0;
            const cust = parseFloat(document.getElementById('custImpact').value) || 0;

            const revenueLoss = hourly * downtime;
            const repImpact = revenueLoss * (rep * 0.1);
            const custLoss = revenueLoss * (cust / 100);
            const totalImpact = revenueLoss + recovery + repImpact + penalties + custLoss;

            document.getElementById('impactResult').innerHTML = `
                <h4>Estimated Business Impact</h4>
                <div class="result-grid">
                    <div class="result-item">
                        <div class="result-value">$${revenueLoss.toLocaleString()}</div>
                        <div class="result-label">Revenue Loss</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">$${repImpact.toLocaleString()}</div>
                        <div class="result-label">Reputation Impact</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">$${custLoss.toLocaleString()}</div>
                        <div class="result-label">Customer Loss</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value" style="color: #f87171;">$${totalImpact.toLocaleString()}</div>
                        <div class="result-label">Total Impact</div>
                    </div>
                </div>
            `;
        }

        function renderChecklist() {
            const container = document.getElementById('bcpChecklist');
            container.innerHTML = BCP_CHECKLIST.map((item, i) => `
                <li onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span class="text">${item.text}</span>
                    <span class="priority ${item.priority}">${item.priority}</span>
                </li>
            `).join('');
        }

        function toggleCheck(li) {
            li.classList.toggle('completed');
            if (li.classList.contains('completed')) {
                li.querySelector('.checkbox').textContent = '‚úì';
            } else {
                li.querySelector('.checkbox').textContent = '';
            }
        }

        // Initialize
        calculateImpact();
        renderChecklist();
    </script>
</body>
</html>
