<!DOCTYPE html>
<html>
  <head><br>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z91PVQTWCZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z91PVQTWCZ');
</script>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" /><br>
	<meta name="keyword" content="block, memory, ram, code, attack, inject, malicious, overflow, buffer, attack, secure coding" />
		<meta name="description" content="See what happens when too much data is allocated to a buffer. " />
	<title>bufferoverflow</title>
	<style>
		html {
			height:100%;
		}
		body {
			background-color:#FFF;
			margin:0;
			height:100%;
		}
	
/* Hexworth Academy - House of Shield Branding */
.hexworth-wrapper {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a0a0a 50%, #0a0a0a 100%);
    min-height: 100vh;
    padding: 0;
    margin: 0;
}
.hexworth-header {
    background: linear-gradient(135deg, #1a0a0a 0%, #8b0000 50%, #dc143c 100%);
    padding: 12px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 4px 20px rgba(220, 20, 60, 0.3);
}
.hexworth-logo {
    display: flex;
    align-items: center;
    gap: 12px;
    color: white;
    text-decoration: none;
}
.hexworth-logo-icon { font-size: 28px; }
.hexworth-logo-text { font-size: 18px; font-weight: 600; letter-spacing: 1px; }
.hexworth-badge {
    background: linear-gradient(135deg, #1a1a1a, #333333);
    color: #dc143c;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    border: 1px solid #dc143c;
}
.hexworth-content { display: flex; justify-content: center; padding: 20px; }
.hexworth-footer {
    background: rgba(26, 10, 10, 0.8);
    color: rgba(255,255,255,0.7);
    text-align: center;
    padding: 12px;
    font-size: 12px;
}
.hexworth-footer a { color: #dc143c; text-decoration: none; }
.hexworth-footer a:hover { color: #ff6b6b; }

	</style>
	<!-- copy these lines to your document head: -->

	<meta name="viewport" content="user-scalable=yes, width=700" />
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:600&subset=latin' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro&subset=latin' rel='stylesheet' type='text/css'>

	<!-- end copy -->
  </head>
  <body>
<div class="hexworth-wrapper">
    <header class="hexworth-header">
        <a href="../../../catalog.html?theme=academy" class="hexworth-logo">
            <span class="hexworth-logo-icon">üè∞</span>
            <span class="hexworth-logo-text">Hexworth Academy</span>
        </a>
        <span class="hexworth-badge">üõ°Ô∏è House of Shield</span>
    </header>
    <div class="hexworth-content">

<!-- copy these lines to your document: -->

	<div id="bufferoverflow_hype_container" class="HYPE_document" style="margin:auto;position:relative;width:700px;height:550px;overflow:hidden;">
		<script type="text/javascript" charset="utf-8" src="bufferoverflow.hyperesources/bufferoverflow_hype_generated_script.js"></script>
	</div>

	<!-- end copy -->
	


	<!-- text content for search engines: -->

	<div style="display:none" aria-hidden=true>

		<div>Buffer Overflow</div>
		<div>1/11</div>
		<div></div>
		<div>This material was developed with funding from the
National Science Foundation under Grant # DUE 1601612
</div>
		<div>Next</div>
		<div>Restart</div>
		<div>Back</div>
		<div>2/11</div>
		<div>Over Budget</div>
		<div>You ask your family to create a grocery list for this week. The list is very long with many different items. You have a finite budget of $20 and when you add up all the cost of all of the items, it exceeds the $20 limit. Clearly the amount of food items your family wants exceeds the capacity of your budget.</div>
		<div>Close¬†</div>
		<div>Computer programs often operate on chunks of data. Programs allocate finite-sized blocks of memory, called buffers, to store data as they work on it. So what happens if like our grocery list, too much data is allocated to the buffer? A buffer overflow happens when the amount of data written to or read from a buffer exceeds the capacity of what it can hold. This is like our grocery list in which more items are written to the list than we can afford.</div>
		<div>Buffer Overflow

occurs when a program writes more data to the buffer than it is allocated to hold. The extra data can overwrite data values in memory addresses adjacent to the destination buffer unless the program includes sufficient bounds checking. Exploiting a buffer overflow allows an attacker to control or crash the process or to modify its internal variables.¬†</div>
		<div>3/11</div>
		<div>Buffers

a fixed length block of memory.</div>
		<div>To understand why buffer overflows happen, it‚Äôs important to know that every individual byte of memory has a corresponding physical numeric address. This physical memory address is much like the aisle identifier for each item on the grocery list. When the processor loads and stores data from main memory (RAM), it uses the physical memory address of the location it wants to read and write from. When you go to the grocery store looking for your grocery items you refer to the aisle number for the items to locate them.</div>
		<div>4/11</div>
		<div>Physical Address</div>
		<div>Physical Memory Address

refers to the location of a memory cell in the main memory used by both hardware and software for accessing data. Software, however, does not use physical addresses directly; instead, it accesses memory using a virtual address.</div>
		<div>Virtual Memory Address</div>
		<div>Process

is an instance of a program running on the computer.</div>
		<div>5/11</div>
		<div>Virtual Memory Addresses

is a binary number in virtual memory that enables software to use a location in the memory to use more space than actually exists in primary storage by temporarily relegating some content elsewhere. The virtual address is then translated to the physical address.</div>
		<div>Within our computers, software and the processor operate using virtual memory addresses as well. Our grocery list also has an additional identifier for each item which is the price, and this can be considered a virtual address. The operating system and processor together maintain a mapping between virtual memory addresses and physical memory addresses. Because each process gets its own set of addresses, this prevents one process from damaging the memory of any other.</div>
		<div>6/11</div>
		<div>In our grocery list, the grocery list items (the data) can be overwritten or the aisle numbers (physical address) and the price of the items (virtual address) can be overwritten resulting in exceeding the grocery budget.</div>
		<div>7/11</div>
		<div>The problem of buffer overflows is more serious because it can lead to code execution. This happens because those overflowed buffers don‚Äôt just overwrite data, they can overwrite those return addresses. The return address controls which instructions the processor will execute when it's finished with the current function.</div>
		<div>Code Execution

ability to execute any commands of the attacker's choice on a computer or to a computer process.¬†</div>
		<div>8/11</div>
		<div>Within our grocery list someone can control the information on the list and thus can use that control to add items they may wish. Similarly, if attackers can control the buffer overflow, they can control the return address and by extension they can choose what code the processor executes next. For example, the same buffer that was used to overwrite the return address can also be used to hold a short snippet of executable code that may download a malicious executable, or could open up a network connection, or do whatever else the attacker instructs.</div>
		<div>
</div>
		<div>In some cases, an attacker injects malicious code into the memory that has been corrupted by the overflow. In other cases, the attacker simply takes advantage of the overflow and it‚Äôs corruption of the adjacent memory. For example, consider a program that requests a user password in order to grant the user root access to the system. If the correct password is entered the program grants the user root access, and if the incorrect password is entered the user does not receive access. However, there is a possibility of a buffer overflow in this program because the gets() function does not check the size of the buffer that was established to store the password.</div>
		<div>9/11</div>
		<div>int main(void)
{</div>
		<div>The attacker supplies a password input with a length greater than the 15 characters the buffer can hold. Because the gets() function doesn‚Äôt check the size of the buffer that was established to store the password, the buffer overflows and the memory immediately following the buffer is overwritten. Therefore, despite the incorrect password being entered, the program will execute the code immediately following the overwritten portion of memory. Specifically, the value of the variable ‚Äúpass‚Äù will be set equal to 1 and the attacker will receive root access despite entering an incorrect password.</div>
		<div>10/11</div>
		<div>To prevent buffer overflow, developers should avoid standard library functions built into programming languages that do not check the buffer size, such as gets, scanf and strcpy. In addition, secure development practices should include regular testing to detect and fix buffer overflows. Another fix, is to have programs check for buffer size when they run, which automatically verifies that data written to a buffer is within acceptable boundaries.</div>
		<div>11/11</div>
		<div>This bit of code says that a buffer has been created which is 15 characters long and the variable pass is initially set to 0.</div>
		<div>This subsequent bit of code says that the password entered by the user should be entered into the previous established buffer of 15 characters.</div>
		<div>This next bit of code says that if the incorrect password is entered then the program should indicate to the user that the password was incorrect.</div>
		<div>This next bit of code says that if the correct password is entered then the program should indicate to the user that the password is correct and the variable pass should be set equal to 1.</div>
		<div>This final bit of code says that if a password is entered, the user is given root or administrative rights.</div>
		<div>Click on highlighted code for more information.</div>

	</div>

	<!-- end text content: -->

    </div>
    <footer class="hexworth-footer">
        <p>Educational content powered by <a href="https://www.myemates.com" target="_blank">myEMATES</a> |
        NSF Grant #DUE 1601612 |
        <a href="../../../catalog.html">‚Üê Back to Catalog</a></p>
    </footer>
</div>
</body>
</html>
