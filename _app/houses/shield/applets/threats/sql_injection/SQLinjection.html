<!DOCTYPE html>
<html>
  <head><br>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z91PVQTWCZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z91PVQTWCZ');
</script>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" /><br>
	<meta name="keyword" content="attack, database, web, query, exploit, vulnerable, code" />
		<meta name="description" content="Learn how hackers use SQL injection to output data unintentionally . " />
	<title>SQLinjection</title>
	<style>
		html {
			height:100%;
		}
		body {
			background-color:#FFF;
			margin:0;
			height:100%;
		}
	
/* Hexworth Academy - House of Shield Branding */
.hexworth-wrapper {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a0a0a 50%, #0a0a0a 100%);
    min-height: 100vh;
    padding: 0;
    margin: 0;
}
.hexworth-header {
    background: linear-gradient(135deg, #1a0a0a 0%, #8b0000 50%, #dc143c 100%);
    padding: 12px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 4px 20px rgba(220, 20, 60, 0.3);
}
.hexworth-logo {
    display: flex;
    align-items: center;
    gap: 12px;
    color: white;
    text-decoration: none;
}
.hexworth-logo-icon { font-size: 28px; }
.hexworth-logo-text { font-size: 18px; font-weight: 600; letter-spacing: 1px; }
.hexworth-badge {
    background: linear-gradient(135deg, #1a1a1a, #333333);
    color: #dc143c;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    border: 1px solid #dc143c;
}
.hexworth-content { display: flex; justify-content: center; padding: 20px; }
.hexworth-footer {
    background: rgba(26, 10, 10, 0.8);
    color: rgba(255,255,255,0.7);
    text-align: center;
    padding: 12px;
    font-size: 12px;
}
.hexworth-footer a { color: #dc143c; text-decoration: none; }
.hexworth-footer a:hover { color: #ff6b6b; }

	</style>
	<!-- copy these lines to your document head: -->

	<meta name="viewport" content="user-scalable=yes, width=700" />
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:600&subset=latin' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro&subset=latin' rel='stylesheet' type='text/css'>

	<!-- end copy -->
  </head>
  <body>
<div class="hexworth-wrapper">
    <header class="hexworth-header">
        <a href="../../../catalog.html?theme=academy" class="hexworth-logo">
            <span class="hexworth-logo-icon">üè∞</span>
            <span class="hexworth-logo-text">Hexworth Academy</span>
        </a>
        <span class="hexworth-badge">üõ°Ô∏è House of Shield</span>
    </header>
    <div class="hexworth-content">

<!-- copy these lines to your document: -->

	<div id="sqlinjection_hype_container" class="HYPE_document" style="margin:auto;position:relative;width:700px;height:550px;overflow:hidden;">
		<script type="text/javascript" charset="utf-8" src="SQLinjection.hyperesources/sqlinjection_hype_generated_script.js"></script>
	</div>

	<!-- end copy -->
	


	<!-- text content for search engines: -->

	<div style="display:none" aria-hidden=true>

		<div>SQL Injection</div>
		<div>1/16</div>
		<div></div>
		<div>This material was developed with funding from the
National Science Foundation under Grant # DUE 1601612
</div>
		<div>Next</div>
		<div>Restart</div>
		<div>Back</div>
		<div>2/16</div>
		<div>We have all used vending machines to satisfy a craving for a snack. Vending machines function by allowing you to see the snacks inside through a clear window and the snacks are arranged by clearly labeled column and row identifiers. This organization makes it very easy for a user to select the correct snack from the machine by entering the correct column and row identifier for that particular snack. The result is that the vending machine returns the correct snack.</div>
		<div>Query

a request for data or information from a database table or combination of tables.</div>
		<div>Close¬†</div>
		<div>4/16</div>
		<div>SQL programming language

Structured Query Language (SQL) is a standard computer language for relational database management and data manipulation. SQL is used to query, insert, update and modify data.</div>
		<div>Websites are often programmed in a programming language called PHP. The PHP will use the SQL programming language to query (ask a question of) the database. When the user enters data into a web form, the request goes to the webserver that hosts the page. It then constructs a SQL query to request particular content from the database and the database returns the correct piece(s) of data from the database. This is similar to what occurs when you choose a snack from a vending machine by entering its column and row identifiers.</div>
		<div>PHP

a script language and interpreter that is freely available and used primarily on Linux Web servers.
</div>
		<div>5/16</div>
		<div>Consider a vending machine which contains snacks which are organized by columns and row identifiers but where we don‚Äôt know what they are. This is similar to a database on a website where we don‚Äôt know what the column and row headings are. If we want to learn about the organization of the vending machine we may try various column and row identifiers to begin to identify which ones are being used by the machine. An incorrect identifier entered by the user won‚Äôt make sense to the vending machine and an error is returned, for example by not delivering a snack.</div>
		<div>If a vending machine is poorly designed, the user may not receive the snack they desired. While errors like these can be a frustrating, the problem is so much larger with web forms. Websites that aren‚Äôt properly programmed allow malicious users to exploit the poor web design/PHP code. This exploitation is called a SQL injection. A SQL injection is the use of special characters as control structures to delete, change, update, or otherwise alter a database.</div>
		<div>SQL Injection

a computer attack in which malicious code is embedded in a poorly-designed application and then passed to the backend database. The malicious data then produces database query results or actions that should never have been executed.</div>
		<div>7/16</div>
		<div>When you want to exploit a poorly designed vending machine, it is helpful to understand what organization structure is being used because this will allow you to target your attack to that specific system. For example, once you know what organizational structure is being used, you can use that information to get the exact snack you want or perhaps even multiple snacks.</div>
		<div>8/16</div>
		<div>Database

a collection of data organized for rapid search and retrieval by a computer.¬†</div>
		<div>3/16</div>
		<div>But what if instead of being able to see every item in a vending machine, you could only guess at what items might be within it because the items are obscured and you don‚Äôt know how the items are organized to be able to use the snack‚Äôs identifier to retrieve it. This type of vending machine is a bit like a user interacting with a database connected to a web form. Web forms are what users use to interact with a database on the web server which hosts the website.</div>
		<div>Webform

a web form or HTML form on a web page allows a user to enter data that is sent to a server for processing.</div>
		<div>Control Structures

in a program, a control structure determines the order in which statements are executed.¬†</div>
		<div>Similarly, a SQL query containing special characters inputted by a user will not make sense to the database and an error is returned. An example of a special character that is concerning is a single or double quote. In programming languages these special characters are often used as control structures, meaning they tell the program something about the code. In properly programmed websites the website uses these special characters as characters versus control structures.</div>
		<div>6/16</div>
		<div>SQL Injection Code</div>
		<div>Similarly, it is helpful to understand what database management system is running on the webserver because this will allow you to target your attack to that specific system. For example, you can try running searches that only work on particular systems to determine what system is running. This is called a blind SQL injection. Once you have this information, you can use SQL injection to output data to you from within the database that was not intended to be outputted to the user; for example, usernames and passwords.</div>
		<div>Blind SQL Injection

a type of SQL Injection attack that asks the database true or false questions and determines the answer based on the applications response.</div>
		<div>usernames and passwords</div>
		<div>9/16</div>
		<div>A sample of a vulnerable website PHP/MySQL ‚Äúlogin‚Äù might look like this:</div>
		<div>10/16</div>
		<div>$db = new mysqli('localhost', 'root', 'passwd', 'base');
$result = $db->query('SELECT * FROM users WHERE user="'.$_GET['user'].'" AND pass= "'.$_GET['password'].'"');</div>
		<div>This is vulnerable because an an attacker may submit certain code instruction such as ‚Äù OR 1 -- as the username and whatever as password. The variables would then contain these values:</div>
		<div>$_GET['user'] = " OR 1 --
$_GET['password'] = whatever</div>
		<div>The resulting SQL query would become:</div>
		<div>SELECT * FROM users WHERE user="" OR 1 -- AND pass="whatever"</div>
		<div>Everything after -- (which indicates the start of a comment in SQL) will be ignored. Meaning the query to be executed would look like this:</div>
		<div>SELECT * FROM users WHERE user="" OR 1</div>
		<div>Essentially the query now says ‚ÄúGrab everything (SELECT *) from the user list (FROM users) where the username matches nothing (WHERE user=‚Äù‚Äù) or¬†1¬†(which will be interpreted asTrue¬†(OR 1))‚Äú. Since the latter statement will always result in True, the right hand of the statement will successfully eliminate the left hand statement and¬†the condition will always be true. The result of that query would be the same as this one:</div>
		<div>SELECT * FROM users</div>
		<div>This query will return all data there is about all the users in the database, including their usernames and passwords.</div>
		<div>15/16</div>
		<div>So how do we prevent a website from being vulnerable to a SQL injection? A SQL Injection needs two elements to function: a relational database that uses SQL, and a user input which is directly used in a SQL query. Therefore, it is necessary to modify the vulnerable website code to escape all bad characters that might allow a user to break a SQL statement.</div>
		<div>Wherever possible, run code with the least possible user privileges.</div>
		<div>Enforce identifier length limits.</div>
		<div>If an identifier needs to be generated based on a user input, avoid concatenating the user input or using sequences to construct the generated identifier name.</div>
		<div>Using these principles you should review your code, run static code analysis, test your code using fuzzing tools, and generate test cases for SQL injection and run them on your own code.</div>
		<div>Do not allow arbitrary query parameters to be exposed.</div>
		<div>Prevent control characters in user inputted identifier names.</div>
		<div>16/16</div>
		<div>The main principles to employ in designing your code to limit your exposure from SQL injection attacks are to:</div>
		<div>Use bind arguments rather than user generated identifier names whenever possible.</div>
		<div>Keep error messages from divulging any metadata information (such as column names, table names, and so on).</div>
		<div>11/16</div>
		<div>12/16</div>
		<div>13/16</div>
		<div>14/16</div>

	</div>

	<!-- end text content: -->

    </div>
    <footer class="hexworth-footer">
        <p>Educational content powered by <a href="https://www.myemates.com" target="_blank">myEMATES</a> |
        NSF Grant #DUE 1601612 |
        <a href="../../../catalog.html">‚Üê Back to Catalog</a></p>
    </footer>
</div>
</body>
</html>
