<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Access Control Models | Shield House</title>
    <style>
        :root {
            --shield-primary: #f87171;
            --shield-secondary: #fca5a5;
            --bg-dark: #0f0f0f;
            --bg-card: #1a1a1a;
            --bg-elevated: #242424;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --border-color: #333;
            --success: #22c55e;
            --warning: #eab308;
            --danger: #ef4444;
            --info: #3b82f6;
            --purple: #a855f7;
            --cyan: #06b6d4;
            --pink: #ec4899;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--shield-primary), var(--shield-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle { color: var(--text-secondary); }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .back-link:hover { color: var(--shield-primary); }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 0.75rem 1.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: var(--bg-elevated);
            color: var(--text-primary);
        }

        .tab-btn.active {
            background: var(--shield-primary);
            color: white;
            border-color: var(--shield-primary);
        }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Model Cards */
        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .model-card {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .model-card:hover {
            transform: translateY(-4px);
        }

        .model-card.rbac { border-color: var(--info); }
        .model-card.rbac:hover { box-shadow: 0 8px 24px rgba(59, 130, 246, 0.2); }
        .model-card.mac { border-color: var(--danger); }
        .model-card.mac:hover { box-shadow: 0 8px 24px rgba(239, 68, 68, 0.2); }
        .model-card.dac { border-color: var(--success); }
        .model-card.dac:hover { box-shadow: 0 8px 24px rgba(34, 197, 94, 0.2); }
        .model-card.abac { border-color: var(--purple); }
        .model-card.abac:hover { box-shadow: 0 8px 24px rgba(168, 85, 247, 0.2); }
        .model-card.rule { border-color: var(--warning); }
        .model-card.rule:hover { box-shadow: 0 8px 24px rgba(234, 179, 8, 0.2); }

        .model-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .model-icon {
            font-size: 2.5rem;
        }

        .model-title h3 {
            margin-bottom: 0.25rem;
        }

        .model-card.rbac .model-title h3 { color: var(--info); }
        .model-card.mac .model-title h3 { color: var(--danger); }
        .model-card.dac .model-title h3 { color: var(--success); }
        .model-card.abac .model-title h3 { color: var(--purple); }
        .model-card.rule .model-title h3 { color: var(--warning); }

        .model-title .full-name {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .model-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .model-features {
            background: var(--bg-elevated);
            border-radius: 8px;
            padding: 1rem;
        }

        .model-features h4 {
            font-size: 0.85rem;
            color: var(--shield-secondary);
            margin-bottom: 0.5rem;
        }

        .feature-list {
            list-style: none;
            font-size: 0.85rem;
        }

        .feature-list li {
            padding: 0.25rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .feature-list li::before {
            content: '‚Ä¢';
            color: var(--shield-primary);
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--bg-card);
            color: var(--shield-primary);
            font-weight: 600;
        }

        .comparison-table td {
            background: var(--bg-elevated);
        }

        .comparison-table tr:hover td {
            background: rgba(248, 113, 113, 0.05);
        }

        .check-yes { color: var(--success); }
        .check-no { color: var(--danger); }
        .check-partial { color: var(--warning); }

        /* Scenario Simulator */
        .scenario-panel {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
        }

        .scenario-title {
            color: var(--shield-primary);
            margin-bottom: 1.5rem;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .scenario-input, .scenario-output {
            background: var(--bg-elevated);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .section-title {
            color: var(--shield-secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn.primary {
            background: var(--shield-primary);
            color: white;
        }

        .result-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .result-model {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .result-reasoning {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Quiz Section */
        .quiz-question {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .answer-options {
            display: grid;
            gap: 0.75rem;
        }

        .answer-option {
            padding: 1rem;
            background: var(--bg-elevated);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .answer-option:hover {
            border-color: var(--shield-primary);
        }

        .answer-option.selected {
            border-color: var(--shield-primary);
            background: rgba(248, 113, 113, 0.1);
        }

        .answer-option.correct {
            border-color: var(--success);
            background: rgba(34, 197, 94, 0.2);
        }

        .answer-option.incorrect {
            border-color: var(--danger);
            background: rgba(239, 68, 68, 0.2);
        }

        .quiz-feedback {
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            display: none;
        }

        .quiz-feedback.correct {
            display: block;
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid var(--success);
        }

        .quiz-feedback.incorrect {
            display: block;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid var(--danger);
        }

        .quiz-score {
            text-align: center;
            font-size: 1.5rem;
            padding: 2rem;
            background: var(--bg-card);
            border-radius: 12px;
        }

        @media (max-width: 900px) {
            .models-grid { grid-template-columns: 1fr; }
            .scenario-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">‚Üê Back to Shield House</a>

        <header>
            <h1>üîí Access Control Models</h1>
            <p class="subtitle">Compare RBAC, MAC, DAC, ABAC and understand when to use each</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="overview">üìö Overview</button>
            <button class="tab-btn" data-tab="compare">üìä Comparison</button>
            <button class="tab-btn" data-tab="scenario">üéØ Scenario Selector</button>
            <button class="tab-btn" data-tab="quiz">üìù Knowledge Check</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="models-grid">
                <div class="model-card rbac">
                    <div class="model-header">
                        <span class="model-icon">üë•</span>
                        <div class="model-title">
                            <h3>RBAC</h3>
                            <span class="full-name">Role-Based Access Control</span>
                        </div>
                    </div>
                    <p class="model-desc">Access decisions based on user roles. Users are assigned roles, and roles have permissions. Most common in enterprise environments.</p>
                    <div class="model-features">
                        <h4>Key Characteristics</h4>
                        <ul class="feature-list">
                            <li>Permissions assigned to roles, not users</li>
                            <li>Users assigned to one or more roles</li>
                            <li>Simplifies administration at scale</li>
                            <li>Supports separation of duties</li>
                            <li>Best for: Enterprise, structured orgs</li>
                        </ul>
                    </div>
                </div>

                <div class="model-card mac">
                    <div class="model-header">
                        <span class="model-icon">üîê</span>
                        <div class="model-title">
                            <h3>MAC</h3>
                            <span class="full-name">Mandatory Access Control</span>
                        </div>
                    </div>
                    <p class="model-desc">System enforces access based on security labels. Users cannot change permissions - only admins can. Highest security, least flexibility.</p>
                    <div class="model-features">
                        <h4>Key Characteristics</h4>
                        <ul class="feature-list">
                            <li>Classification levels (Top Secret, Secret, etc.)</li>
                            <li>Enforced by OS/system, not users</li>
                            <li>No discretionary sharing allowed</li>
                            <li>Bell-LaPadula, Biba models</li>
                            <li>Best for: Military, government, high security</li>
                        </ul>
                    </div>
                </div>

                <div class="model-card dac">
                    <div class="model-header">
                        <span class="model-icon">üë§</span>
                        <div class="model-title">
                            <h3>DAC</h3>
                            <span class="full-name">Discretionary Access Control</span>
                        </div>
                    </div>
                    <p class="model-desc">Resource owners control access. Users can share permissions at their discretion. Most flexible, but harder to audit.</p>
                    <div class="model-features">
                        <h4>Key Characteristics</h4>
                        <ul class="feature-list">
                            <li>Owner decides who gets access</li>
                            <li>Access Control Lists (ACLs)</li>
                            <li>Flexible but decentralized</li>
                            <li>Can lead to access sprawl</li>
                            <li>Best for: File sharing, small teams</li>
                        </ul>
                    </div>
                </div>

                <div class="model-card abac">
                    <div class="model-header">
                        <span class="model-icon">üè∑Ô∏è</span>
                        <div class="model-title">
                            <h3>ABAC</h3>
                            <span class="full-name">Attribute-Based Access Control</span>
                        </div>
                    </div>
                    <p class="model-desc">Access based on attributes (user, resource, environment). Most granular and dynamic. Complex to implement but very powerful.</p>
                    <div class="model-features">
                        <h4>Key Characteristics</h4>
                        <ul class="feature-list">
                            <li>Evaluates multiple attributes</li>
                            <li>Policies like "IF dept=HR AND time=business-hours"</li>
                            <li>Context-aware decisions</li>
                            <li>Supports zero trust architectures</li>
                            <li>Best for: Cloud, dynamic environments</li>
                        </ul>
                    </div>
                </div>

                <div class="model-card rule">
                    <div class="model-header">
                        <span class="model-icon">üìã</span>
                        <div class="model-title">
                            <h3>Rule-Based</h3>
                            <span class="full-name">Rule-Based Access Control</span>
                        </div>
                    </div>
                    <p class="model-desc">Access determined by predefined rules, often based on conditions like time, location, or network. Used in firewalls and routers.</p>
                    <div class="model-features">
                        <h4>Key Characteristics</h4>
                        <ul class="feature-list">
                            <li>Conditional access rules</li>
                            <li>Often combined with other models</li>
                            <li>Common in network security</li>
                            <li>ACLs on routers/firewalls</li>
                            <li>Best for: Network devices, time-based access</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Tab -->
        <div id="compare" class="tab-content">
            <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>RBAC</th>
                            <th>MAC</th>
                            <th>DAC</th>
                            <th>ABAC</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Who Controls Access</strong></td>
                            <td>Admins (via roles)</td>
                            <td>System/Policy</td>
                            <td>Resource Owner</td>
                            <td>Policy Engine</td>
                        </tr>
                        <tr>
                            <td><strong>Flexibility</strong></td>
                            <td class="check-partial">Medium</td>
                            <td class="check-no">Low</td>
                            <td class="check-yes">High</td>
                            <td class="check-yes">Very High</td>
                        </tr>
                        <tr>
                            <td><strong>Scalability</strong></td>
                            <td class="check-yes">Excellent</td>
                            <td class="check-partial">Good</td>
                            <td class="check-no">Poor</td>
                            <td class="check-yes">Excellent</td>
                        </tr>
                        <tr>
                            <td><strong>Complexity</strong></td>
                            <td>Medium</td>
                            <td>High</td>
                            <td>Low</td>
                            <td>Very High</td>
                        </tr>
                        <tr>
                            <td><strong>Security Level</strong></td>
                            <td>Medium-High</td>
                            <td class="check-yes">Very High</td>
                            <td class="check-no">Low-Medium</td>
                            <td>High</td>
                        </tr>
                        <tr>
                            <td><strong>Audit Trail</strong></td>
                            <td class="check-yes">Good</td>
                            <td class="check-yes">Excellent</td>
                            <td class="check-no">Difficult</td>
                            <td class="check-yes">Excellent</td>
                        </tr>
                        <tr>
                            <td><strong>Least Privilege</strong></td>
                            <td class="check-yes">Supported</td>
                            <td class="check-yes">Enforced</td>
                            <td class="check-no">Hard to maintain</td>
                            <td class="check-yes">Dynamic</td>
                        </tr>
                        <tr>
                            <td><strong>Context-Aware</strong></td>
                            <td class="check-no">No</td>
                            <td class="check-no">No</td>
                            <td class="check-no">No</td>
                            <td class="check-yes">Yes</td>
                        </tr>
                        <tr>
                            <td><strong>Use Cases</strong></td>
                            <td>Enterprise, healthcare, finance</td>
                            <td>Military, government, classified</td>
                            <td>File sharing, personal systems</td>
                            <td>Cloud, zero trust, dynamic</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Scenario Tab -->
        <div id="scenario" class="tab-content">
            <div class="scenario-panel">
                <h2 class="scenario-title">üéØ Which Model Should You Use?</h2>
                <div class="scenario-grid">
                    <div class="scenario-input">
                        <h3 class="section-title">üìã Describe Your Scenario</h3>
                        <div class="form-group">
                            <label>Organization Type</label>
                            <select id="orgType">
                                <option value="enterprise">Large Enterprise</option>
                                <option value="government">Government/Military</option>
                                <option value="startup">Startup/Small Team</option>
                                <option value="cloud">Cloud-Native SaaS</option>
                                <option value="healthcare">Healthcare</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Primary Concern</label>
                            <select id="concern">
                                <option value="compliance">Regulatory Compliance</option>
                                <option value="security">Maximum Security</option>
                                <option value="flexibility">User Flexibility</option>
                                <option value="scale">Scalability</option>
                                <option value="context">Context-Aware Access</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Data Sensitivity</label>
                            <select id="sensitivity">
                                <option value="classified">Classified/Top Secret</option>
                                <option value="regulated">Regulated (HIPAA, PCI)</option>
                                <option value="confidential">Business Confidential</option>
                                <option value="internal">Internal Only</option>
                                <option value="public">Mostly Public</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Administration Preference</label>
                            <select id="admin">
                                <option value="centralized">Centralized Control</option>
                                <option value="delegated">Delegated to Departments</option>
                                <option value="owner">Owner-Managed</option>
                                <option value="dynamic">Policy-Based/Automated</option>
                            </select>
                        </div>
                        <button class="btn primary" onclick="recommendModel()">Get Recommendation</button>
                    </div>

                    <div class="scenario-output">
                        <h3 class="section-title">üéØ Recommendation</h3>
                        <div id="recommendation">
                            <p style="color: var(--text-secondary);">Configure your scenario and click "Get Recommendation"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div id="quizContainer"></div>
            <div class="quiz-score" id="quizScore" style="display: none;"></div>
        </div>
    </div>

    <script>
        // Tab Navigation
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');

                if (tabId === 'quiz') initQuiz();
            });
        });

        // Recommendation Engine
        function recommendModel() {
            const org = document.getElementById('orgType').value;
            const concern = document.getElementById('concern').value;
            const sensitivity = document.getElementById('sensitivity').value;
            const admin = document.getElementById('admin').value;

            let scores = { rbac: 0, mac: 0, dac: 0, abac: 0 };

            // Score based on org type
            if (org === 'enterprise') { scores.rbac += 3; scores.abac += 2; }
            if (org === 'government') { scores.mac += 5; scores.rbac += 2; }
            if (org === 'startup') { scores.dac += 3; scores.rbac += 1; }
            if (org === 'cloud') { scores.abac += 5; scores.rbac += 2; }
            if (org === 'healthcare') { scores.rbac += 3; scores.mac += 2; }

            // Score based on concern
            if (concern === 'compliance') { scores.rbac += 3; scores.mac += 2; }
            if (concern === 'security') { scores.mac += 5; scores.abac += 2; }
            if (concern === 'flexibility') { scores.dac += 4; scores.abac += 3; }
            if (concern === 'scale') { scores.rbac += 4; scores.abac += 4; }
            if (concern === 'context') { scores.abac += 5; }

            // Score based on sensitivity
            if (sensitivity === 'classified') { scores.mac += 5; }
            if (sensitivity === 'regulated') { scores.rbac += 3; scores.mac += 2; }
            if (sensitivity === 'confidential') { scores.rbac += 2; scores.abac += 2; }
            if (sensitivity === 'internal') { scores.rbac += 1; scores.dac += 2; }
            if (sensitivity === 'public') { scores.dac += 3; }

            // Score based on admin preference
            if (admin === 'centralized') { scores.rbac += 3; scores.mac += 3; }
            if (admin === 'delegated') { scores.rbac += 2; scores.abac += 2; }
            if (admin === 'owner') { scores.dac += 5; }
            if (admin === 'dynamic') { scores.abac += 5; }

            // Find winner
            const winner = Object.entries(scores).sort((a, b) => b[1] - a[1])[0];
            const modelNames = { rbac: 'RBAC', mac: 'MAC', dac: 'DAC', abac: 'ABAC' };
            const colors = { rbac: 'var(--info)', mac: 'var(--danger)', dac: 'var(--success)', abac: 'var(--purple)' };

            const reasoning = getReasoningFor(winner[0], org, concern, sensitivity, admin);

            document.getElementById('recommendation').innerHTML = `
                <div class="result-card">
                    <div class="result-model" style="color: ${colors[winner[0]]}">${modelNames[winner[0]]}</div>
                    <div class="result-reasoning">${reasoning}</div>
                </div>
                <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-card); border-radius: 8px;">
                    <strong>Score Breakdown:</strong><br>
                    <span style="color: var(--info)">RBAC: ${scores.rbac}</span> |
                    <span style="color: var(--danger)">MAC: ${scores.mac}</span> |
                    <span style="color: var(--success)">DAC: ${scores.dac}</span> |
                    <span style="color: var(--purple)">ABAC: ${scores.abac}</span>
                </div>
            `;
        }

        function getReasoningFor(model, org, concern, sensitivity, admin) {
            const reasons = {
                rbac: `RBAC is ideal for your ${org} organization. With ${concern} as your priority and ${sensitivity} data, role-based access provides the right balance of security and manageability. ${admin === 'centralized' ? 'Centralized administration works perfectly with RBAC.' : ''}`,
                mac: `MAC provides the strict, mandatory controls needed for ${sensitivity} data in a ${org} environment. Security labels and system-enforced access prevent unauthorized disclosure. This model is essential when ${concern} is the priority.`,
                dac: `DAC gives your ${org} team the flexibility to manage their own access. For ${sensitivity} data with ${concern} focus, owner-based permissions work well. Best combined with clear policies.`,
                abac: `ABAC's attribute-based policies are perfect for your ${org} environment. With ${concern} as a priority and the need for ${admin} administration, ABAC provides dynamic, context-aware access decisions.`
            };
            return reasons[model];
        }

        // Quiz System
        const quizQuestions = [
            {
                question: "In which access control model does the resource OWNER decide who gets access?",
                options: ["RBAC", "MAC", "DAC", "ABAC"],
                correct: 2,
                explanation: "DAC (Discretionary Access Control) allows resource owners to grant or deny access at their discretion using ACLs."
            },
            {
                question: "Which model uses security clearance levels like Top Secret, Secret, and Confidential?",
                options: ["RBAC", "MAC", "DAC", "ABAC"],
                correct: 1,
                explanation: "MAC (Mandatory Access Control) uses security labels/classifications enforced by the system, not users."
            },
            {
                question: "A policy like 'Allow access IF department=HR AND location=HQ AND time=9am-5pm' is an example of:",
                options: ["RBAC", "MAC", "DAC", "ABAC"],
                correct: 3,
                explanation: "ABAC (Attribute-Based Access Control) evaluates multiple attributes including user, resource, and environmental factors."
            },
            {
                question: "Which model is BEST suited for large enterprises with well-defined job functions?",
                options: ["RBAC", "MAC", "DAC", "ABAC"],
                correct: 0,
                explanation: "RBAC is designed for organizations with clear roles and responsibilities, making permission management scalable."
            },
            {
                question: "In MAC, who has the authority to change access permissions?",
                options: ["Resource owner", "Any user", "System administrator only", "The user requesting access"],
                correct: 2,
                explanation: "MAC is non-discretionary - only system administrators can modify security labels and access rules."
            }
        ];

        let currentQuiz = 0;
        let quizAnswers = [];

        function initQuiz() {
            currentQuiz = 0;
            quizAnswers = [];
            document.getElementById('quizScore').style.display = 'none';
            renderQuestion();
        }

        function renderQuestion() {
            const q = quizQuestions[currentQuiz];
            const container = document.getElementById('quizContainer');

            container.innerHTML = `
                <div class="quiz-question">
                    <p style="color: var(--text-secondary); margin-bottom: 0.5rem;">Question ${currentQuiz + 1} of ${quizQuestions.length}</p>
                    <p class="question-text">${q.question}</p>
                    <div class="answer-options">
                        ${q.options.map((opt, i) => `
                            <div class="answer-option" onclick="selectAnswer(${i})">${opt}</div>
                        `).join('')}
                    </div>
                    <div class="quiz-feedback" id="feedback"></div>
                </div>
            `;
        }

        function selectAnswer(index) {
            const q = quizQuestions[currentQuiz];
            const options = document.querySelectorAll('.answer-option');
            const feedback = document.getElementById('feedback');

            options.forEach((opt, i) => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                if (i === q.correct) opt.classList.add('correct');
                else if (i === index && i !== q.correct) opt.classList.add('incorrect');
                opt.style.pointerEvents = 'none';
            });

            quizAnswers.push(index === q.correct);

            feedback.className = 'quiz-feedback ' + (index === q.correct ? 'correct' : 'incorrect');
            feedback.innerHTML = `<strong>${index === q.correct ? '‚úì Correct!' : '‚úó Incorrect'}</strong><br>${q.explanation}`;

            setTimeout(() => {
                if (currentQuiz < quizQuestions.length - 1) {
                    currentQuiz++;
                    renderQuestion();
                } else {
                    showScore();
                }
            }, 2500);
        }

        function showScore() {
            const correct = quizAnswers.filter(a => a).length;
            document.getElementById('quizContainer').innerHTML = '';
            document.getElementById('quizScore').style.display = 'block';
            document.getElementById('quizScore').innerHTML = `
                <div style="font-size: 3rem; margin-bottom: 1rem;">${correct === quizQuestions.length ? 'üèÜ' : correct >= 3 ? 'üëç' : 'üìö'}</div>
                <div>You scored <strong style="color: var(--shield-primary)">${correct}</strong> out of ${quizQuestions.length}</div>
                <button class="btn primary" style="margin-top: 1rem;" onclick="initQuiz()">Try Again</button>
            `;
        }
    </script>
</body>
</html>
