<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Security Lab - Shield House</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(248, 113, 113, 0.1), rgba(248, 113, 113, 0.05));
            border-radius: 16px;
            border: 1px solid rgba(248, 113, 113, 0.3);
        }

        .header h1 {
            font-size: 2.2rem;
            color: #f87171;
            margin-bottom: 10px;
        }

        .header p {
            color: #a0a0a0;
            font-size: 1.1rem;
        }

        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            height: 12px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f87171, #fb923c);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            color: #888;
            font-size: 0.9rem;
        }

        .exercise {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
            overflow: hidden;
        }

        .exercise-header {
            background: rgba(248, 113, 113, 0.1);
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .exercise-header:hover {
            background: rgba(248, 113, 113, 0.15);
        }

        .exercise-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .exercise-number {
            background: #f87171;
            color: #000;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .exercise-name {
            font-size: 1.2rem;
            color: #fff;
        }

        .exercise-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .status-pending {
            background: rgba(100, 100, 100, 0.3);
            color: #888;
        }

        .status-complete {
            background: rgba(74, 222, 128, 0.2);
            color: #4ade80;
        }

        .exercise-content {
            padding: 25px;
            display: none;
        }

        .exercise.active .exercise-content {
            display: block;
        }

        .scenario {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }

        .scenario h4 {
            color: #60a5fa;
            margin-bottom: 8px;
        }

        .task-list {
            list-style: none;
            margin: 20px 0;
        }

        .task-item {
            padding: 12px 15px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .task-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #f87171;
        }

        .task-item.checked {
            background: rgba(74, 222, 128, 0.05);
            border-color: rgba(74, 222, 128, 0.2);
        }

        .task-item.checked label {
            text-decoration: line-through;
            color: #666;
        }

        .applet-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(248, 113, 113, 0.15);
            color: #f87171;
            padding: 10px 18px;
            border-radius: 8px;
            text-decoration: none;
            margin: 10px 10px 10px 0;
            border: 1px solid rgba(248, 113, 113, 0.3);
            transition: all 0.3s;
        }

        .applet-link:hover {
            background: rgba(248, 113, 113, 0.25);
            transform: translateY(-2px);
        }

        .question-section {
            background: rgba(168, 85, 247, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .question-section h4 {
            color: #a855f7;
            margin-bottom: 15px;
        }

        .question-section textarea {
            width: 100%;
            min-height: 100px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 8px;
            padding: 12px;
            color: #e0e0e0;
            font-family: inherit;
            resize: vertical;
        }

        .question-section textarea:focus {
            outline: none;
            border-color: #a855f7;
        }

        .complete-btn {
            background: linear-gradient(135deg, #f87171, #fb923c);
            color: #000;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(248, 113, 113, 0.4);
        }

        .complete-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .diagram {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre;
            color: #4ade80;
        }

        .hint {
            background: rgba(251, 191, 36, 0.1);
            border-left: 3px solid #fbbf24;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
            font-size: 0.9rem;
        }

        .hint-toggle {
            color: #fbbf24;
            cursor: pointer;
            text-decoration: underline;
        }

        .completion-badge {
            display: none;
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(74, 222, 128, 0.1), rgba(34, 197, 94, 0.05));
            border-radius: 16px;
            border: 2px solid rgba(74, 222, 128, 0.3);
            margin-top: 30px;
        }

        .completion-badge.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .completion-badge h2 {
            color: #4ade80;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .badge-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .next-steps {
            margin-top: 20px;
        }

        .next-steps a {
            display: inline-block;
            background: #f87171;
            color: #000;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin: 5px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #888;
            text-decoration: none;
            margin-bottom: 20px;
        }

        .back-link:hover {
            color: #f87171;
        }

        .firewall-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        .firewall-table th, .firewall-table td {
            border: 1px solid rgba(255,255,255,0.1);
            padding: 10px;
            text-align: left;
        }

        .firewall-table th {
            background: rgba(248, 113, 113, 0.2);
            color: #f87171;
        }

        .firewall-table tr:nth-child(even) {
            background: rgba(255,255,255,0.02);
        }

        .code-block {
            background: #0d1117;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .code-block .comment { color: #8b949e; }
        .code-block .command { color: #79c0ff; }
        .code-block .param { color: #a5d6ff; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† Back to Shield House</a>

        <div class="header">
            <h1>ğŸŒ Network Security Lab</h1>
            <p>Hands-on exercises in firewalls, VPNs, IDS/IPS, and network defense</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text"><span id="completedCount">0</span> of 6 exercises completed</div>
        </div>

        <!-- Exercise 1: Firewall Fundamentals -->
        <div class="exercise active" data-exercise="1">
            <div class="exercise-header" onclick="toggleExercise(1)">
                <div class="exercise-title">
                    <div class="exercise-number">1</div>
                    <div class="exercise-name">Firewall Fundamentals</div>
                </div>
                <span class="exercise-status status-pending" id="status1">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>Your organization needs to configure a perimeter firewall to protect the internal network. You must create rules that allow legitimate traffic while blocking threats.</p>
                </div>

                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Internet   â”‚â”€â”€â”€â”€â–¶â”‚  Firewall  â”‚â”€â”€â”€â”€â–¶â”‚ Internal Networkâ”‚
â”‚  (Untrust)  â”‚     â”‚   Rules    â”‚     â”‚    (Trust)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                    â”‚    DMZ    â”‚
                    â”‚ (Servers) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t1-1" onchange="checkTask(1)">
                        <label for="t1-1">Explore the Firewall Simulator applet to understand packet filtering</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-2" onchange="checkTask(1)">
                        <label for="t1-2">Create a rule to allow inbound HTTPS (port 443) to the web server</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-3" onchange="checkTask(1)">
                        <label for="t1-3">Create a rule to block all inbound Telnet (port 23) connections</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-4" onchange="checkTask(1)">
                        <label for="t1-4">Configure NAT for outbound traffic from internal network</label>
                    </li>
                </ul>

                <p><strong>Explore the visualizers:</strong></p>
                <a href="../applets/network/firewalls/FirewallSimulator.html" class="applet-link">ğŸ”¥ Firewall Simulator</a>
                <a href="../applets/network/nat_pat/NatPatSimulator.html" class="applet-link">ğŸ”„ NAT/PAT Simulator</a>

                <div class="question-section">
                    <h4>ğŸ’­ Reflection Question</h4>
                    <p>What is the difference between stateful and stateless firewalls? When would you use each?</p>
                    <textarea id="q1" placeholder="Type your answer here..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(1)" id="btn1">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 2: VPN Configuration -->
        <div class="exercise" data-exercise="2">
            <div class="exercise-header" onclick="toggleExercise(2)">
                <div class="exercise-title">
                    <div class="exercise-number">2</div>
                    <div class="exercise-name">VPN Architecture & Tunneling</div>
                </div>
                <span class="exercise-status status-pending" id="status2">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>Remote employees need secure access to corporate resources. Design a VPN solution that provides encrypted tunnels for remote connectivity.</p>
                </div>

                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          Encrypted Tunnel          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Remote     â”‚â—€â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¶â”‚  Corporate   â”‚
â”‚   Worker     â”‚    IPsec / SSL VPN Connection      â”‚   Gateway    â”‚
â”‚   (Laptop)   â”‚                                    â”‚   (Server)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                    â”‚
       â–¼                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Public      â”‚                                    â”‚  Internal    â”‚
â”‚  Internet    â”‚                                    â”‚  Resources   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t2-1" onchange="checkTask(2)">
                        <label for="t2-1">Use the VPN Explorer to understand tunnel types (Site-to-Site vs Remote Access)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-2" onchange="checkTask(2)">
                        <label for="t2-2">Compare IPsec vs SSL VPN protocols and their use cases</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-3" onchange="checkTask(2)">
                        <label for="t2-3">Identify the encryption algorithms used in IKE Phase 1 and Phase 2</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-4" onchange="checkTask(2)">
                        <label for="t2-4">Document split tunneling risks and when to use full tunneling</label>
                    </li>
                </ul>

                <a href="../applets/network/vpn/VPNExplorer.html" class="applet-link">ğŸ” VPN Explorer</a>

                <div class="hint">
                    <span class="hint-toggle" onclick="this.nextElementSibling.style.display='block'">ğŸ’¡ Show Hint</span>
                    <p style="display:none;margin-top:10px;">Split tunneling allows users to access both VPN and internet directly, improving performance but creating security risks. Full tunneling routes all traffic through the VPN, providing better security monitoring.</p>
                </div>

                <div class="question-section">
                    <h4>ğŸ’­ Analysis Question</h4>
                    <p>Your CEO wants to use split tunneling to improve video call quality. What security risks would you explain, and what compensating controls might you suggest?</p>
                    <textarea id="q2" placeholder="Type your analysis here..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(2)" id="btn2">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 3: IDS/IPS -->
        <div class="exercise" data-exercise="3">
            <div class="exercise-header" onclick="toggleExercise(3)">
                <div class="exercise-title">
                    <div class="exercise-number">3</div>
                    <div class="exercise-name">Intrusion Detection & Prevention</div>
                </div>
                <span class="exercise-status status-pending" id="status3">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>The security team has deployed a network-based IDS/IPS. Your task is to understand how it detects threats and configure appropriate responses.</p>
                </div>

                <table class="firewall-table">
                    <tr>
                        <th>Detection Method</th>
                        <th>Description</th>
                        <th>Pros</th>
                        <th>Cons</th>
                    </tr>
                    <tr>
                        <td>Signature-Based</td>
                        <td>Matches known attack patterns</td>
                        <td>Low false positives for known threats</td>
                        <td>Cannot detect zero-day attacks</td>
                    </tr>
                    <tr>
                        <td>Anomaly-Based</td>
                        <td>Detects deviations from baseline</td>
                        <td>Can detect novel attacks</td>
                        <td>Higher false positive rate</td>
                    </tr>
                    <tr>
                        <td>Heuristic/Behavioral</td>
                        <td>Analyzes behavior patterns</td>
                        <td>Detects variants of known threats</td>
                        <td>Requires tuning and training</td>
                    </tr>
                </table>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t3-1" onchange="checkTask(3)">
                        <label for="t3-1">Explore the IDS/IPS Simulator to understand detection modes</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-2" onchange="checkTask(3)">
                        <label for="t3-2">Analyze a signature rule and identify what attack it detects</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-3" onchange="checkTask(3)">
                        <label for="t3-3">Compare NIDS vs HIDS deployment scenarios</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-4" onchange="checkTask(3)">
                        <label for="t3-4">Configure an IPS response (drop, reset, alert) for a detected attack</label>
                    </li>
                </ul>

                <a href="../applets/network/ids_ips/IdsIpsSimulator.html" class="applet-link">ğŸ›¡ï¸ IDS/IPS Simulator</a>

                <div class="code-block">
<span class="comment"># Example Snort Rule (SQL Injection Detection)</span>
<span class="command">alert</span> tcp $EXTERNAL_NET any -> $HTTP_SERVERS $HTTP_PORTS (
    <span class="param">msg:</span>"SQL Injection Attempt";
    <span class="param">flow:</span>to_server,established;
    <span class="param">content:</span>"' OR '1'='1";
    <span class="param">nocase;</span>
    <span class="param">sid:</span>100001;
    <span class="param">rev:</span>1;
)
                </div>

                <div class="question-section">
                    <h4>ğŸ’­ Critical Thinking</h4>
                    <p>An IPS is blocking legitimate traffic from a business partner (false positive). How would you investigate and resolve this while maintaining security?</p>
                    <textarea id="q3" placeholder="Describe your approach..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(3)" id="btn3">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 4: Protocol Analysis -->
        <div class="exercise" data-exercise="4">
            <div class="exercise-header" onclick="toggleExercise(4)">
                <div class="exercise-title">
                    <div class="exercise-number">4</div>
                    <div class="exercise-name">TCP/IP Protocol Analysis</div>
                </div>
                <span class="exercise-status status-pending" id="status4">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>Network traffic analysis is essential for security investigations. You need to understand how TCP connections are established and how to identify suspicious patterns.</p>
                </div>

                <div class="diagram">
TCP Three-Way Handshake:

   Client                    Server
     â”‚                         â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€ SYN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Step 1: Client initiates
     â”‚                         â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€ SYN-ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Step 2: Server acknowledges
     â”‚                         â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Step 3: Connection established
     â”‚                         â”‚
     â”‚â—€â•â•â•â•â•â•â• DATA â•â•â•â•â•â•â•â•â•â•â–¶â”‚  Data transfer begins
     â”‚                         â”‚

Attack Pattern (SYN Flood):
     â”‚â”€â”€â”€â”€â”€â”€â”€ SYN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€ SYN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Attacker sends many SYNs
     â”‚â”€â”€â”€â”€â”€â”€â”€ SYN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  but never completes handshake
     â”‚â”€â”€â”€â”€â”€â”€â”€ SYN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Server resources exhausted!
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t4-1" onchange="checkTask(4)">
                        <label for="t4-1">Use the TCP Handshake Simulator to visualize connection establishment</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-2" onchange="checkTask(4)">
                        <label for="t4-2">Analyze how a SYN flood attack works using the protocol visualizer</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-3" onchange="checkTask(4)">
                        <label for="t4-3">Identify the TCP flags used in a normal vs malicious connection</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-4" onchange="checkTask(4)">
                        <label for="t4-4">Document SYN cookies as a mitigation technique</label>
                    </li>
                </ul>

                <a href="../applets/network/threeway_handshake/ThreeWayHandshake.html" class="applet-link">ğŸ¤ TCP Handshake Simulator</a>
                <a href="../applets/network/protocol_analysis/ProtocolAnalyzer.html" class="applet-link">ğŸ“Š Protocol Analyzer</a>

                <div class="question-section">
                    <h4>ğŸ’­ Investigation Question</h4>
                    <p>You see many half-open connections from various IPs targeting port 80 on your web server. What attack is this, and what immediate steps would you take?</p>
                    <textarea id="q4" placeholder="Describe the attack and your response..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(4)" id="btn4">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 5: Wireless Security -->
        <div class="exercise" data-exercise="5">
            <div class="exercise-header" onclick="toggleExercise(5)">
                <div class="exercise-title">
                    <div class="exercise-number">5</div>
                    <div class="exercise-name">Wireless Network Security</div>
                </div>
                <span class="exercise-status status-pending" id="status5">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>Your organization is deploying a new wireless network. You need to understand wireless security protocols and configure secure authentication.</p>
                </div>

                <table class="firewall-table">
                    <tr>
                        <th>Protocol</th>
                        <th>Encryption</th>
                        <th>Security Level</th>
                        <th>Notes</th>
                    </tr>
                    <tr>
                        <td>WEP</td>
                        <td>RC4 (40/104-bit)</td>
                        <td style="color:#f87171;">âŒ Broken</td>
                        <td>Cracked in minutes, never use</td>
                    </tr>
                    <tr>
                        <td>WPA</td>
                        <td>TKIP</td>
                        <td style="color:#fbbf24;">âš ï¸ Deprecated</td>
                        <td>Transitional, avoid if possible</td>
                    </tr>
                    <tr>
                        <td>WPA2</td>
                        <td>AES-CCMP</td>
                        <td style="color:#4ade80;">âœ… Good</td>
                        <td>Industry standard, use Enterprise mode</td>
                    </tr>
                    <tr>
                        <td>WPA3</td>
                        <td>SAE + AES-GCMP</td>
                        <td style="color:#22c55e;">âœ… Best</td>
                        <td>Latest standard with forward secrecy</td>
                    </tr>
                </table>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t5-1" onchange="checkTask(5)">
                        <label for="t5-1">Explore WPA2-Enterprise with RADIUS authentication using the EAP visualizer</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-2" onchange="checkTask(5)">
                        <label for="t5-2">Compare WPA2-Personal (PSK) vs WPA2-Enterprise security</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-3" onchange="checkTask(5)">
                        <label for="t5-3">Identify common wireless attacks: Evil Twin, Deauth, KRACK</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-4" onchange="checkTask(5)">
                        <label for="t5-4">Document rogue AP detection strategies</label>
                    </li>
                </ul>

                <a href="../applets/network/wireless_security/WirelessSecurity.html" class="applet-link">ğŸ“¡ Wireless Security</a>
                <a href="../applets/network/eap/EAPExplorer.html" class="applet-link">ğŸ” EAP Explorer</a>

                <div class="question-section">
                    <h4>ğŸ’­ Design Question</h4>
                    <p>Design a wireless network for a hospital that needs to support medical devices, staff, and guest access. What security measures would you implement for each network segment?</p>
                    <textarea id="q5" placeholder="Describe your network design..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(5)" id="btn5">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 6: Defense in Depth -->
        <div class="exercise" data-exercise="6">
            <div class="exercise-header" onclick="toggleExercise(6)">
                <div class="exercise-title">
                    <div class="exercise-number">6</div>
                    <div class="exercise-name">Defense in Depth Architecture</div>
                </div>
                <span class="exercise-status status-pending" id="status6">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Scenario</h4>
                    <p>Combine all network security concepts into a layered defense strategy. No single security control is perfect, so we use multiple layers.</p>
                </div>

                <div class="diagram">
Defense in Depth Layers:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PERIMETER SECURITY                        â”‚
â”‚         Border Firewall â”‚ IPS â”‚ DDoS Protection             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    NETWORK SECURITY                          â”‚
â”‚    VLANs â”‚ NAC â”‚ Internal Firewalls â”‚ Network Segmentation  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    HOST SECURITY                             â”‚
â”‚      Host Firewall â”‚ AV/EDR â”‚ Patch Management â”‚ Hardening  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  APPLICATION SECURITY                        â”‚
â”‚           WAF â”‚ Input Validation â”‚ Secure Coding            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      DATA SECURITY                           â”‚
â”‚        Encryption â”‚ DLP â”‚ Access Controls â”‚ Backups         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t6-1" onchange="checkTask(6)">
                        <label for="t6-1">Map which controls protect against external threats vs insider threats</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t6-2" onchange="checkTask(6)">
                        <label for="t6-2">Design a network architecture with DMZ, internal zones, and management network</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t6-3" onchange="checkTask(6)">
                        <label for="t6-3">Identify where each network security tool fits in the defense layers</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t6-4" onchange="checkTask(6)">
                        <label for="t6-4">Create a security monitoring strategy using the tools explored</label>
                    </li>
                </ul>

                <a href="../applets/network/linux-firewall-builder.html" class="applet-link">ğŸ§ Linux Firewall Builder</a>
                <a href="../applets/network/browser-security-hardening.html" class="applet-link">ğŸŒ Browser Hardening</a>
                <a href="../applets/network/home-network-security.html" class="applet-link">ğŸ  Home Network Security</a>

                <div class="question-section">
                    <h4>ğŸ’­ Final Analysis</h4>
                    <p>An attacker has gained access to a user's workstation via phishing. Trace the path they would need to take to reach your database server, and identify which security controls should stop them at each layer.</p>
                    <textarea id="q6" placeholder="Describe the attack path and defensive controls..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(6)" id="btn6">Mark Complete</button>
            </div>
        </div>

        <!-- Completion Badge -->
        <div class="completion-badge" id="completionBadge">
            <div class="badge-icon">ğŸ†</div>
            <h2>Network Security Lab Complete!</h2>
            <p>You've mastered essential network security concepts including firewalls, VPNs, IDS/IPS, and defense in depth.</p>
            <div class="next-steps">
                <a href="quizzes/network-security-quiz.html">ğŸ“ Take the Quiz</a>
                <a href="../index.html">ğŸ›¡ï¸ Back to Shield</a>
            </div>
        </div>
    </div>

    <script>
        const TOTAL_EXERCISES = 6;
        let completedExercises = new Set();

        // Load saved progress
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            updateProgressBar();
        });

        function toggleExercise(num) {
            const exercise = document.querySelector(`[data-exercise="${num}"]`);
            const wasActive = exercise.classList.contains('active');

            // Close all exercises
            document.querySelectorAll('.exercise').forEach(ex => ex.classList.remove('active'));

            // Toggle the clicked one
            if (!wasActive) {
                exercise.classList.add('active');
            }
        }

        function checkTask(exerciseNum) {
            const exercise = document.querySelector(`[data-exercise="${exerciseNum}"]`);
            const checkboxes = exercise.querySelectorAll('input[type="checkbox"]');

            checkboxes.forEach(cb => {
                const taskItem = cb.closest('.task-item');
                if (cb.checked) {
                    taskItem.classList.add('checked');
                } else {
                    taskItem.classList.remove('checked');
                }
            });

            saveProgress();
        }

        function completeExercise(num) {
            completedExercises.add(num);

            const status = document.getElementById(`status${num}`);
            status.textContent = 'Complete';
            status.className = 'exercise-status status-complete';

            const btn = document.getElementById(`btn${num}`);
            btn.textContent = 'âœ“ Completed';
            btn.disabled = true;

            updateProgressBar();
            saveProgress();

            // Open next exercise
            if (num < TOTAL_EXERCISES) {
                setTimeout(() => toggleExercise(num + 1), 500);
            }

            // Show completion badge if all done
            if (completedExercises.size === TOTAL_EXERCISES) {
                document.getElementById('completionBadge').classList.add('show');
            }
        }

        function updateProgressBar() {
            const progress = (completedExercises.size / TOTAL_EXERCISES) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('completedCount').textContent = completedExercises.size;
        }

        function saveProgress() {
            const data = {
                completed: Array.from(completedExercises),
                checkboxes: {},
                answers: {}
            };

            // Save checkbox states
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                data.checkboxes[cb.id] = cb.checked;
            });

            // Save textarea answers
            document.querySelectorAll('textarea').forEach(ta => {
                data.answers[ta.id] = ta.value;
            });

            localStorage.setItem('shield_network_lab', JSON.stringify(data));
        }

        function loadProgress() {
            const saved = localStorage.getItem('shield_network_lab');
            if (!saved) return;

            const data = JSON.parse(saved);

            // Restore completed exercises
            if (data.completed) {
                data.completed.forEach(num => {
                    completedExercises.add(num);
                    const status = document.getElementById(`status${num}`);
                    status.textContent = 'Complete';
                    status.className = 'exercise-status status-complete';

                    const btn = document.getElementById(`btn${num}`);
                    btn.textContent = 'âœ“ Completed';
                    btn.disabled = true;
                });
            }

            // Restore checkboxes
            if (data.checkboxes) {
                Object.entries(data.checkboxes).forEach(([id, checked]) => {
                    const cb = document.getElementById(id);
                    if (cb) {
                        cb.checked = checked;
                        if (checked) {
                            cb.closest('.task-item').classList.add('checked');
                        }
                    }
                });
            }

            // Restore answers
            if (data.answers) {
                Object.entries(data.answers).forEach(([id, value]) => {
                    const ta = document.getElementById(id);
                    if (ta) ta.value = value;
                });
            }

            // Show badge if complete
            if (completedExercises.size === TOTAL_EXERCISES) {
                document.getElementById('completionBadge').classList.add('show');
            }
        }
    </script>
</body>
</html>
