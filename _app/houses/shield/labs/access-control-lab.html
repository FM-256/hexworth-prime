<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Access Control Lab - Shield House</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(248, 113, 113, 0.1), rgba(248, 113, 113, 0.05));
            border-radius: 16px;
            border: 1px solid rgba(248, 113, 113, 0.3);
        }
        .header h1 { font-size: 2.2rem; color: #f87171; margin-bottom: 10px; }
        .header p { color: #a0a0a0; font-size: 1.1rem; }
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            height: 12px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f87171, #fb923c);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }
        .progress-text { text-align: center; color: #888; font-size: 0.9rem; }
        .exercise {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
            overflow: hidden;
        }
        .exercise-header {
            background: rgba(248, 113, 113, 0.1);
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .exercise-header:hover { background: rgba(248, 113, 113, 0.15); }
        .exercise-title { display: flex; align-items: center; gap: 15px; }
        .exercise-number {
            background: #f87171;
            color: #000;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .exercise-name { font-size: 1.2rem; color: #fff; }
        .exercise-status { padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; }
        .status-pending { background: rgba(100, 100, 100, 0.3); color: #888; }
        .status-complete { background: rgba(74, 222, 128, 0.2); color: #4ade80; }
        .exercise-content { padding: 25px; display: none; }
        .exercise.active .exercise-content { display: block; }
        .scenario {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }
        .scenario h4 { color: #60a5fa; margin-bottom: 8px; }
        .task-list { list-style: none; margin: 20px 0; }
        .task-item {
            padding: 12px 15px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .task-item input[type="checkbox"] { width: 20px; height: 20px; accent-color: #f87171; }
        .task-item.checked { background: rgba(74, 222, 128, 0.05); border-color: rgba(74, 222, 128, 0.2); }
        .task-item.checked label { text-decoration: line-through; color: #666; }
        .applet-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(248, 113, 113, 0.15);
            color: #f87171;
            padding: 10px 18px;
            border-radius: 8px;
            text-decoration: none;
            margin: 10px 10px 10px 0;
            border: 1px solid rgba(248, 113, 113, 0.3);
            transition: all 0.3s;
        }
        .applet-link:hover { background: rgba(248, 113, 113, 0.25); transform: translateY(-2px); }
        .question-section {
            background: rgba(168, 85, 247, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .question-section h4 { color: #a855f7; margin-bottom: 15px; }
        .question-section textarea {
            width: 100%;
            min-height: 100px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 8px;
            padding: 12px;
            color: #e0e0e0;
            font-family: inherit;
            resize: vertical;
        }
        .question-section textarea:focus { outline: none; border-color: #a855f7; }
        .complete-btn {
            background: linear-gradient(135deg, #f87171, #fb923c);
            color: #000;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .complete-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(248, 113, 113, 0.4); }
        .complete-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .diagram {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre;
            color: #4ade80;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid rgba(255,255,255,0.1);
            padding: 10px;
            text-align: left;
        }
        .comparison-table th { background: rgba(248, 113, 113, 0.2); color: #f87171; }
        .comparison-table tr:nth-child(even) { background: rgba(255,255,255,0.02); }
        .concept-box {
            background: rgba(251, 191, 36, 0.1);
            border-left: 3px solid #fbbf24;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        .concept-box h4 { color: #fbbf24; margin-bottom: 10px; }
        .completion-badge {
            display: none;
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(74, 222, 128, 0.1), rgba(34, 197, 94, 0.05));
            border-radius: 16px;
            border: 2px solid rgba(74, 222, 128, 0.3);
            margin-top: 30px;
        }
        .completion-badge.show { display: block; animation: fadeIn 0.5s ease; }
        .completion-badge h2 { color: #4ade80; font-size: 2rem; margin-bottom: 10px; }
        .badge-icon { font-size: 4rem; margin-bottom: 15px; }
        .next-steps { margin-top: 20px; }
        .next-steps a {
            display: inline-block;
            background: #f87171;
            color: #000;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin: 5px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #888;
            text-decoration: none;
            margin-bottom: 20px;
        }
        .back-link:hover { color: #f87171; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† Back to Shield House</a>

        <div class="header">
            <h1>ğŸ”’ Access Control Lab</h1>
            <p>Hands-on exercises in authentication, authorization, and access control models</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text"><span id="completedCount">0</span> of 5 exercises completed</div>
        </div>

        <!-- Exercise 1: Access Control Models -->
        <div class="exercise active" data-exercise="1">
            <div class="exercise-header" onclick="toggleExercise(1)">
                <div class="exercise-title">
                    <div class="exercise-number">1</div>
                    <div class="exercise-name">Access Control Models</div>
                </div>
                <span class="exercise-status status-pending" id="status1">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Understanding Authorization Models</h4>
                    <p>Access control models define HOW access decisions are made. Each model has different characteristics suited for different environments.</p>
                </div>

                <table class="comparison-table">
                    <tr>
                        <th>Model</th>
                        <th>Description</th>
                        <th>Best For</th>
                    </tr>
                    <tr>
                        <td><strong>DAC</strong><br>Discretionary</td>
                        <td>Resource owner controls access. Owner can grant/revoke permissions to others.</td>
                        <td>Home systems, small businesses, file sharing</td>
                    </tr>
                    <tr>
                        <td><strong>MAC</strong><br>Mandatory</td>
                        <td>System enforces access based on security labels. Users cannot change permissions.</td>
                        <td>Military, government, high-security environments</td>
                    </tr>
                    <tr>
                        <td><strong>RBAC</strong><br>Role-Based</td>
                        <td>Access based on user's role in organization. Roles have assigned permissions.</td>
                        <td>Enterprise, healthcare, most organizations</td>
                    </tr>
                    <tr>
                        <td><strong>ABAC</strong><br>Attribute-Based</td>
                        <td>Access based on attributes (user, resource, environment, action).</td>
                        <td>Cloud, dynamic environments, fine-grained control</td>
                    </tr>
                </table>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t1-1" onchange="checkTask(1)">
                        <label for="t1-1">Explore the Access Control Visualizer to understand DAC, MAC, and RBAC</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-2" onchange="checkTask(1)">
                        <label for="t1-2">Create a sample RBAC structure for a hospital (roles: doctor, nurse, admin, patient)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-3" onchange="checkTask(1)">
                        <label for="t1-3">Compare Windows NTFS permissions (DAC) vs SELinux (MAC)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t1-4" onchange="checkTask(1)">
                        <label for="t1-4">Document when you would choose each model for different scenarios</label>
                    </li>
                </ul>

                <a href="../applets/access/access_control/access_control.html" class="applet-link">ğŸ” Access Control Visualizer</a>

                <div class="question-section">
                    <h4>ğŸ’­ Design Question</h4>
                    <p>A financial company wants to implement access control for their trading platform. They need to restrict access based on department, seniority level, and time of day (trading hours only). Which model would you recommend and why?</p>
                    <textarea id="q1" placeholder="Recommend and justify your access control model choice..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(1)" id="btn1">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 2: Authentication Factors -->
        <div class="exercise" data-exercise="2">
            <div class="exercise-header" onclick="toggleExercise(2)">
                <div class="exercise-title">
                    <div class="exercise-number">2</div>
                    <div class="exercise-name">Authentication Factors</div>
                </div>
                <span class="exercise-status status-pending" id="status2">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ The Three Authentication Factors</h4>
                    <p>Authentication verifies identity. Strong authentication combines multiple factors for defense in depth.</p>
                </div>

                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION FACTORS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SOMETHING YOU  â”‚  SOMETHING YOU  â”‚     SOMETHING YOU           â”‚
â”‚      KNOW       â”‚      HAVE       â”‚         ARE                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Password     â”‚  â€¢ Smart card   â”‚  â€¢ Fingerprint              â”‚
â”‚  â€¢ PIN          â”‚  â€¢ Security key â”‚  â€¢ Face recognition         â”‚
â”‚  â€¢ Security Q   â”‚  â€¢ Phone (OTP)  â”‚  â€¢ Iris scan                â”‚
â”‚  â€¢ Passphrase   â”‚  â€¢ Badge/Token  â”‚  â€¢ Voice print              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Multi-Factor Authentication (MFA) = 2+ factors from DIFFERENT categories
Example: Password (know) + Phone OTP (have) = âœ… True MFA
Example: Password + PIN = âŒ NOT MFA (both "know")
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t2-1" onchange="checkTask(2)">
                        <label for="t2-1">Explore the Biometrics Visualizer to understand biometric authentication</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-2" onchange="checkTask(2)">
                        <label for="t2-2">Compare FAR (False Accept Rate) vs FRR (False Reject Rate) tradeoffs</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-3" onchange="checkTask(2)">
                        <label for="t2-3">Research the concept of CER (Crossover Error Rate) in biometrics</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t2-4" onchange="checkTask(2)">
                        <label for="t2-4">Identify strengths and weaknesses of each biometric type</label>
                    </li>
                </ul>

                <a href="../applets/access/biometrics/Biometrics.html" class="applet-link">ğŸ–ï¸ Biometrics Visualizer</a>

                <div class="concept-box">
                    <h4>Biometric Considerations</h4>
                    <ul style="margin-left: 20px;">
                        <li><strong>FAR (False Accept):</strong> Unauthorized user accepted - Security risk</li>
                        <li><strong>FRR (False Reject):</strong> Authorized user rejected - Usability issue</li>
                        <li><strong>CER:</strong> Point where FAR = FRR (lower = better biometric)</li>
                        <li><strong>Spoofing:</strong> Biometrics can be faked (photos, gummy fingers)</li>
                    </ul>
                </div>

                <div class="question-section">
                    <h4>ğŸ’­ Security Analysis</h4>
                    <p>A datacenter wants to implement biometric access control. Compare fingerprint vs iris scanning for this use case. Which would you recommend and what backup authentication method would you include?</p>
                    <textarea id="q2" placeholder="Compare biometric options for datacenter access..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(2)" id="btn2">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 3: Kerberos Authentication -->
        <div class="exercise" data-exercise="3">
            <div class="exercise-header" onclick="toggleExercise(3)">
                <div class="exercise-title">
                    <div class="exercise-number">3</div>
                    <div class="exercise-name">Kerberos Authentication Protocol</div>
                </div>
                <span class="exercise-status status-pending" id="status3">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Network Authentication with Kerberos</h4>
                    <p>Kerberos is the authentication backbone of Active Directory. Understanding its ticket-based system is crucial for enterprise security.</p>
                </div>

                <div class="diagram">
KERBEROS AUTHENTICATION FLOW

  User                    KDC (Key Distribution Center)              Service
    â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
    â”‚                     â”‚    AS    â”‚   TGS    â”‚                       â”‚
    â”‚                     â”‚(Auth Svc)â”‚(Ticket   â”‚                       â”‚
    â”‚                     â”‚          â”‚Granting) â”‚                       â”‚
    â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
    â”‚                              â”‚                                    â”‚
    â”‚â”€â”€â”€ 1. AS-REQ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (I am user X, need TGT)          â”‚
    â”‚â—€â”€â”€ 2. AS-REP (TGT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (Here's your Ticket Granting Ticket)
    â”‚                              â”‚                                    â”‚
    â”‚â”€â”€â”€ 3. TGS-REQ (TGT) â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (I have TGT, need access to Service)
    â”‚â—€â”€â”€ 4. TGS-REP (Service Ticket)â”‚  (Here's ticket for that service) â”‚
    â”‚                              â”‚                                    â”‚
    â”‚â”€â”€â”€ 5. AP-REQ (Service Ticket)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚â—€â”€â”€ 6. AP-REP (Access Granted)â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚                                                                   â”‚

Key Concept: User password never sent over network!
- Password used to decrypt TGT locally
- Tickets expire (usually 10 hours)
- Single Sign-On: One login, access many services
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t3-1" onchange="checkTask(3)">
                        <label for="t3-1">Use the Kerberos Visualizer to step through the authentication flow</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-2" onchange="checkTask(3)">
                        <label for="t3-2">Identify the role of the Authentication Service (AS) vs Ticket Granting Service (TGS)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-3" onchange="checkTask(3)">
                        <label for="t3-3">Understand why passwords never traverse the network in Kerberos</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t3-4" onchange="checkTask(3)">
                        <label for="t3-4">Research Golden Ticket and Silver Ticket attacks</label>
                    </li>
                </ul>

                <a href="../applets/access/kerberos/kerberos.html" class="applet-link">ğŸŸï¸ Kerberos Visualizer</a>

                <div class="concept-box">
                    <h4>Kerberos Attack Vectors</h4>
                    <ul style="margin-left: 20px;">
                        <li><strong>Pass-the-Ticket:</strong> Stealing and reusing Kerberos tickets</li>
                        <li><strong>Golden Ticket:</strong> Forged TGT using krbtgt hash (domain-wide access)</li>
                        <li><strong>Silver Ticket:</strong> Forged service ticket (access to specific service)</li>
                        <li><strong>Kerberoasting:</strong> Requesting service tickets to crack offline</li>
                    </ul>
                </div>

                <div class="question-section">
                    <h4>ğŸ’­ Incident Response</h4>
                    <p>An attacker has compromised the krbtgt account hash in your Active Directory. What is the impact, and what steps must be taken to fully remediate this incident?</p>
                    <textarea id="q3" placeholder="Describe the impact and remediation steps..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(3)" id="btn3">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 4: Principle of Least Privilege -->
        <div class="exercise" data-exercise="4">
            <div class="exercise-header" onclick="toggleExercise(4)">
                <div class="exercise-title">
                    <div class="exercise-number">4</div>
                    <div class="exercise-name">Principle of Least Privilege</div>
                </div>
                <span class="exercise-status status-pending" id="status4">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Minimizing Attack Surface</h4>
                    <p>The Principle of Least Privilege (PoLP) states that users, programs, and systems should have only the minimum permissions needed to perform their tasks.</p>
                </div>

                <div class="diagram">
BAD: Over-Privileged Access
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Developer  â”‚ â”€â”€â–¶ Full Admin Access to ALL servers
â”‚   Account    â”‚     Production DB: READ/WRITE/DELETE
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     AWS Console: AdministratorAccess
                     Source Code: All Repositories

GOOD: Least Privilege
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Developer  â”‚ â”€â”€â–¶ Dev Server: Admin
â”‚   Account    â”‚     Staging DB: READ/WRITE
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Prod DB: READ ONLY (via approval)
                     AWS: DeveloperPowerUser role
                     Source Code: Team repositories only

IMPACT: If developer account is compromised...
- BAD: Attacker has full access to everything
- GOOD: Attacker has limited blast radius
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t4-1" onchange="checkTask(4)">
                        <label for="t4-1">Audit a hypothetical user account for excessive permissions</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-2" onchange="checkTask(4)">
                        <label for="t4-2">Design a role structure that follows least privilege for a web application</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-3" onchange="checkTask(4)">
                        <label for="t4-3">Understand Just-In-Time (JIT) access and Privileged Access Management (PAM)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t4-4" onchange="checkTask(4)">
                        <label for="t4-4">Compare sudo vs running as root - why is sudo preferred?</label>
                    </li>
                </ul>

                <div class="question-section">
                    <h4>ğŸ’­ Implementation Challenge</h4>
                    <p>Your organization's IT team has been using a shared "admin" account for server maintenance. Describe the risks and propose a plan to transition to least-privilege access without disrupting operations.</p>
                    <textarea id="q4" placeholder="Identify risks and create transition plan..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(4)" id="btn4">Mark Complete</button>
            </div>
        </div>

        <!-- Exercise 5: Identity and Access Management -->
        <div class="exercise" data-exercise="5">
            <div class="exercise-header" onclick="toggleExercise(5)">
                <div class="exercise-title">
                    <div class="exercise-number">5</div>
                    <div class="exercise-name">Identity and Access Management (IAM)</div>
                </div>
                <span class="exercise-status status-pending" id="status5">Pending</span>
            </div>
            <div class="exercise-content">
                <div class="scenario">
                    <h4>ğŸ“‹ Enterprise Identity Lifecycle</h4>
                    <p>IAM encompasses the entire lifecycle of digital identities - from onboarding to offboarding - and includes provisioning, authentication, authorization, and audit.</p>
                </div>

                <div class="diagram">
IDENTITY LIFECYCLE

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  PROVISION  â”‚â”€â”€â”€â”€â–¶â”‚   MANAGE    â”‚â”€â”€â”€â”€â–¶â”‚ DEPROVISION â”‚
  â”‚  (Joiner)   â”‚     â”‚  (Active)   â”‚     â”‚  (Leaver)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
  â€¢ Create accounts   â€¢ Password reset    â€¢ Disable accounts
  â€¢ Assign roles      â€¢ Role changes      â€¢ Revoke access
  â€¢ Initial access    â€¢ Access reviews    â€¢ Archive data
  â€¢ MFA enrollment    â€¢ Recertification   â€¢ License recovery

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   AUDIT     â”‚
                    â”‚  (Always)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
               â€¢ Access logs â€¢ Compliance reports
               â€¢ Anomaly detection â€¢ Attestation
                </div>

                <h4>ğŸ¯ Tasks</h4>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" id="t5-1" onchange="checkTask(5)">
                        <label for="t5-1">Map out the identity lifecycle for an employee at a company</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-2" onchange="checkTask(5)">
                        <label for="t5-2">Understand the concept of access reviews and recertification</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-3" onchange="checkTask(5)">
                        <label for="t5-3">Research Single Sign-On (SSO) using SAML or OAuth/OIDC</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" id="t5-4" onchange="checkTask(5)">
                        <label for="t5-4">Identify the risks of orphaned accounts (active accounts for departed users)</label>
                    </li>
                </ul>

                <div class="concept-box">
                    <h4>Common IAM Failures</h4>
                    <ul style="margin-left: 20px;">
                        <li><strong>Orphaned accounts:</strong> Former employees retain access</li>
                        <li><strong>Permission creep:</strong> Accumulated privileges from role changes</li>
                        <li><strong>Shared accounts:</strong> No individual accountability</li>
                        <li><strong>No access reviews:</strong> Stale permissions never cleaned up</li>
                        <li><strong>Weak offboarding:</strong> Not revoking all access immediately</li>
                    </ul>
                </div>

                <div class="question-section">
                    <h4>ğŸ’­ Final Challenge</h4>
                    <p>Design an IAM policy for a 500-person company that includes: employee onboarding/offboarding procedures, contractor access management, and quarterly access reviews. What systems and processes would you implement?</p>
                    <textarea id="q5" placeholder="Design your comprehensive IAM policy..."></textarea>
                </div>

                <button class="complete-btn" onclick="completeExercise(5)" id="btn5">Mark Complete</button>
            </div>
        </div>

        <!-- Completion Badge -->
        <div class="completion-badge" id="completionBadge">
            <div class="badge-icon">ğŸ†</div>
            <h2>Access Control Lab Complete!</h2>
            <p>You've mastered authentication, authorization, access control models, Kerberos, and IAM.</p>
            <div class="next-steps">
                <a href="../quizzes/access-control-quiz.html">ğŸ“ Take the Quiz</a>
                <a href="../index.html">ğŸ›¡ï¸ Back to Shield</a>
            </div>
        </div>
    </div>

    <script>
        const TOTAL_EXERCISES = 5;
        let completedExercises = new Set();

        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            updateProgressBar();
        });

        function toggleExercise(num) {
            const exercise = document.querySelector(`[data-exercise="${num}"]`);
            const wasActive = exercise.classList.contains('active');
            document.querySelectorAll('.exercise').forEach(ex => ex.classList.remove('active'));
            if (!wasActive) exercise.classList.add('active');
        }

        function checkTask(exerciseNum) {
            const exercise = document.querySelector(`[data-exercise="${exerciseNum}"]`);
            exercise.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                const taskItem = cb.closest('.task-item');
                taskItem.classList.toggle('checked', cb.checked);
            });
            saveProgress();
        }

        function completeExercise(num) {
            completedExercises.add(num);
            document.getElementById(`status${num}`).textContent = 'Complete';
            document.getElementById(`status${num}`).className = 'exercise-status status-complete';
            document.getElementById(`btn${num}`).textContent = 'âœ“ Completed';
            document.getElementById(`btn${num}`).disabled = true;
            updateProgressBar();
            saveProgress();
            if (num < TOTAL_EXERCISES) setTimeout(() => toggleExercise(num + 1), 500);
            if (completedExercises.size === TOTAL_EXERCISES) {
                document.getElementById('completionBadge').classList.add('show');
            }
        }

        function updateProgressBar() {
            const progress = (completedExercises.size / TOTAL_EXERCISES) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('completedCount').textContent = completedExercises.size;
        }

        function saveProgress() {
            const data = {
                completed: Array.from(completedExercises),
                checkboxes: {},
                answers: {}
            };
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                data.checkboxes[cb.id] = cb.checked;
            });
            document.querySelectorAll('textarea').forEach(ta => {
                data.answers[ta.id] = ta.value;
            });
            localStorage.setItem('shield_access_lab', JSON.stringify(data));
        }

        function loadProgress() {
            const saved = localStorage.getItem('shield_access_lab');
            if (!saved) return;
            const data = JSON.parse(saved);
            if (data.completed) {
                data.completed.forEach(num => {
                    completedExercises.add(num);
                    document.getElementById(`status${num}`).textContent = 'Complete';
                    document.getElementById(`status${num}`).className = 'exercise-status status-complete';
                    document.getElementById(`btn${num}`).textContent = 'âœ“ Completed';
                    document.getElementById(`btn${num}`).disabled = true;
                });
            }
            if (data.checkboxes) {
                Object.entries(data.checkboxes).forEach(([id, checked]) => {
                    const cb = document.getElementById(id);
                    if (cb) {
                        cb.checked = checked;
                        if (checked) cb.closest('.task-item').classList.add('checked');
                    }
                });
            }
            if (data.answers) {
                Object.entries(data.answers).forEach(([id, value]) => {
                    const ta = document.getElementById(id);
                    if (ta) ta.value = value;
                });
            }
            if (completedExercises.size === TOTAL_EXERCISES) {
                document.getElementById('completionBadge').classList.add('show');
            }
        }
    </script>
</body>
</html>
