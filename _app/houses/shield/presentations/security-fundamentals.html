<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Fundamentals - House of the Shield</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --shield-emerald: #10b981;
            --shield-cyan: #22d3ee;
            --shield-glow-emerald: rgba(16, 185, 129, 0.4);
            --shield-glow-cyan: rgba(34, 211, 238, 0.4);
            --bg-dark: #0a0a12;
            --bg-card: rgba(15, 15, 25, 0.8);
            --text-primary: #e8e8f0;
            --text-secondary: #8888aa;
            --accent-red: #ef4444;
        }

        body {
            min-height: 100vh;
            background: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Header */
        .module-header {
            padding: 20px 30px;
            background: rgba(10, 10, 18, 0.95);
            border-bottom: 1px solid rgba(16, 185, 129, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            background: transparent;
            color: var(--shield-emerald);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 1.2rem;
        }

        .back-btn:hover {
            background: rgba(16, 185, 129, 0.1);
            box-shadow: 0 0 10px var(--shield-glow-emerald);
        }

        .module-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .house-badge {
            font-size: 0.7rem;
            padding: 4px 12px;
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 20px;
            color: var(--shield-emerald);
            letter-spacing: 0.1em;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .print-btn {
            padding: 8px 16px;
            background: transparent;
            border: 1px solid rgba(34, 211, 238, 0.3);
            border-radius: 6px;
            color: var(--shield-cyan);
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }

        .print-btn:hover {
            background: rgba(34, 211, 238, 0.1);
            box-shadow: 0 0 10px var(--shield-glow-cyan);
        }

        /* Progress Indicator */
        .progress-indicator {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 10px;
            padding: 15px;
            z-index: 900;
            backdrop-filter: blur(10px);
            min-width: 200px;
        }

        .progress-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            letter-spacing: 0.05em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--shield-emerald), var(--shield-cyan));
            border-radius: 4px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--shield-glow-emerald);
        }

        .progress-count {
            font-size: 0.7rem;
            color: var(--shield-cyan);
            text-align: right;
        }

        /* Main Content */
        .module-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        /* Intro Section */
        .intro-section {
            text-align: center;
            margin-bottom: 50px;
        }

        .intro-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px var(--shield-glow-emerald));
        }

        .intro-title {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--shield-emerald), var(--shield-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .intro-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 30px;
            line-height: 1.7;
        }

        /* Table of Contents */
        .toc {
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 25px 30px;
            margin-bottom: 40px;
        }

        .toc h3 {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--shield-emerald);
            margin-bottom: 20px;
        }

        .toc-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
        }

        .toc-item {
            padding: 10px 15px;
            background: rgba(0, 0, 0, 0.3);
            border-left: 3px solid var(--shield-cyan);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .toc-item:hover {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--shield-emerald);
            transform: translateX(5px);
        }

        .toc-item.completed {
            opacity: 0.6;
        }

        .toc-item.completed::before {
            content: '‚úì ';
            color: var(--shield-emerald);
            font-weight: bold;
        }

        /* Section */
        .section {
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
            scroll-margin-top: 80px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(16, 185, 129, 0.2);
        }

        .section-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--shield-emerald), var(--shield-cyan));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--bg-dark);
            box-shadow: 0 0 20px var(--shield-glow-emerald);
        }

        .section-title h2 {
            font-size: 1.8rem;
            font-weight: 500;
            color: var(--shield-emerald);
            margin-bottom: 5px;
        }

        .section-title p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .section-content h3 {
            font-size: 1.3rem;
            color: var(--shield-cyan);
            margin: 25px 0 15px;
        }

        .section-content h4 {
            font-size: 1.1rem;
            color: var(--shield-emerald);
            margin: 20px 0 10px;
        }

        .section-content p {
            font-size: 1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .section-content ul, .section-content ol {
            margin: 15px 0 20px 25px;
        }

        .section-content li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        /* Expandable Subsections */
        .expandable {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(34, 211, 238, 0.2);
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .expandable-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .expandable-header:hover {
            background: rgba(34, 211, 238, 0.1);
        }

        .expandable-header h4 {
            margin: 0;
            color: var(--shield-cyan);
            font-size: 1.05rem;
        }

        .expandable-icon {
            transition: transform 0.3s ease;
            color: var(--shield-cyan);
        }

        .expandable.expanded .expandable-icon {
            transform: rotate(180deg);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .expandable.expanded .expandable-content {
            max-height: 2000px;
        }

        .expandable-inner {
            padding: 20px;
        }

        /* Highlight Boxes */
        .highlight-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 211, 238, 0.1));
            border-left: 4px solid var(--shield-emerald);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box.info {
            border-color: var(--shield-cyan);
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.1), rgba(16, 185, 129, 0.1));
        }

        .highlight-box.warning {
            border-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(234, 88, 12, 0.1));
        }

        .highlight-box.danger {
            border-color: var(--accent-red);
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));
        }

        .highlight-box strong {
            color: var(--shield-emerald);
            display: block;
            margin-bottom: 8px;
        }

        /* Visual Diagrams */
        .diagram {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: 12px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .diagram-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--shield-cyan);
            margin-bottom: 20px;
        }

        /* CIA Triad Triangle */
        .cia-triangle {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 400px;
            margin: 0 auto;
        }

        .triangle-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 20px var(--shield-glow-emerald));
        }

        .triangle-path {
            fill: transparent;
            stroke: var(--shield-emerald);
            stroke-width: 2;
            opacity: 0.5;
        }

        .triangle-vertex {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .triangle-vertex:hover {
            transform: scale(1.1);
        }

        /* Defense in Depth Layers */
        .defense-layers {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }

        .defense-layer {
            background: linear-gradient(90deg, rgba(16, 185, 129, 0.2), rgba(34, 211, 238, 0.1));
            border: 1px solid var(--shield-emerald);
            border-radius: 8px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .defense-layer:hover {
            transform: translateX(10px);
            box-shadow: 0 0 20px var(--shield-glow-emerald);
        }

        .layer-number {
            width: 40px;
            height: 40px;
            background: var(--shield-emerald);
            color: var(--bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .layer-content h4 {
            margin: 0 0 5px;
            color: var(--shield-cyan);
            font-size: 1.05rem;
        }

        .layer-content p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Flashcards */
        .flashcard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .flashcard {
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 10px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            perspective: 1000px;
        }

        .flashcard:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shield-glow-emerald);
            border-color: var(--shield-cyan);
        }

        .flashcard-term {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--shield-emerald);
            margin-bottom: 15px;
            text-align: center;
        }

        .flashcard-definition {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
            display: none;
        }

        .flashcard.flipped .flashcard-term {
            display: none;
        }

        .flashcard.flipped .flashcard-definition {
            display: block;
        }

        .flashcard-hint {
            position: absolute;
            bottom: 10px;
            right: 15px;
            font-size: 0.7rem;
            color: var(--shield-cyan);
            opacity: 0.6;
        }

        /* Quick Reference Cards */
        .reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .reference-card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(34, 211, 238, 0.3);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .reference-card:hover {
            border-color: var(--shield-emerald);
            box-shadow: 0 5px 20px var(--shield-glow-cyan);
        }

        .reference-card h4 {
            color: var(--shield-cyan);
            margin: 0 0 15px;
            font-size: 1.1rem;
        }

        .reference-card ul {
            margin: 0;
            padding: 0 0 0 20px;
        }

        .reference-card li {
            font-size: 0.9rem;
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        /* Comparison Tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 0.95rem;
        }

        .comparison-table th {
            background: linear-gradient(135deg, var(--shield-emerald), var(--shield-cyan));
            color: var(--bg-dark);
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(16, 185, 129, 0.2);
            padding: 12px;
            color: var(--text-secondary);
        }

        .comparison-table tr:hover td {
            background: rgba(16, 185, 129, 0.1);
        }

        /* Quiz Section */
        .quiz-section {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 211, 238, 0.1));
            border: 2px solid var(--shield-emerald);
            border-radius: 12px;
            padding: 40px;
            margin-top: 50px;
            text-align: center;
        }

        .quiz-section h2 {
            font-size: 2rem;
            color: var(--shield-emerald);
            margin-bottom: 15px;
        }

        .quiz-section p {
            font-size: 1.05rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            line-height: 1.7;
        }

        .quiz-container {
            display: none;
        }

        .quiz-container.active {
            display: block;
        }

        .question {
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 25px;
            text-align: left;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            font-size: 0.85rem;
            color: var(--shield-cyan);
            font-weight: 600;
        }

        .question-text {
            font-size: 1.15rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--shield-emerald);
        }

        .option.selected {
            border-color: var(--shield-cyan);
            background: rgba(34, 211, 238, 0.1);
        }

        .option.correct {
            border-color: var(--shield-emerald);
            background: rgba(16, 185, 129, 0.2);
        }

        .option.incorrect {
            border-color: var(--accent-red);
            background: rgba(239, 68, 68, 0.1);
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option-letter {
            width: 30px;
            height: 30px;
            background: var(--shield-emerald);
            color: var(--bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .option-text {
            flex: 1;
            font-size: 0.95rem;
        }

        .quiz-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .quiz-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--shield-emerald), var(--shield-cyan));
            border: none;
            border-radius: 8px;
            color: var(--bg-dark);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px var(--shield-glow-emerald);
        }

        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .quiz-btn.secondary {
            background: transparent;
            border: 1px solid var(--shield-emerald);
            color: var(--shield-emerald);
        }

        .quiz-results {
            display: none;
            text-align: center;
        }

        .quiz-results.active {
            display: block;
        }

        .score-display {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--shield-emerald), var(--shield-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }

        .score-message {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .results-breakdown {
            background: var(--bg-card);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            text-align: left;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        /* Footer */
        .module-footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(16, 185, 129, 0.2);
            margin-top: 50px;
        }

        .footer-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
            letter-spacing: 0.1em;
        }

        /* Print Styles */
        @media print {
            .module-header,
            .progress-indicator,
            .print-btn,
            .quiz-section {
                display: none;
            }

            body {
                background: white;
                color: black;
            }

            .section {
                page-break-inside: avoid;
                border: 1px solid #333;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .module-content {
                padding: 30px 20px;
            }

            .intro-title {
                font-size: 2rem;
            }

            .section {
                padding: 25px 20px;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .progress-indicator {
                display: none;
            }

            .flashcard-grid,
            .reference-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="module-header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <span class="module-title">Security Fundamentals</span>
        </div>
        <div class="header-actions">
            <button class="print-btn" onclick="window.print()">Print</button>
            <span class="house-badge">HOUSE OF THE SHIELD</span>
        </div>
    </header>

    <div class="progress-indicator">
        <div class="progress-text">MODULE PROGRESS</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div class="progress-count" id="progressCount">0 / 5 Sections</div>
    </div>

    <main class="module-content">
        <!-- Introduction -->
        <section class="intro-section">
            <div class="intro-icon">üõ°Ô∏è</div>
            <h1 class="intro-title">Security Fundamentals</h1>
            <p class="intro-subtitle">
                Master the foundational principles that underpin all cybersecurity practices. From the CIA Triad to cryptography,
                from authentication to network security - this comprehensive module covers the essential knowledge every security
                professional must possess. Build your shield from the ground up.
            </p>
        </section>

        <!-- Table of Contents -->
        <div class="toc">
            <h3>Module Contents</h3>
            <ul class="toc-list">
                <li class="toc-item" onclick="scrollToSection('section1')">Section 1: Core Security Principles</li>
                <li class="toc-item" onclick="scrollToSection('section2')">Section 2: Threats & Risks</li>
                <li class="toc-item" onclick="scrollToSection('section3')">Section 3: Authentication & Access Control</li>
                <li class="toc-item" onclick="scrollToSection('section4')">Section 4: Cryptography Basics</li>
                <li class="toc-item" onclick="scrollToSection('section5')">Section 5: Network Security</li>
            </ul>
        </div>

        <!-- SECTION 1: Core Security Principles -->
        <section class="section" id="section1" data-section="1">
            <div class="section-header">
                <div class="section-number">1</div>
                <div class="section-title">
                    <h2>Core Security Principles</h2>
                    <p>The foundational concepts that define information security</p>
                </div>
            </div>
            <div class="section-content">
                <h3>The CIA Triad: The Foundation of Security</h3>
                <p>
                    Every security control, policy, and technology serves to protect one or more aspects of the CIA Triad.
                    Understanding this model is essential for analyzing threats, designing defenses, and evaluating risk.
                </p>

                <div class="diagram">
                    <div class="diagram-title">The CIA Triad</div>
                    <div class="cia-triangle">
                        <svg class="triangle-svg" viewBox="0 0 400 350">
                            <polygon class="triangle-path" points="200,30 50,320 350,320" />
                            <text x="200" y="20" text-anchor="middle" fill="#10b981" font-size="20" font-weight="bold">CONFIDENTIALITY</text>
                            <text x="40" y="345" text-anchor="middle" fill="#10b981" font-size="20" font-weight="bold">INTEGRITY</text>
                            <text x="360" y="345" text-anchor="middle" fill="#10b981" font-size="20" font-weight="bold">AVAILABILITY</text>
                        </svg>
                    </div>
                </div>

                <!-- Confidentiality -->
                <div class="expandable" id="confidentiality">
                    <div class="expandable-header" onclick="toggleExpandable('confidentiality')">
                        <h4>Confidentiality: Protecting Information from Unauthorized Access</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Confidentiality ensures that sensitive information is accessible only to those authorized to view it.
                                It's about maintaining secrecy and preventing unauthorized disclosure of data.
                            </p>

                            <h4>Key Concepts:</h4>
                            <ul>
                                <li><strong>Data at Rest:</strong> Protecting stored data through encryption, access controls, and physical security</li>
                                <li><strong>Data in Transit:</strong> Securing data as it moves across networks using protocols like TLS/SSL</li>
                                <li><strong>Data in Use:</strong> Protecting data during processing through secure enclaves and memory protection</li>
                                <li><strong>Need-to-Know Principle:</strong> Granting access only to those who require it for their job function</li>
                            </ul>

                            <h4>Protection Mechanisms:</h4>
                            <div class="reference-grid">
                                <div class="reference-card">
                                    <h4>Encryption</h4>
                                    <ul>
                                        <li>AES-256 for data at rest</li>
                                        <li>TLS 1.3 for data in transit</li>
                                        <li>End-to-end encryption</li>
                                        <li>Full disk encryption (BitLocker, FileVault)</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>Access Control</h4>
                                    <ul>
                                        <li>Access Control Lists (ACLs)</li>
                                        <li>Role-Based Access Control (RBAC)</li>
                                        <li>Attribute-Based Access Control (ABAC)</li>
                                        <li>File permissions and ownership</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>Authentication</h4>
                                    <ul>
                                        <li>Strong password policies</li>
                                        <li>Multi-factor authentication (MFA)</li>
                                        <li>Biometric verification</li>
                                        <li>Certificate-based authentication</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="highlight-box info">
                                <strong>Real-World Example:</strong>
                                When you access your bank account over HTTPS, confidentiality is maintained through: (1) TLS encryption protecting
                                your credentials in transit, (2) authentication verifying your identity, (3) access controls ensuring you only see
                                your own account data, and (4) encryption of stored data on the bank's servers.
                            </div>

                            <div class="highlight-box danger">
                                <strong>Common Threats to Confidentiality:</strong>
                                Eavesdropping, man-in-the-middle attacks, credential theft, social engineering, insider threats, unencrypted
                                communications, weak access controls, data leakage through side channels.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Integrity -->
                <div class="expandable" id="integrity">
                    <div class="expandable-header" onclick="toggleExpandable('integrity')">
                        <h4>Integrity: Ensuring Data Accuracy and Trustworthiness</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Integrity ensures that data remains accurate, complete, and unmodified except by authorized processes.
                                It's about maintaining trust in your data and detecting unauthorized changes.
                            </p>

                            <h4>Key Concepts:</h4>
                            <ul>
                                <li><strong>Data Integrity:</strong> Ensuring data hasn't been altered in unauthorized ways</li>
                                <li><strong>System Integrity:</strong> Ensuring systems operate correctly and haven't been compromised</li>
                                <li><strong>Origin Integrity:</strong> Verifying the source of data or communications</li>
                                <li><strong>Non-Repudiation:</strong> Preventing denial of actions or transactions</li>
                            </ul>

                            <h4>Protection Mechanisms:</h4>
                            <div class="reference-grid">
                                <div class="reference-card">
                                    <h4>Hashing</h4>
                                    <ul>
                                        <li>SHA-256, SHA-3 for file integrity</li>
                                        <li>MD5 for checksums (not security)</li>
                                        <li>File integrity monitoring (FIM)</li>
                                        <li>Blockchain for tamper-evidence</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>Digital Signatures</h4>
                                    <ul>
                                        <li>RSA signatures</li>
                                        <li>ECDSA (Elliptic Curve)</li>
                                        <li>Code signing certificates</li>
                                        <li>Email signing (S/MIME)</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>Version Control</h4>
                                    <ul>
                                        <li>Git for code integrity</li>
                                        <li>Change tracking in documents</li>
                                        <li>Audit logs and trails</li>
                                        <li>Write-once, read-many (WORM) storage</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="highlight-box info">
                                <strong>Real-World Example:</strong>
                                When you download software, the publisher provides a SHA-256 hash. After downloading, you compute the hash
                                of your file and compare it. If they match, you know: (1) the file wasn't corrupted during transfer,
                                (2) no one tampered with it, and (3) it's exactly what the publisher released.
                            </div>

                            <div class="highlight-box danger">
                                <strong>Common Threats to Integrity:</strong>
                                Man-in-the-middle attacks, malware injection, SQL injection, unauthorized file modifications, data corruption,
                                bit flipping, replay attacks, tampering with logs or audit trails.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Availability -->
                <div class="expandable" id="availability">
                    <div class="expandable-header" onclick="toggleExpandable('availability')">
                        <h4>Availability: Ensuring Systems Are Accessible When Needed</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Availability ensures that information and systems are accessible to authorized users when required.
                                It's about uptime, reliability, and resilience against disruption.
                            </p>

                            <h4>Key Concepts:</h4>
                            <ul>
                                <li><strong>Uptime:</strong> The percentage of time a system is operational (e.g., 99.9% = "three nines")</li>
                                <li><strong>Redundancy:</strong> Backup systems and components to prevent single points of failure</li>
                                <li><strong>Fault Tolerance:</strong> Ability to continue operating despite component failures</li>
                                <li><strong>Disaster Recovery:</strong> Procedures to restore operations after catastrophic events</li>
                            </ul>

                            <h4>Protection Mechanisms:</h4>
                            <div class="reference-grid">
                                <div class="reference-card">
                                    <h4>Redundancy</h4>
                                    <ul>
                                        <li>RAID arrays for disk redundancy</li>
                                        <li>Server clustering and load balancing</li>
                                        <li>Multiple network paths</li>
                                        <li>Geographic distribution (CDNs)</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>Backup & Recovery</h4>
                                    <ul>
                                        <li>Regular automated backups</li>
                                        <li>Offsite backup storage</li>
                                        <li>Recovery Point Objective (RPO)</li>
                                        <li>Recovery Time Objective (RTO)</li>
                                    </ul>
                                </div>
                                <div class="reference-card">
                                    <h4>DDoS Protection</h4>
                                    <ul>
                                        <li>Rate limiting and throttling</li>
                                        <li>CDN-based mitigation</li>
                                        <li>Anycast network distribution</li>
                                        <li>Traffic scrubbing services</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="highlight-box info">
                                <strong>Real-World Example:</strong>
                                Netflix uses multiple availability strategies: (1) content delivery networks (CDNs) distribute content globally,
                                (2) load balancers spread traffic across servers, (3) auto-scaling adds capacity during peak times,
                                (4) chaos engineering tests system resilience, and (5) multi-region deployments ensure geographic redundancy.
                            </div>

                            <div class="highlight-box danger">
                                <strong>Common Threats to Availability:</strong>
                                DDoS attacks, hardware failures, power outages, natural disasters, ransomware, resource exhaustion,
                                network disruptions, human error, software bugs causing crashes.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Principle of Least Privilege -->
                <h3>Principle of Least Privilege</h3>
                <p>
                    Users, processes, and systems should have only the minimum access rights necessary to perform their functions.
                    This limits the damage from accidents, errors, or malicious actions.
                </p>

                <div class="highlight-box">
                    <strong>Why It Matters:</strong>
                    If a user account is compromised, the attacker can only access what that user had permission to access.
                    If every user has admin rights, every compromise is a complete system takeover.
                </div>

                <h4>Implementation Strategies:</h4>
                <ul>
                    <li>Regular access reviews and audits to remove unnecessary permissions</li>
                    <li>Just-in-time (JIT) access that grants elevated privileges only when needed</li>
                    <li>Separation of duties - no single user should have complete control</li>
                    <li>Default deny - start with no access, grant only what's necessary</li>
                    <li>Service accounts with minimal permissions for automated processes</li>
                </ul>

                <!-- Defense in Depth -->
                <h3>Defense in Depth</h3>
                <p>
                    Multiple layers of security controls throughout an IT system. If one layer fails, others continue to provide protection.
                    Also known as "layered security" or the "castle approach."
                </p>

                <div class="diagram">
                    <div class="diagram-title">Defense in Depth Layers</div>
                    <div class="defense-layers">
                        <div class="defense-layer">
                            <div class="layer-number">1</div>
                            <div class="layer-content">
                                <h4>Physical Security</h4>
                                <p>Locks, guards, access cards, surveillance cameras, secure facilities</p>
                            </div>
                        </div>
                        <div class="defense-layer">
                            <div class="layer-number">2</div>
                            <div class="layer-content">
                                <h4>Network Perimeter</h4>
                                <p>Firewalls, IDS/IPS, DMZ, network segmentation, VPNs</p>
                            </div>
                        </div>
                        <div class="defense-layer">
                            <div class="layer-number">3</div>
                            <div class="layer-content">
                                <h4>Host Security</h4>
                                <p>Antivirus, host-based firewalls, EDR, patch management</p>
                            </div>
                        </div>
                        <div class="defense-layer">
                            <div class="layer-number">4</div>
                            <div class="layer-content">
                                <h4>Application Security</h4>
                                <p>Input validation, secure coding, WAF, application firewalls</p>
                            </div>
                        </div>
                        <div class="defense-layer">
                            <div class="layer-number">5</div>
                            <div class="layer-content">
                                <h4>Data Security</h4>
                                <p>Encryption, DLP, access controls, data classification</p>
                            </div>
                        </div>
                        <div class="defense-layer">
                            <div class="layer-number">6</div>
                            <div class="layer-content">
                                <h4>Policies & Procedures</h4>
                                <p>Security awareness training, incident response plans, acceptable use policies</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="highlight-box warning">
                    <strong>Key Principle:</strong>
                    No single security control is perfect. By implementing multiple layers, you ensure that even if an attacker
                    breaches one layer, they still face additional obstacles. This dramatically increases the cost and difficulty
                    of a successful attack.
                </div>
            </div>
        </section>

        <!-- SECTION 2: Threats & Risks -->
        <section class="section" id="section2" data-section="2">
            <div class="section-header">
                <div class="section-number">2</div>
                <div class="section-title">
                    <h2>Threats & Risks</h2>
                    <p>Understanding and assessing security threats and vulnerabilities</p>
                </div>
            </div>
            <div class="section-content">
                <h3>Understanding the Threat Landscape</h3>
                <p>
                    Before you can defend against threats, you must understand what they are and how they differ from related concepts.
                    These terms are often confused, but each has a specific meaning in security.
                </p>

                <!-- Key Definitions -->
                <div class="flashcard-grid">
                    <div class="flashcard" onclick="flipCard(this)">
                        <div class="flashcard-term">Threat</div>
                        <div class="flashcard-definition">
                            Any circumstance or event with the potential to adversely impact an asset through unauthorized access,
                            destruction, disclosure, modification, or denial of service. Examples: hackers, malware, natural disasters,
                            insider threats.
                        </div>
                        <span class="flashcard-hint">Click to reveal</span>
                    </div>

                    <div class="flashcard" onclick="flipCard(this)">
                        <div class="flashcard-term">Vulnerability</div>
                        <div class="flashcard-definition">
                            A weakness in a system, application, or process that could be exploited by a threat. Examples: unpatched software,
                            weak passwords, misconfigured firewalls, missing encryption, poor physical security.
                        </div>
                        <span class="flashcard-hint">Click to reveal</span>
                    </div>

                    <div class="flashcard" onclick="flipCard(this)">
                        <div class="flashcard-term">Exploit</div>
                        <div class="flashcard-definition">
                            A method or technique used to take advantage of a vulnerability. Could be code (like an exploit kit),
                            a procedure (like phishing), or a physical action (like tailgating into a secure facility).
                        </div>
                        <span class="flashcard-hint">Click to reveal</span>
                    </div>

                    <div class="flashcard" onclick="flipCard(this)">
                        <div class="flashcard-term">Risk</div>
                        <div class="flashcard-definition">
                            The likelihood that a threat will exploit a vulnerability, combined with the potential impact if it does.
                            Risk = Threat √ó Vulnerability √ó Impact. It's what we're actually trying to manage in security.
                        </div>
                        <span class="flashcard-hint">Click to reveal</span>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>The Relationship:</strong>
                    A <strong>threat actor</strong> (hacker) identifies a <strong>vulnerability</strong> (unpatched web server).
                    They use an <strong>exploit</strong> (publicly available code) to attack the system. The <strong>risk</strong>
                    is determined by how likely this is to happen and how much damage it would cause.
                </div>

                <h3>Risk Assessment Basics</h3>
                <p>
                    Risk assessment is the process of identifying, analyzing, and evaluating risks to determine appropriate security controls.
                    It answers three fundamental questions:
                </p>

                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>1. What can go wrong?</h4>
                        <ul>
                            <li>Identify assets (data, systems, people)</li>
                            <li>Identify threats to those assets</li>
                            <li>Identify vulnerabilities that could be exploited</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>2. How likely is it?</h4>
                        <ul>
                            <li>Probability of threat occurrence</li>
                            <li>Ease of exploiting vulnerabilities</li>
                            <li>Threat actor motivation and capability</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>3. What are the consequences?</h4>
                        <ul>
                            <li>Financial impact (losses, fines, recovery costs)</li>
                            <li>Operational impact (downtime, lost productivity)</li>
                            <li>Reputational impact (customer trust, brand damage)</li>
                        </ul>
                    </div>
                </div>

                <h4>Risk Assessment Methodologies:</h4>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Methodology</th>
                            <th>Approach</th>
                            <th>Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Qualitative</strong></td>
                            <td>Uses descriptive scales (High/Medium/Low) based on expert judgment</td>
                            <td>Quick assessments, limited data, strategic planning</td>
                        </tr>
                        <tr>
                            <td><strong>Quantitative</strong></td>
                            <td>Uses numerical values and statistical analysis (ALE, SLE, ARO)</td>
                            <td>Financial justification, detailed analysis, comparing options</td>
                        </tr>
                        <tr>
                            <td><strong>Semi-Quantitative</strong></td>
                            <td>Combines descriptive scales with numerical ranges</td>
                            <td>Balancing precision with practicality</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Key Quantitative Terms:</h4>
                <ul>
                    <li><strong>Asset Value (AV):</strong> The monetary value of an asset</li>
                    <li><strong>Exposure Factor (EF):</strong> Percentage of asset value lost in an incident (0-100%)</li>
                    <li><strong>Single Loss Expectancy (SLE):</strong> Expected loss from one incident (AV √ó EF)</li>
                    <li><strong>Annual Rate of Occurrence (ARO):</strong> Expected frequency of incident per year</li>
                    <li><strong>Annual Loss Expectancy (ALE):</strong> Expected annual loss (SLE √ó ARO)</li>
                </ul>

                <div class="highlight-box info">
                    <strong>Example Calculation:</strong>
                    A server worth $50,000 (AV) has a vulnerability. If exploited, it would cause 60% damage (EF).
                    This threat occurs approximately twice per year (ARO).<br><br>
                    SLE = $50,000 √ó 0.60 = $30,000<br>
                    ALE = $30,000 √ó 2 = $60,000<br><br>
                    You can justify spending up to $60,000/year on controls to mitigate this risk.
                </div>

                <h3>Impact Analysis</h3>
                <p>
                    Understanding the potential consequences of a security incident is crucial for prioritizing resources and planning responses.
                </p>

                <h4>Types of Impact:</h4>
                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>Financial Impact</h4>
                        <ul>
                            <li>Direct losses (stolen funds, ransomware payments)</li>
                            <li>Recovery costs (forensics, remediation)</li>
                            <li>Regulatory fines (GDPR, HIPAA violations)</li>
                            <li>Legal costs (lawsuits, settlements)</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Operational Impact</h4>
                        <ul>
                            <li>System downtime and unavailability</li>
                            <li>Lost productivity</li>
                            <li>Service disruption to customers</li>
                            <li>Supply chain interruptions</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Reputational Impact</h4>
                        <ul>
                            <li>Loss of customer trust</li>
                            <li>Negative media coverage</li>
                            <li>Brand damage</li>
                            <li>Competitive disadvantage</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Strategic Impact</h4>
                        <ul>
                            <li>Loss of intellectual property</li>
                            <li>Competitive intelligence leaked</li>
                            <li>Strategic advantage to competitors</li>
                            <li>Market position erosion</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box warning">
                    <strong>Impact Timeframes:</strong>
                    Consider both immediate impacts (system down right now) and long-term impacts (customer trust eroded over months).
                    Some of the most serious consequences don't show up until weeks or months after an incident.
                </div>
            </div>
        </section>

        <!-- SECTION 3: Authentication & Access Control -->
        <section class="section" id="section3" data-section="3">
            <div class="section-header">
                <div class="section-number">3</div>
                <div class="section-title">
                    <h2>Authentication & Access Control</h2>
                    <p>Verifying identity and controlling resource access</p>
                </div>
            </div>
            <div class="section-content">
                <h3>Authentication: Proving Who You Are</h3>
                <p>
                    Authentication is the process of verifying the identity of a user, process, or device before allowing access to resources.
                    It answers the question: "Are you who you claim to be?"
                </p>

                <h4>The Three Factors of Authentication</h4>
                <p>
                    Authentication methods are categorized based on what type of credential they require:
                </p>

                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>Something You Know</h4>
                        <ul>
                            <li>Passwords and passphrases</li>
                            <li>PINs (Personal Identification Numbers)</li>
                            <li>Security questions</li>
                            <li>Pattern locks</li>
                        </ul>
                        <div class="highlight-box warning">
                            <strong>Weakness:</strong> Can be forgotten, guessed, or stolen through phishing/keylogging.
                        </div>
                    </div>
                    <div class="reference-card">
                        <h4>Something You Have</h4>
                        <ul>
                            <li>Smart cards and access badges</li>
                            <li>Hardware tokens (YubiKey, RSA SecurID)</li>
                            <li>Mobile phone (for SMS or app-based codes)</li>
                            <li>Cryptographic certificates</li>
                        </ul>
                        <div class="highlight-box warning">
                            <strong>Weakness:</strong> Can be lost, stolen, or duplicated.
                        </div>
                    </div>
                    <div class="reference-card">
                        <h4>Something You Are</h4>
                        <ul>
                            <li>Fingerprint recognition</li>
                            <li>Facial recognition</li>
                            <li>Iris or retina scans</li>
                            <li>Voice recognition</li>
                        </ul>
                        <div class="highlight-box warning">
                            <strong>Weakness:</strong> Can't be changed if compromised, potential for false positives/negatives.
                        </div>
                    </div>
                </div>

                <h3>Multi-Factor Authentication (MFA)</h3>
                <p>
                    Using two or more authentication factors from different categories significantly increases security. Even if one factor
                    is compromised, the attacker still can't gain access without the other factor(s).
                </p>

                <div class="highlight-box">
                    <strong>Why MFA Matters:</strong>
                    Studies show MFA blocks 99.9% of automated attacks. Even simple SMS-based MFA is vastly better than passwords alone.
                    App-based or hardware token MFA is even more secure.
                </div>

                <h4>Common MFA Implementations:</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>How It Works</th>
                            <th>Security Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>SMS Codes</strong></td>
                            <td>One-time code sent via text message</td>
                            <td>Low - vulnerable to SIM swapping, interception</td>
                        </tr>
                        <tr>
                            <td><strong>Authenticator Apps</strong></td>
                            <td>TOTP codes generated on your device (Google Authenticator, Authy)</td>
                            <td>Medium - better than SMS, offline capable</td>
                        </tr>
                        <tr>
                            <td><strong>Hardware Tokens</strong></td>
                            <td>Physical device that generates codes or uses cryptographic keys (YubiKey, Titan)</td>
                            <td>High - phishing resistant, requires physical possession</td>
                        </tr>
                        <tr>
                            <td><strong>Biometric + PIN</strong></td>
                            <td>Fingerprint/face scan combined with device PIN</td>
                            <td>Medium-High - convenient and reasonably secure</td>
                        </tr>
                        <tr>
                            <td><strong>Push Notifications</strong></td>
                            <td>Approve login from trusted device (Duo, Microsoft Authenticator)</td>
                            <td>Medium - vulnerable to MFA fatigue attacks</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Password Policies</h3>
                <p>
                    Modern password policies have evolved based on research showing what actually improves security versus what just
                    frustrates users without adding protection.
                </p>

                <h4>Modern Best Practices (NIST Guidelines):</h4>
                <ul>
                    <li><strong>Length over Complexity:</strong> Minimum 8 characters (12+ recommended), but no maximum limit</li>
                    <li><strong>No Forced Complexity:</strong> Don't require special characters if passwords are long enough</li>
                    <li><strong>No Periodic Changes:</strong> Only require password changes when compromise is suspected</li>
                    <li><strong>Check Against Breach Databases:</strong> Reject passwords that appear in known breach lists</li>
                    <li><strong>Allow Passphrases:</strong> "correct horse battery staple" is stronger than "P@ssw0rd1"</li>
                    <li><strong>Enable Password Managers:</strong> Don't block paste functionality - it encourages unique passwords</li>
                    <li><strong>Implement Account Lockout:</strong> But with caution to avoid DoS attacks</li>
                </ul>

                <div class="highlight-box info">
                    <strong>The Passphrase Advantage:</strong>
                    "ILove2EatPizzaOnFridays!" is 25 characters, easy to remember, and would take trillions of years to brute force.
                    "P@s5w0rd" meets complexity requirements but could be cracked in seconds.
                </div>

                <h3>Access Control Models</h3>
                <p>
                    Once authenticated, users need authorization - determining what resources they can access and what actions they can perform.
                </p>

                <div class="expandable" id="dac">
                    <div class="expandable-header" onclick="toggleExpandable('dac')">
                        <h4>Discretionary Access Control (DAC)</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Resource owners decide who can access their resources. The owner has discretion to grant or revoke access.
                            </p>
                            <h4>Characteristics:</h4>
                            <ul>
                                <li>Identity-based access control</li>
                                <li>Owners control access to their objects</li>
                                <li>Flexibility for users to share resources</li>
                                <li>Implemented through Access Control Lists (ACLs)</li>
                            </ul>
                            <h4>Examples:</h4>
                            <ul>
                                <li>File permissions in Windows/Linux (user/group/other)</li>
                                <li>Google Drive sharing settings</li>
                                <li>Database table permissions</li>
                            </ul>
                            <div class="highlight-box warning">
                                <strong>Weakness:</strong> Users might grant excessive permissions or fail to revoke access when no longer needed.
                                Hard to enforce organization-wide policies.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="expandable" id="mac">
                    <div class="expandable-header" onclick="toggleExpandable('mac')">
                        <h4>Mandatory Access Control (MAC)</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                System enforces access control based on clearance levels and data classifications. Users cannot change permissions.
                            </p>
                            <h4>Characteristics:</h4>
                            <ul>
                                <li>Label-based access control</li>
                                <li>Centrally managed by security policy</li>
                                <li>Users and data assigned security labels (Top Secret, Secret, Confidential, Unclassified)</li>
                                <li>System enforces "no read up, no write down" (Bell-LaPadula model)</li>
                            </ul>
                            <h4>Examples:</h4>
                            <ul>
                                <li>Military and government systems</li>
                                <li>SELinux (Security-Enhanced Linux)</li>
                                <li>Classified document systems</li>
                            </ul>
                            <div class="highlight-box">
                                <strong>Strength:</strong> Very high security, prevents accidental or malicious data leakage.
                                Weakness: Inflexible, complex to implement, can hinder productivity.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="expandable" id="rbac">
                    <div class="expandable-header" onclick="toggleExpandable('rbac')">
                        <h4>Role-Based Access Control (RBAC)</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Access is granted based on job roles. Users inherit permissions from their assigned role(s).
                            </p>
                            <h4>Characteristics:</h4>
                            <ul>
                                <li>Role-based permissions</li>
                                <li>Users assigned to roles (e.g., "Manager," "Developer," "HR Staff")</li>
                                <li>Roles granted specific permissions</li>
                                <li>Easy to manage as users change jobs</li>
                            </ul>
                            <h4>Examples:</h4>
                            <ul>
                                <li>Active Directory groups</li>
                                <li>Database roles (admin, read-only, data entry)</li>
                                <li>Application user types (admin, editor, viewer)</li>
                            </ul>
                            <div class="highlight-box">
                                <strong>Best Practice:</strong> Most organizations use RBAC as the foundation of their access control.
                                It balances security with manageability. Avoid "role explosion" - too many granular roles defeats the purpose.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: Cryptography Basics -->
        <section class="section" id="section4" data-section="4">
            <div class="section-header">
                <div class="section-number">4</div>
                <div class="section-title">
                    <h2>Cryptography Basics</h2>
                    <p>The mathematics of securing information</p>
                </div>
            </div>
            <div class="section-content">
                <h3>Introduction to Cryptography</h3>
                <p>
                    Cryptography is the practice and study of techniques for secure communication in the presence of adversaries.
                    It provides the mathematical foundation for confidentiality, integrity, authentication, and non-repudiation.
                </p>

                <h3>Symmetric Encryption</h3>
                <p>
                    Uses the same key for both encryption and decryption. Like a physical key that both locks and unlocks a door.
                </p>

                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>How It Works</h4>
                        <ul>
                            <li>Sender and receiver share a secret key</li>
                            <li>Plaintext + Key = Ciphertext (encryption)</li>
                            <li>Ciphertext + Same Key = Plaintext (decryption)</li>
                            <li>Very fast and efficient</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Common Algorithms</h4>
                        <ul>
                            <li><strong>AES</strong> (Advanced Encryption Standard) - most widely used</li>
                            <li><strong>ChaCha20</strong> - modern, fast alternative to AES</li>
                            <li><strong>3DES</strong> - legacy, being phased out</li>
                            <li><strong>Blowfish/Twofish</strong> - older alternatives</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>The Key Distribution Problem:</strong>
                    How do you securely share the secret key with someone you've never met? If you can securely share a key,
                    why not just use that secure channel to share your message? This is the fundamental challenge of symmetric encryption.
                </div>

                <h4>Use Cases for Symmetric Encryption:</h4>
                <ul>
                    <li>Full disk encryption (BitLocker, FileVault)</li>
                    <li>Database encryption</li>
                    <li>VPN tunnels (after key exchange)</li>
                    <li>File/folder encryption</li>
                    <li>Bulk data encryption (when keys are already shared)</li>
                </ul>

                <h3>Asymmetric Encryption</h3>
                <p>
                    Uses a pair of mathematically related keys: a public key (shared openly) and a private key (kept secret).
                    What one key encrypts, only the other can decrypt.
                </p>

                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>How It Works</h4>
                        <ul>
                            <li>Generate a key pair (public + private)</li>
                            <li>Share public key openly</li>
                            <li>Keep private key secret</li>
                            <li>Encrypt with public, decrypt with private (confidentiality)</li>
                            <li>Sign with private, verify with public (authentication)</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Common Algorithms</h4>
                        <ul>
                            <li><strong>RSA</strong> - most widely used, key sizes 2048-4096 bits</li>
                            <li><strong>Elliptic Curve (ECC)</strong> - smaller keys, same security</li>
                            <li><strong>Diffie-Hellman</strong> - key exchange protocol</li>
                            <li><strong>ElGamal</strong> - alternative to RSA</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box info">
                    <strong>Solving Key Distribution:</strong>
                    Alice wants to send Bob a secret message. Bob generates a key pair and publishes his public key.
                    Alice encrypts her message with Bob's public key. Only Bob's private key can decrypt it.
                    No need to pre-share a secret!
                </div>

                <h4>Trade-offs:</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>Symmetric</th>
                            <th>Asymmetric</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Speed</strong></td>
                            <td>Very fast (1000x+ faster)</td>
                            <td>Slow (computationally expensive)</td>
                        </tr>
                        <tr>
                            <td><strong>Key Distribution</strong></td>
                            <td>Difficult - requires secure channel</td>
                            <td>Easy - public keys can be shared openly</td>
                        </tr>
                        <tr>
                            <td><strong>Key Size</strong></td>
                            <td>Small (128-256 bits)</td>
                            <td>Large (2048-4096 bits for RSA)</td>
                        </tr>
                        <tr>
                            <td><strong>Use Cases</strong></td>
                            <td>Bulk data encryption</td>
                            <td>Key exchange, digital signatures, small messages</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight-box">
                    <strong>Hybrid Approach (Best of Both):</strong>
                    Most real-world systems use both! Use asymmetric encryption to securely exchange a symmetric session key,
                    then use that symmetric key for fast bulk encryption. This is how TLS/SSL works.
                </div>

                <h3>Hashing Algorithms</h3>
                <p>
                    A hash function takes input data of any size and produces a fixed-size output (the hash or digest).
                    It's a one-way function - you can't reverse it to get the original data.
                </p>

                <h4>Properties of Cryptographic Hashes:</h4>
                <ul>
                    <li><strong>Deterministic:</strong> Same input always produces same output</li>
                    <li><strong>Fixed Output Size:</strong> SHA-256 always produces 256 bits, regardless of input size</li>
                    <li><strong>One-Way:</strong> Computationally infeasible to reverse (find input from hash)</li>
                    <li><strong>Collision Resistant:</strong> Extremely difficult to find two different inputs with same hash</li>
                    <li><strong>Avalanche Effect:</strong> Tiny change in input drastically changes output</li>
                </ul>

                <h4>Common Hash Algorithms:</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Algorithm</th>
                            <th>Output Size</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>MD5</strong></td>
                            <td>128 bits</td>
                            <td>Broken - collisions found, don't use for security</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-1</strong></td>
                            <td>160 bits</td>
                            <td>Deprecated - collisions found in 2017</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-256</strong></td>
                            <td>256 bits</td>
                            <td>Secure - widely used, recommended</td>
                        </tr>
                        <tr>
                            <td><strong>SHA-3</strong></td>
                            <td>Various (224-512 bits)</td>
                            <td>Secure - newest standard, different design than SHA-2</td>
                        </tr>
                        <tr>
                            <td><strong>bcrypt/scrypt/Argon2</strong></td>
                            <td>Various</td>
                            <td>Secure - designed specifically for password hashing</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Use Cases for Hashing:</h4>
                <ul>
                    <li><strong>Data Integrity:</strong> Verify files haven't been modified (checksums)</li>
                    <li><strong>Password Storage:</strong> Store hash of password, not the password itself</li>
                    <li><strong>Digital Signatures:</strong> Hash the message, sign the hash (faster than signing entire message)</li>
                    <li><strong>Blockchain:</strong> Each block contains hash of previous block</li>
                    <li><strong>File Deduplication:</strong> Identify duplicate files by comparing hashes</li>
                    <li><strong>Message Authentication Codes (HMAC):</strong> Hash + secret key for integrity + authentication</li>
                </ul>

                <div class="highlight-box warning">
                    <strong>Password Hashing:</strong>
                    Never use fast hashes like SHA-256 for passwords! Attackers can compute billions of hashes per second.
                    Use specialized algorithms like bcrypt, scrypt, or Argon2 that are intentionally slow and memory-hard.
                </div>

                <h3>Digital Certificates and PKI</h3>
                <p>
                    Public Key Infrastructure (PKI) solves a critical problem: How do you know a public key actually belongs to who it claims to?
                </p>

                <h4>The Trust Problem:</h4>
                <div class="highlight-box danger">
                    <strong>Man-in-the-Middle Risk:</strong>
                    Without verification, an attacker could intercept your connection and substitute their own public key.
                    You'd encrypt messages with the attacker's key, thinking it's your intended recipient's key.
                </div>

                <h4>How PKI Works:</h4>
                <ul>
                    <li><strong>Certificate Authority (CA):</strong> Trusted third party that issues digital certificates</li>
                    <li><strong>Digital Certificate:</strong> Document binding a public key to an identity (person, organization, website)</li>
                    <li><strong>Certificate Signing:</strong> CA signs the certificate with their private key</li>
                    <li><strong>Verification:</strong> Anyone can verify certificate authenticity using CA's public key</li>
                    <li><strong>Chain of Trust:</strong> Root CAs certify intermediate CAs, which certify end entities</li>
                </ul>

                <h4>X.509 Certificate Contents:</h4>
                <ul>
                    <li>Subject (who the certificate belongs to)</li>
                    <li>Public key</li>
                    <li>Issuer (which CA signed it)</li>
                    <li>Validity period (not before / not after dates)</li>
                    <li>Serial number</li>
                    <li>Digital signature (CA's signature on all the above)</li>
                </ul>

                <div class="highlight-box info">
                    <strong>Real-World Example - HTTPS:</strong>
                    When you visit https://bank.com, your browser: (1) Receives the website's certificate, (2) Verifies it was signed
                    by a trusted CA, (3) Checks it hasn't expired, (4) Confirms the domain matches, (5) Uses the public key from the
                    certificate to establish encrypted communication.
                </div>

                <h4>Certificate Revocation:</h4>
                <p>What if a private key is compromised? The certificate needs to be revoked before expiration:</p>
                <ul>
                    <li><strong>CRL (Certificate Revocation List):</strong> Published list of revoked certificates (slow, doesn't scale)</li>
                    <li><strong>OCSP (Online Certificate Status Protocol):</strong> Real-time check if certificate is valid (better, but privacy concerns)</li>
                    <li><strong>OCSP Stapling:</strong> Server provides OCSP response (best - fast and private)</li>
                </ul>
            </div>
        </section>

        <!-- SECTION 5: Network Security -->
        <section class="section" id="section5" data-section="5">
            <div class="section-header">
                <div class="section-number">5</div>
                <div class="section-title">
                    <h2>Network Security</h2>
                    <p>Protecting data in transit and defending network perimeters</p>
                </div>
            </div>
            <div class="section-content">
                <h3>Firewalls: The First Line of Defense</h3>
                <p>
                    A firewall is a network security device that monitors and controls incoming and outgoing network traffic based on
                    predetermined security rules. It acts as a barrier between trusted and untrusted networks.
                </p>

                <h4>Types of Firewalls:</h4>

                <div class="expandable" id="packet-filter">
                    <div class="expandable-header" onclick="toggleExpandable('packet-filter')">
                        <h4>Packet Filtering Firewall (Stateless)</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Examines each packet in isolation based on IP addresses, ports, and protocols. Doesn't track connection state.
                            </p>
                            <h4>Characteristics:</h4>
                            <ul>
                                <li>Fast and efficient - minimal processing</li>
                                <li>Works at Network Layer (Layer 3) and Transport Layer (Layer 4)</li>
                                <li>Rules based on source/destination IP, port, protocol</li>
                                <li>No awareness of connection context</li>
                            </ul>
                            <h4>Example Rule:</h4>
                            <div class="highlight-box">
                                ALLOW tcp from 192.168.1.0/24 to any port 443<br>
                                DENY tcp from any to 192.168.1.10 port 22
                            </div>
                            <div class="highlight-box warning">
                                <strong>Limitation:</strong> Vulnerable to attacks that exploit valid connection parameters.
                                Can't detect if a packet is part of a legitimate conversation.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="expandable" id="stateful">
                    <div class="expandable-header" onclick="toggleExpandable('stateful')">
                        <h4>Stateful Inspection Firewall</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Tracks the state of network connections and only allows packets that belong to valid, established connections.
                            </p>
                            <h4>Characteristics:</h4>
                            <ul>
                                <li>Maintains connection state table</li>
                                <li>Tracks TCP handshakes and connection status</li>
                                <li>Automatically allows return traffic for established connections</li>
                                <li>More secure than packet filtering</li>
                            </ul>
                            <h4>How It Works:</h4>
                            <ol>
                                <li>Client initiates connection (SYN) - firewall creates state entry</li>
                                <li>Server responds (SYN-ACK) - firewall verifies it matches existing state</li>
                                <li>Connection established - subsequent packets checked against state table</li>
                                <li>Connection ends (FIN) - state entry removed</li>
                            </ol>
                            <div class="highlight-box">
                                <strong>Advantage:</strong> Much harder to spoof or hijack connections. Most modern firewalls are stateful by default.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="expandable" id="application">
                    <div class="expandable-header" onclick="toggleExpandable('application')">
                        <h4>Application Layer Firewall (Layer 7)</h4>
                        <span class="expandable-icon">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div class="expandable-inner">
                            <p>
                                Inspects the actual content of network traffic, understanding application protocols like HTTP, FTP, DNS, etc.
                            </p>
                            <h4>Capabilities:</h4>
                            <ul>
                                <li>Deep packet inspection (DPI)</li>
                                <li>Protocol analysis (HTTP, SMTP, FTP, etc.)</li>
                                <li>Content filtering (block specific URLs, file types)</li>
                                <li>Application identification (detect apps even on non-standard ports)</li>
                            </ul>
                            <h4>Examples:</h4>
                            <ul>
                                <li><strong>Web Application Firewall (WAF):</strong> Protects web apps from SQL injection, XSS, etc.</li>
                                <li><strong>Next-Gen Firewall (NGFW):</strong> Combines stateful inspection with application awareness and IPS</li>
                                <li><strong>Proxy Firewall:</strong> Acts as intermediary between client and server</li>
                            </ul>
                            <div class="highlight-box info">
                                <strong>Use Case:</strong> Block malware downloads, prevent data exfiltration, enforce acceptable use policies
                                (e.g., no social media), protect against application-specific attacks.
                            </div>
                        </div>
                    </div>
                </div>

                <h4>Firewall Rule Best Practices:</h4>
                <ul>
                    <li><strong>Default Deny:</strong> Block everything by default, explicitly allow only what's needed</li>
                    <li><strong>Least Privilege:</strong> Open only the minimum ports and protocols required</li>
                    <li><strong>Order Matters:</strong> Rules processed top-to-bottom; most specific first, default deny last</li>
                    <li><strong>Regular Review:</strong> Audit rules quarterly, remove outdated or redundant rules</li>
                    <li><strong>Document Rules:</strong> Include comments explaining why each rule exists</li>
                    <li><strong>Log and Monitor:</strong> Enable logging for denied traffic and suspicious patterns</li>
                </ul>

                <h3>Network Segmentation and Isolation</h3>
                <p>
                    Dividing a network into smaller segments to limit the spread of attacks and contain breaches.
                    "Don't put all your eggs in one basket."
                </p>

                <h4>Segmentation Strategies:</h4>
                <div class="reference-grid">
                    <div class="reference-card">
                        <h4>DMZ (Demilitarized Zone)</h4>
                        <ul>
                            <li>Buffer network between internet and internal network</li>
                            <li>Public-facing services (web, email, DNS)</li>
                            <li>If compromised, attacker still outside internal network</li>
                            <li>Dual firewall setup: external and internal</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>VLANs (Virtual LANs)</h4>
                        <ul>
                            <li>Logical network segmentation at Layer 2</li>
                            <li>Separate HR, Finance, Engineering, Guest networks</li>
                            <li>Traffic between VLANs must go through router/firewall</li>
                            <li>Cost-effective - no need for separate physical switches</li>
                        </ul>
                    </div>
                    <div class="reference-card">
                        <h4>Zero Trust Network</h4>
                        <ul>
                            <li>"Never trust, always verify"</li>
                            <li>Assume breach - verify every access attempt</li>
                            <li>Micro-segmentation - minimal trust zones</li>
                            <li>Identity-based access, regardless of network location</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>Why Segmentation Matters:</strong>
                    In the Target breach (2013), attackers compromised an HVAC vendor's credentials. Because the network wasn't properly
                    segmented, they moved laterally from the HVAC network to payment systems, stealing 40 million credit cards.
                    Proper segmentation would have contained the breach.
                </div>

                <h3>Secure Network Protocols</h3>
                <p>
                    Many legacy protocols transmit data in cleartext. Modern security requires encrypted alternatives.
                </p>

                <h4>Protocol Evolution:</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Legacy (Insecure)</th>
                            <th>Modern (Secure)</th>
                            <th>What Changed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>HTTP (port 80)</td>
                            <td>HTTPS (port 443)</td>
                            <td>TLS encryption, server authentication</td>
                        </tr>
                        <tr>
                            <td>FTP (ports 20, 21)</td>
                            <td>SFTP (port 22) or FTPS</td>
                            <td>SSH tunnel (SFTP) or TLS encryption (FTPS)</td>
                        </tr>
                        <tr>
                            <td>Telnet (port 23)</td>
                            <td>SSH (port 22)</td>
                            <td>Encrypted terminal sessions, key-based auth</td>
                        </tr>
                        <tr>
                            <td>SMTP (port 25)</td>
                            <td>SMTP with STARTTLS (587)</td>
                            <td>Opportunistic TLS encryption</td>
                        </tr>
                        <tr>
                            <td>SNMP v1/v2</td>
                            <td>SNMP v3</td>
                            <td>Authentication and encryption</td>
                        </tr>
                        <tr>
                            <td>POP3/IMAP (110, 143)</td>
                            <td>POP3S/IMAPS (995, 993)</td>
                            <td>TLS encryption for email retrieval</td>
                        </tr>
                    </tbody>
                </table>

                <h4>TLS/SSL: The Foundation of Secure Communications</h4>
                <p>
                    Transport Layer Security (TLS) is the protocol that secures most internet communications. SSL is the deprecated predecessor.
                </p>

                <h4>TLS Handshake Process:</h4>
                <ol>
                    <li><strong>Client Hello:</strong> Client sends supported cipher suites, TLS version</li>
                    <li><strong>Server Hello:</strong> Server chooses cipher suite, sends certificate</li>
                    <li><strong>Certificate Verification:</strong> Client validates server certificate</li>
                    <li><strong>Key Exchange:</strong> Client and server establish shared session key (using asymmetric crypto)</li>
                    <li><strong>Secure Communication:</strong> All subsequent traffic encrypted with session key (symmetric crypto)</li>
                </ol>

                <div class="highlight-box warning">
                    <strong>Version Matters:</strong>
                    TLS 1.0 and 1.1 are deprecated (vulnerable). TLS 1.2 is minimum acceptable. TLS 1.3 is current best practice
                    (faster, more secure, removed weak cipher suites).
                </div>

                <h4>IPsec: Network Layer Security</h4>
                <p>
                    IPsec operates at the Network Layer (Layer 3), securing IP packets themselves. Commonly used for VPNs and site-to-site connections.
                </p>

                <h4>IPsec Modes:</h4>
                <ul>
                    <li><strong>Transport Mode:</strong> Encrypts only the payload, not the IP header. Used for end-to-end communication.</li>
                    <li><strong>Tunnel Mode:</strong> Encrypts entire IP packet, encapsulates in new packet. Used for VPNs.</li>
                </ul>

                <h4>IPsec Protocols:</h4>
                <ul>
                    <li><strong>AH (Authentication Header):</strong> Provides authentication and integrity, but not confidentiality</li>
                    <li><strong>ESP (Encapsulating Security Payload):</strong> Provides authentication, integrity, and confidentiality (most common)</li>
                    <li><strong>IKE (Internet Key Exchange):</strong> Protocol for negotiating and establishing IPsec connections</li>
                </ul>

                <div class="highlight-box info">
                    <strong>VPN Use Case:</strong>
                    Remote employee connects to corporate network via IPsec VPN. All traffic is encrypted (confidentiality),
                    authenticated (no impersonation), and integrity-protected (no tampering). From the employee's perspective,
                    they're "inside" the corporate network.
                </div>
            </div>
        </section>

        <!-- QUIZ SECTION -->
        <section class="quiz-section" id="quizSection">
            <h2>Test Your Knowledge</h2>
            <p>
                Put your security fundamentals knowledge to the test with this comprehensive 15-question quiz.
                Each question covers key concepts from the module. You need 80% (12/15) to pass.
            </p>

            <button class="quiz-btn" id="startQuizBtn" onclick="startQuiz()">
                Start 15-Question Quiz
            </button>

            <div class="quiz-container" id="quizContainer">
                <!-- Quiz questions will be inserted here -->
            </div>

            <div class="quiz-results" id="quizResults">
                <!-- Results will be displayed here -->
            </div>
        </section>
    </main>

    <footer class="module-footer">
        <div class="footer-text">HOUSE OF THE SHIELD ‚Ä¢ HEXWORTH PRIME</div>
    </footer>

    <!-- Component Integration -->
    <script src="../../../components/AchievementManager.js"></script>
    <script src="../../../components/ModuleProgress.js"></script>

    <script>
        // Progress Tracking
        const totalSections = 5;
        let completedSections = new Set();

        function updateProgress() {
            const progress = (completedSections.size / totalSections) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressCount').textContent =
                `${completedSections.size} / ${totalSections} Sections`;

            // Update TOC
            document.querySelectorAll('.toc-item').forEach((item, index) => {
                if (completedSections.has(index + 1)) {
                    item.classList.add('completed');
                }
            });
        }

        // Intersection Observer for section tracking
        const observerOptions = {
            threshold: 0.5,
            rootMargin: '-80px 0px 0px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const sectionNum = parseInt(entry.target.dataset.section);
                    completedSections.add(sectionNum);
                    updateProgress();
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Smooth scroll to section
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Expandable sections
        function toggleExpandable(id) {
            const element = document.getElementById(id);
            element.classList.toggle('expanded');
        }

        // Flashcard flip
        function flipCard(card) {
            card.classList.toggle('flipped');
        }

        // Quiz Data
        const quizQuestions = [
            {
                question: "Which component of the CIA Triad ensures that data is accessible when needed?",
                options: [
                    "Confidentiality",
                    "Integrity",
                    "Availability",
                    "Authentication"
                ],
                correct: 2,
                explanation: "Availability ensures systems and data are accessible to authorized users when required."
            },
            {
                question: "What is the primary purpose of encryption in protecting confidentiality?",
                options: [
                    "To detect unauthorized changes to data",
                    "To verify the identity of users",
                    "To prevent unauthorized access to information",
                    "To ensure systems remain operational"
                ],
                correct: 2,
                explanation: "Encryption protects confidentiality by making data unreadable to unauthorized parties."
            },
            {
                question: "Which mechanism is used to verify that data has not been modified?",
                options: [
                    "Encryption",
                    "Authentication",
                    "Hashing",
                    "Load balancing"
                ],
                correct: 2,
                explanation: "Hashing creates a unique fingerprint of data, allowing verification that it hasn't been altered."
            },
            {
                question: "What is the relationship between threat, vulnerability, and risk?",
                options: [
                    "Risk = Threat + Vulnerability",
                    "Risk = Threat √ó Vulnerability √ó Impact",
                    "Threat = Risk √ó Vulnerability",
                    "Vulnerability = Threat / Risk"
                ],
                correct: 1,
                explanation: "Risk is the likelihood of a threat exploiting a vulnerability, multiplied by the potential impact."
            },
            {
                question: "Which authentication factor category does a fingerprint belong to?",
                options: [
                    "Something you know",
                    "Something you have",
                    "Something you are",
                    "Somewhere you are"
                ],
                correct: 2,
                explanation: "Biometrics like fingerprints are 'something you are' - inherent physical characteristics."
            },
            {
                question: "What is the primary advantage of multi-factor authentication (MFA)?",
                options: [
                    "It's faster than single-factor authentication",
                    "It's cheaper to implement",
                    "It provides defense in depth against credential compromise",
                    "It requires less user training"
                ],
                correct: 2,
                explanation: "MFA requires multiple independent factors, so compromising one factor isn't enough for access."
            },
            {
                question: "According to modern NIST guidelines, which password practice is recommended?",
                options: [
                    "Require passwords to be changed every 90 days",
                    "Require complex passwords with special characters",
                    "Emphasize password length over complexity",
                    "Prohibit the use of password managers"
                ],
                correct: 2,
                explanation: "NIST now emphasizes length over complexity, as longer passphrases are both stronger and more memorable."
            },
            {
                question: "In Role-Based Access Control (RBAC), how are permissions granted?",
                options: [
                    "Based on security clearance levels",
                    "Based on job roles and responsibilities",
                    "At the discretion of resource owners",
                    "Based on geographic location"
                ],
                correct: 1,
                explanation: "RBAC grants permissions based on assigned roles, making it easier to manage as users change positions."
            },
            {
                question: "What is the key difference between symmetric and asymmetric encryption?",
                options: [
                    "Symmetric is faster but uses the same key for encryption and decryption",
                    "Asymmetric is faster but requires key exchange",
                    "Symmetric uses public keys while asymmetric uses private keys",
                    "There is no significant difference"
                ],
                correct: 0,
                explanation: "Symmetric uses one shared key (fast), while asymmetric uses key pairs (slower but solves key distribution)."
            },
            {
                question: "Which hash algorithm is currently considered secure for cryptographic use?",
                options: [
                    "MD5",
                    "SHA-1",
                    "SHA-256",
                    "CRC32"
                ],
                correct: 2,
                explanation: "SHA-256 is currently secure. MD5 and SHA-1 have known collision vulnerabilities."
            },
            {
                question: "What problem does Public Key Infrastructure (PKI) solve?",
                options: [
                    "How to encrypt data faster",
                    "How to verify that a public key belongs to who it claims to",
                    "How to generate random numbers",
                    "How to compress encrypted data"
                ],
                correct: 1,
                explanation: "PKI uses trusted Certificate Authorities to bind public keys to identities, preventing impersonation."
            },
            {
                question: "What is the primary advantage of a stateful firewall over a packet filtering firewall?",
                options: [
                    "It's faster and requires less processing",
                    "It tracks connection state and context",
                    "It can filter based on IP addresses",
                    "It works at the physical layer"
                ],
                correct: 1,
                explanation: "Stateful firewalls maintain connection state tables, ensuring packets belong to legitimate connections."
            },
            {
                question: "What is the purpose of network segmentation?",
                options: [
                    "To increase network speed",
                    "To reduce hardware costs",
                    "To limit the spread of attacks and contain breaches",
                    "To simplify network management"
                ],
                correct: 2,
                explanation: "Segmentation creates barriers between network zones, preventing lateral movement during breaches."
            },
            {
                question: "Which protocol should be used instead of Telnet for secure remote administration?",
                options: [
                    "FTP",
                    "HTTP",
                    "SSH",
                    "SNMP"
                ],
                correct: 2,
                explanation: "SSH provides encrypted terminal sessions, replacing insecure plaintext Telnet."
            },
            {
                question: "In the Principle of Least Privilege, users should have:",
                options: [
                    "Maximum access to simplify their work",
                    "The same access as their manager",
                    "Only the minimum access needed for their job function",
                    "Administrative rights for flexibility"
                ],
                correct: 2,
                explanation: "Least Privilege limits access to only what's necessary, reducing the impact of compromised accounts."
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];
        let quizActive = false;

        function startQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            quizActive = true;

            document.getElementById('startQuizBtn').style.display = 'none';
            document.getElementById('quizContainer').classList.add('active');
            document.getElementById('quizResults').classList.remove('active');

            displayQuestion();
        }

        function displayQuestion() {
            const q = quizQuestions[currentQuestion];
            const container = document.getElementById('quizContainer');

            const optionsHTML = q.options.map((option, index) => `
                <div class="option" onclick="selectAnswer(${index})">
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                </div>
            `).join('');

            container.innerHTML = `
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestion + 1} of ${quizQuestions.length}</span>
                    </div>
                    <div class="question-text">${q.question}</div>
                    <div class="options" id="options">
                        ${optionsHTML}
                    </div>
                </div>
                <div class="quiz-nav">
                    <button class="quiz-btn secondary" onclick="previousQuestion()"
                        ${currentQuestion === 0 ? 'disabled' : ''}>
                        ‚Üê Previous
                    </button>
                    <button class="quiz-btn" id="nextBtn" onclick="nextQuestion()" disabled>
                        ${currentQuestion === quizQuestions.length - 1 ? 'Finish Quiz' : 'Next ‚Üí'}
                    </button>
                </div>
            `;

            // Restore previous answer if exists
            if (userAnswers[currentQuestion] !== undefined) {
                const options = document.querySelectorAll('.option');
                options[userAnswers[currentQuestion]].classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
            }
        }

        function selectAnswer(index) {
            // Remove previous selection
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Mark new selection
            document.querySelectorAll('.option')[index].classList.add('selected');

            // Store answer
            userAnswers[currentQuestion] = index;

            // Enable next button
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function showResults() {
            let correctCount = 0;
            const breakdown = quizQuestions.map((q, index) => {
                const isCorrect = userAnswers[index] === q.correct;
                if (isCorrect) correctCount++;

                return `
                    <div class="breakdown-item">
                        <span>Q${index + 1}: ${q.question.substring(0, 50)}...</span>
                        <span style="color: ${isCorrect ? 'var(--shield-emerald)' : 'var(--accent-red)'}">
                            ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}
                        </span>
                    </div>
                `;
            }).join('');

            const percentage = Math.round((correctCount / quizQuestions.length) * 100);
            const passed = percentage >= 80;

            let message = '';
            if (percentage === 100) {
                message = "Perfect score! You've mastered security fundamentals!";
            } else if (percentage >= 90) {
                message = "Excellent work! You have a strong grasp of security principles.";
            } else if (percentage >= 80) {
                message = "Good job! You've passed with a solid understanding.";
            } else {
                message = "Keep studying! Review the material and try again.";
            }

            document.getElementById('quizContainer').classList.remove('active');
            const resultsDiv = document.getElementById('quizResults');
            resultsDiv.innerHTML = `
                <div class="score-display">${percentage}%</div>
                <div class="score-message">${message}</div>
                <div class="results-breakdown">
                    <h3 style="color: var(--shield-emerald); margin-bottom: 15px;">
                        ${correctCount} / ${quizQuestions.length} Correct
                    </h3>
                    ${breakdown}
                </div>
                <button class="quiz-btn" onclick="retakeQuiz()">
                    Retake Quiz
                </button>
                <button class="quiz-btn secondary" onclick="reviewAnswers()" style="margin-left: 10px;">
                    Review Answers
                </button>
            `;
            resultsDiv.classList.add('active');

            // Track completion if passed
            if (passed && typeof ModuleProgress !== 'undefined') {
                ModuleProgress.complete('shield-security-fundamentals');
            }
        }

        function retakeQuiz() {
            startQuiz();
        }

        function reviewAnswers() {
            currentQuestion = 0;
            document.getElementById('quizResults').classList.remove('active');
            document.getElementById('quizContainer').classList.add('active');
            displayReview();
        }

        function displayReview() {
            const q = quizQuestions[currentQuestion];
            const container = document.getElementById('quizContainer');

            const optionsHTML = q.options.map((option, index) => {
                let className = 'option disabled';
                if (index === q.correct) className += ' correct';
                else if (index === userAnswers[currentQuestion] && index !== q.correct) className += ' incorrect';

                return `
                    <div class="${className}">
                        <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                        <div class="option-text">${option}</div>
                    </div>
                `;
            }).join('');

            container.innerHTML = `
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestion + 1} of ${quizQuestions.length}</span>
                    </div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                    <div class="highlight-box ${userAnswers[currentQuestion] === q.correct ? '' : 'warning'}"
                         style="margin-top: 20px;">
                        <strong>Explanation:</strong> ${q.explanation}
                    </div>
                </div>
                <div class="quiz-nav">
                    <button class="quiz-btn secondary" onclick="reviewPrevious()"
                        ${currentQuestion === 0 ? 'disabled' : ''}>
                        ‚Üê Previous
                    </button>
                    <button class="quiz-btn" onclick="reviewNext()">
                        ${currentQuestion === quizQuestions.length - 1 ? 'Back to Results' : 'Next ‚Üí'}
                    </button>
                </div>
            `;
        }

        function reviewNext() {
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                displayReview();
            } else {
                showResults();
            }
        }

        function reviewPrevious() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayReview();
            }
        }

        // Navigation
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = '../../../dashboard.html';
            }
        }

        // Initialize - expand first expandable by default
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('confidentiality').classList.add('expanded');
        });
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
