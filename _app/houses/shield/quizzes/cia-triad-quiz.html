<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIA Triad Challenge - Shield House</title>

    <!-- Quiz Engine Styles -->
    <link rel="stylesheet" href="../../../styles/quiz-engine.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a15 0%, #1a0a25 50%, #0a0a15 100%);
            display: flex;
            flex-direction: column;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .page-header {
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-header a {
            color: #a78bfa;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .page-header a:hover {
            color: #c4b5fd;
        }

        .brand {
            font-weight: 600;
            color: #e0e0e0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .brand-icon {
            font-size: 1.2rem;
        }

        .quiz-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 20px;
        }

        #quiz-container {
            width: 100%;
            max-width: 800px;
        }
    </style>
</head>
<body>
    <header class="page-header">
        <a href="../index.html">‚Üê Back to Shield House</a>
        <span class="brand">
            <span class="brand-icon">üõ°Ô∏è</span>
            Hexworth Prime
        </span>
    </header>

    <main class="quiz-wrapper">
        <div id="quiz-container"></div>
    </main>

    <!-- Quiz Engine -->
    <script src="../../../components/QuizEngine.js"></script>

    <script>
        const quiz = new QuizEngine({
            containerId: 'quiz-container',
            title: 'CIA Triad Challenge',
            description: 'Test your mastery of the three pillars of information security',
            passingScore: 70,
            showFeedback: true,
            randomize: true,
            timeLimit: null,
            retryAllowed: true,
            theme: 'shield',
            achievement: 'shield-cia-master',

            questions: [
                // CONFIDENTIALITY QUESTIONS
                {
                    question: 'Which pillar of the CIA Triad ensures that sensitive information is only accessible to authorized individuals?',
                    options: [
                        'Integrity',
                        'Availability',
                        'Confidentiality',
                        'Authentication'
                    ],
                    correct: 2,
                    explanation: 'Confidentiality ensures that data is protected from unauthorized access. Think of it as "keeping secrets secret."'
                },
                {
                    question: 'A company implements encryption on all customer databases. Which CIA principle does this primarily support?',
                    options: [
                        'Availability',
                        'Confidentiality',
                        'Integrity',
                        'Non-repudiation'
                    ],
                    correct: 1,
                    explanation: 'Encryption protects data confidentiality by making it unreadable to anyone without the decryption key.'
                },
                {
                    question: 'Which of the following is NOT a method to protect confidentiality?',
                    options: [
                        'Access control lists (ACLs)',
                        'Data encryption',
                        'RAID arrays',
                        'Classification labels'
                    ],
                    correct: 2,
                    explanation: 'RAID arrays are for data redundancy and availability, not confidentiality. ACLs, encryption, and classification labels all protect who can access data.'
                },
                {
                    question: 'An attacker intercepts network traffic and reads unencrypted emails. Which CIA principle was violated?',
                    options: [
                        'Integrity',
                        'Availability',
                        'Confidentiality',
                        'Accountability'
                    ],
                    correct: 2,
                    explanation: 'Reading data you\'re not authorized to see is a confidentiality breach. The data wasn\'t modified (integrity) or made unavailable.'
                },

                // INTEGRITY QUESTIONS
                {
                    question: 'Which CIA pillar ensures that data has not been tampered with or modified without authorization?',
                    options: [
                        'Confidentiality',
                        'Availability',
                        'Authentication',
                        'Integrity'
                    ],
                    correct: 3,
                    explanation: 'Integrity ensures data remains accurate and unaltered. If data is modified without permission, integrity is compromised.'
                },
                {
                    question: 'A hacker modifies a financial record to change an account balance. Which CIA principle was violated?',
                    options: [
                        'Confidentiality',
                        'Integrity',
                        'Availability',
                        'All of the above'
                    ],
                    correct: 1,
                    explanation: 'Modifying data without authorization is an integrity violation. The data was changed, not stolen (confidentiality) or made unavailable.'
                },
                {
                    question: 'Which technology is BEST suited for verifying data integrity?',
                    options: [
                        'Firewalls',
                        'Hash functions (SHA-256)',
                        'VPN tunnels',
                        'Load balancers'
                    ],
                    correct: 1,
                    explanation: 'Hash functions create unique fingerprints of data. If the hash changes, the data was modified. SHA-256 is a common cryptographic hash.'
                },
                {
                    question: 'Digital signatures primarily protect which aspect of the CIA Triad?',
                    options: [
                        'Confidentiality only',
                        'Availability only',
                        'Integrity and authentication',
                        'None of the above'
                    ],
                    correct: 2,
                    explanation: 'Digital signatures verify that data hasn\'t been tampered with (integrity) AND prove who sent it (authentication/non-repudiation).'
                },

                // AVAILABILITY QUESTIONS
                {
                    question: 'Which CIA pillar ensures that systems and data are accessible when needed by authorized users?',
                    options: [
                        'Confidentiality',
                        'Integrity',
                        'Availability',
                        'Reliability'
                    ],
                    correct: 2,
                    explanation: 'Availability means systems are up and running when users need them. Downtime = availability failure.'
                },
                {
                    question: 'A DDoS attack takes down a company\'s website for 6 hours. Which CIA principle was primarily affected?',
                    options: [
                        'Confidentiality',
                        'Integrity',
                        'Availability',
                        'Authenticity'
                    ],
                    correct: 2,
                    explanation: 'DDoS attacks target availability by overwhelming systems so legitimate users can\'t access them.'
                },
                {
                    question: 'Which of the following BEST supports the availability principle?',
                    options: [
                        'Encryption at rest',
                        'Redundant systems and backups',
                        'Strong password policies',
                        'Intrusion detection systems'
                    ],
                    correct: 1,
                    explanation: 'Redundancy and backups ensure systems can recover from failures, maintaining availability. The other options support different principles.'
                },
                {
                    question: 'A ransomware attack encrypts all company files, making them inaccessible. Which CIA principles are affected?',
                    options: [
                        'Only Availability',
                        'Only Confidentiality',
                        'Availability and potentially Confidentiality',
                        'Only Integrity'
                    ],
                    correct: 2,
                    explanation: 'Ransomware definitely affects availability (can\'t access files). If attackers exfiltrate data before encrypting, confidentiality is also breached.'
                },

                // SCENARIO-BASED QUESTIONS
                {
                    question: 'A hospital system goes offline during an emergency, preventing doctors from accessing patient records. Which CIA principle is MOST critical in this scenario?',
                    options: [
                        'Confidentiality',
                        'Integrity',
                        'Availability',
                        'They are all equally critical'
                    ],
                    correct: 2,
                    explanation: 'While all are important, availability is most critical here‚Äîdoctors need immediate access to save lives. This is why healthcare prioritizes availability.'
                },
                {
                    question: 'A bank prioritizes ensuring transaction records cannot be altered. Which CIA principle are they emphasizing?',
                    options: [
                        'Confidentiality',
                        'Integrity',
                        'Availability',
                        'Non-repudiation'
                    ],
                    correct: 1,
                    explanation: 'Financial institutions prioritize integrity because transactions must be accurate and tamper-proof. A $100 transfer must stay $100.'
                },
                {
                    question: 'Which scenario represents a violation of ALL THREE CIA principles?',
                    options: [
                        'A website goes down for maintenance',
                        'An attacker steals data, modifies records, and crashes the server',
                        'An employee accidentally deletes a file',
                        'A firewall blocks legitimate traffic'
                    ],
                    correct: 1,
                    explanation: 'Stealing data = confidentiality breach. Modifying records = integrity breach. Crashing server = availability breach. This is the worst-case scenario.'
                },

                // CONTROLS & IMPLEMENTATION
                {
                    question: 'Multi-factor authentication (MFA) primarily supports which CIA principle?',
                    options: [
                        'Availability',
                        'Integrity',
                        'Confidentiality',
                        'Scalability'
                    ],
                    correct: 2,
                    explanation: 'MFA protects confidentiality by ensuring only authorized users can access systems, even if passwords are compromised.'
                },
                {
                    question: 'Which control addresses BOTH integrity AND availability?',
                    options: [
                        'Encryption',
                        'Regular verified backups',
                        'Access control lists',
                        'Password complexity rules'
                    ],
                    correct: 1,
                    explanation: 'Verified backups provide availability (recovery from failure) AND integrity (known-good copies to restore from).'
                },
                {
                    question: 'The principle of least privilege primarily supports which CIA pillar?',
                    options: [
                        'Availability',
                        'Integrity',
                        'Confidentiality',
                        'All three equally'
                    ],
                    correct: 2,
                    explanation: 'Least privilege limits access to only what\'s needed, primarily protecting confidentiality. It also helps integrity by limiting who can modify data.'
                },
                {
                    question: 'A security team implements a Web Application Firewall (WAF) to prevent SQL injection. Which CIA principle does this protect?',
                    options: [
                        'Confidentiality only',
                        'Integrity only',
                        'Confidentiality and Integrity',
                        'Availability only'
                    ],
                    correct: 2,
                    explanation: 'SQL injection can steal data (confidentiality) AND modify database records (integrity). A WAF protects both.'
                }
            ],

            onComplete: (results) => {
                console.log('CIA Triad Quiz completed:', results);
                if (results.passed) {
                    // Could trigger additional achievements or unlock content
                    console.log('User passed! Achievement unlocked.');
                }
            }
        });

        quiz.start();
    </script>
</body>
</html>
