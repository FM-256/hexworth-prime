<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First-Hop Redundancy Protocols (FHRP)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #166534 0%, #22c55e 100%);
            overflow: hidden;
        }

        .presentation {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 60px;
            position: relative;
            animation: slideIn 0.5s ease-out;
            overflow-y: auto;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        h1 {
            color: #166534;
            font-size: 3.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            color: #16a34a;
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 4px solid #22c55e;
            padding-bottom: 15px;
        }

        h3 {
            color: #166534;
            font-size: 1.8em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p, li {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #333;
        }

        ul, ol {
            margin-left: 40px;
        }

        .subtitle {
            font-size: 1.5em;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }

        .prepared-by {
            position: absolute;
            bottom: 30px;
            right: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .slide-number {
            position: absolute;
            bottom: 30px;
            left: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 1000;
        }

        button {
            padding: 15px 30px;
            font-size: 1.2em;
            background: #16a34a;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #166534;
            transform: scale(1.05);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: scale(1);
        }

        .info-box {
            background: #dcfce7;
            border-left: 5px solid #22c55e;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .success-box {
            background: #d1fae5;
            border-left: 5px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .danger-box {
            background: #fee2e2;
            border-left: 5px solid #ef4444;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .key-point {
            background: linear-gradient(135deg, #166534, #22c55e);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .code-block {
            background: #1e293b;
            color: #22c55e;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 15px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            font-size: 1.1em;
        }

        th {
            background: #16a34a;
            color: white;
            padding: 15px;
            text-align: left;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f0fdf4;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-box {
            border: 2px solid #16a34a;
            padding: 20px;
            border-radius: 10px;
        }

        .comparison-box.hsrp {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .comparison-box.vrrp {
            border-color: #10b981;
            background: #d1fae5;
        }

        .comparison-box.glbp {
            border-color: #f59e0b;
            background: #fef3c7;
        }

        .icon-large {
            font-size: 4em;
            text-align: center;
            margin-bottom: 20px;
        }

        .fhrp-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            padding: 20px;
        }

        .router-box {
            background: linear-gradient(135deg, #166534, #22c55e);
            color: white;
            padding: 30px 40px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
            min-width: 150px;
        }

        .router-box.active {
            background: linear-gradient(135deg, #10b981, #34d399);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }

        .router-box.standby {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
        }

        .virtual-gateway {
            background: linear-gradient(135deg, #7c3aed, #a78bfa);
            padding: 20px;
            border-radius: 10px;
            color: white;
            text-align: center;
            margin: 20px 0;
        }

        .state-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .state-box {
            padding: 20px 30px;
            border-radius: 10px;
            border: 3px solid #16a34a;
            background: white;
            font-weight: bold;
            text-align: center;
        }

        .state-arrow {
            font-size: 2em;
            color: #16a34a;
        }

        .protocol-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            margin: 5px;
        }

        .badge-hsrp {
            background: #3b82f6;
            color: white;
        }

        .badge-vrrp {
            background: #10b981;
            color: white;
        }

        .badge-glbp {
            background: #f59e0b;
            color: white;
        }

        .config-steps {
            counter-reset: step;
        }

        .config-step {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin: 15px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
        }

        .config-step::before {
            counter-increment: step;
            content: counter(step);
            background: #16a34a;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        @media (max-width: 900px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .fhrp-diagram {
                flex-direction: column;
            }
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 5px;
            background: #22c55e;
            transition: width 0.3s;
            z-index: 1001;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>

    <div class="presentation">
        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="icon-large">üîÑ</div>
            <h1>First-Hop Redundancy Protocols</h1>
            <p class="subtitle">Eliminating Single Points of Failure in Default Gateway Design</p>
            <div class="key-point" style="text-align: center; margin-top: 40px;">
                <p style="color: white; margin: 0;">CCNA 200-301 Objective: 3.5</p>
                <p style="color: #dcfce7; margin: 10px 0 0 0; font-size: 0.9em;">
                    Explain the role of FHRPs (HSRP, VRRP, GLBP)<br>
                    Describe gateway redundancy operations
                </p>
            </div>
            <div class="slide-number">Slide 1 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 2: The Problem -->
        <div class="slide">
            <h2>The Problem: Single Point of Failure</h2>
            <p>Every device needs a default gateway to reach networks beyond its local subnet. But what happens when that gateway fails?</p>

            <div class="fhrp-diagram">
                <div style="display: flex; flex-direction: column; align-items: center; gap: 15px;">
                    <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 10px; font-weight: bold;">PC-1</div>
                    <div style="font-size: 0.9em; color: #666;">Gateway: 192.168.1.1</div>
                </div>
                <div style="font-size: 2em; color: #16a34a;">‚Üí</div>
                <div class="router-box" style="background: #ef4444;">
                    Router A<br>
                    <small>192.168.1.1</small><br>
                    <small style="color: #fee2e2;">‚ùå FAILED!</small>
                </div>
                <div style="font-size: 2em; color: #ccc;">‚§ç</div>
                <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; border: 2px dashed #ccc;">
                    Internet<br>
                    <small style="color: #666;">Unreachable</small>
                </div>
            </div>

            <div class="danger-box">
                <h3 style="color: #dc2626;">The Single Point of Failure Problem</h3>
                <ul>
                    <li>PC-1 has only ONE default gateway configured (192.168.1.1)</li>
                    <li>If Router A fails, PC-1 loses ALL external connectivity</li>
                    <li>Router B is sitting idle even though it's connected to the same network</li>
                    <li>Manual reconfiguration of every device required for failover</li>
                    <li>Network downtime until gateway is restored or reconfigured</li>
                </ul>
            </div>

            <div class="info-box">
                <strong>The Question:</strong> How can we provide redundant default gateways that automatically failover without reconfiguring end devices?
            </div>
            <div class="slide-number">Slide 2 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 3: The Solution -->
        <div class="slide">
            <h2>The Solution: Virtual Gateway</h2>
            <p>FHRPs create a <strong>virtual IP and MAC address</strong> shared by multiple physical routers. End devices use the virtual gateway!</p>

            <div class="virtual-gateway">
                <h3 style="color: white; margin: 0;">Virtual Gateway: 192.168.1.254</h3>
                <p style="margin: 10px 0 0 0; font-size: 0.9em; color: #e9d5ff;">Shared Virtual IP - Always Available</p>
            </div>

            <div class="fhrp-diagram" style="flex-direction: column; gap: 15px;">
                <div style="display: flex; gap: 30px; align-items: center; justify-content: center;">
                    <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 10px; font-weight: bold;">PC-1</div>
                    <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 10px; font-weight: bold;">PC-2</div>
                    <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 10px; font-weight: bold;">PC-3</div>
                </div>
                <div style="text-align: center; color: #666; font-size: 0.9em;">Gateway: 192.168.1.254 (Virtual)</div>
                <div style="font-size: 2em; text-align: center;">‚¨áÔ∏è</div>
                <div style="display: flex; gap: 30px; justify-content: center;">
                    <div class="router-box active">
                        Router A (ACTIVE)<br>
                        <small>192.168.1.1</small>
                    </div>
                    <div class="router-box standby">
                        Router B (STANDBY)<br>
                        <small>192.168.1.2</small>
                    </div>
                </div>
            </div>

            <div class="success-box">
                <h3 style="color: #059669;">How FHRP Solves the Problem</h3>
                <ul>
                    <li><strong>Virtual IP Address:</strong> 192.168.1.254 (shared by both routers)</li>
                    <li><strong>Virtual MAC Address:</strong> One MAC shared by multiple routers</li>
                    <li><strong>Active Router:</strong> Handles all traffic for the virtual gateway</li>
                    <li><strong>Standby Router:</strong> Monitors active router and takes over if it fails</li>
                    <li><strong>Automatic Failover:</strong> No end-device reconfiguration needed!</li>
                </ul>
            </div>
            <div class="slide-number">Slide 3 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 4: Three FHRP Protocols -->
        <div class="slide">
            <h2>Three FHRP Protocols</h2>
            <p>Cisco and the industry offer three different protocols that accomplish the same goal:</p>

            <div class="comparison-grid">
                <div class="comparison-box hsrp">
                    <h3 style="color: #1e40af; text-align: center;">HSRP</h3>
                    <p style="text-align: center;"><span class="protocol-badge badge-hsrp">Cisco Proprietary</span></p>
                    <ul style="font-size: 0.95em;">
                        <li><strong>Hot Standby Router Protocol</strong></li>
                        <li>Cisco-only devices</li>
                        <li>Versions 1 and 2</li>
                        <li>Most common in Cisco networks</li>
                        <li>CCNA exam focus</li>
                    </ul>
                </div>
                <div class="comparison-box vrrp">
                    <h3 style="color: #059669; text-align: center;">VRRP</h3>
                    <p style="text-align: center;"><span class="protocol-badge badge-vrrp">IEEE Standard</span></p>
                    <ul style="font-size: 0.95em;">
                        <li><strong>Virtual Router Redundancy Protocol</strong></li>
                        <li>RFC 5798 (industry standard)</li>
                        <li>Works with any vendor</li>
                        <li>Similar to HSRP</li>
                        <li>Preferred for multi-vendor</li>
                    </ul>
                </div>
                <div class="comparison-box glbp">
                    <h3 style="color: #d97706; text-align: center;">GLBP</h3>
                    <p style="text-align: center;"><span class="protocol-badge badge-glbp">Cisco Proprietary</span></p>
                    <ul style="font-size: 0.95em;">
                        <li><strong>Gateway Load Balancing Protocol</strong></li>
                        <li>Cisco-only devices</li>
                        <li>Adds load balancing</li>
                        <li>All routers forward traffic</li>
                        <li>More complex than HSRP</li>
                    </ul>
                </div>
            </div>

            <div class="key-point">
                <strong>Key Difference:</strong><br>
                ‚Ä¢ HSRP/VRRP: Only ONE router forwards traffic at a time (active/backup model)<br>
                ‚Ä¢ GLBP: ALL routers can forward traffic simultaneously (load balancing model)
            </div>
            <div class="slide-number">Slide 4 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 5: HSRP Deep Dive -->
        <div class="slide">
            <h2>HSRP (Hot Standby Router Protocol)</h2>
            <p>Cisco's original FHRP solution, most commonly deployed in enterprise networks.</p>

            <h3>HSRP Versions</h3>
            <table>
                <tr>
                    <th>Feature</th>
                    <th>HSRPv1</th>
                    <th>HSRPv2</th>
                </tr>
                <tr>
                    <td><strong>Group Range</strong></td>
                    <td>0-255</td>
                    <td>0-4095</td>
                </tr>
                <tr>
                    <td><strong>Multicast Address</strong></td>
                    <td>224.0.0.2</td>
                    <td>224.0.0.102</td>
                </tr>
                <tr>
                    <td><strong>Virtual MAC</strong></td>
                    <td>0000.0c07.acXX</td>
                    <td>0000.0c9f.fXXX</td>
                </tr>
                <tr>
                    <td><strong>Transport</strong></td>
                    <td>UDP 1985</td>
                    <td>UDP 1985</td>
                </tr>
                <tr>
                    <td><strong>Default Timers</strong></td>
                    <td>Hello 3s, Hold 10s</td>
                    <td>Hello 3s, Hold 10s</td>
                </tr>
            </table>

            <div class="info-box">
                <h3 style="color: #1e40af;">HSRP Technical Details</h3>
                <ul>
                    <li><strong>Protocol:</strong> UDP port 1985 (both versions)</li>
                    <li><strong>Virtual MAC Format (v1):</strong> 0000.0c07.ac<strong>XX</strong> (XX = group number in hex)</li>
                    <li><strong>Virtual MAC Format (v2):</strong> 0000.0c9f.f<strong>XXX</strong> (XXX = group number in hex)</li>
                    <li><strong>Election:</strong> Highest priority wins (default 100), IP address is tiebreaker</li>
                    <li><strong>Preemption:</strong> Disabled by default (must enable to reclaim active role)</li>
                </ul>
            </div>
            <div class="slide-number">Slide 5 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 6: VRRP Deep Dive -->
        <div class="slide">
            <h2>VRRP (Virtual Router Redundancy Protocol)</h2>
            <p>The industry standard alternative to HSRP, defined in RFC 5798.</p>

            <h3>VRRP Specifications</h3>
            <table>
                <tr>
                    <th>Feature</th>
                    <th>VRRP</th>
                </tr>
                <tr>
                    <td><strong>Group Range</strong></td>
                    <td>1-255</td>
                </tr>
                <tr>
                    <td><strong>Multicast Address</strong></td>
                    <td>224.0.0.18</td>
                </tr>
                <tr>
                    <td><strong>Virtual MAC</strong></td>
                    <td>0000.5e00.01XX</td>
                </tr>
                <tr>
                    <td><strong>Transport</strong></td>
                    <td>IP Protocol 112 (not UDP!)</td>
                </tr>
                <tr>
                    <td><strong>Default Timers</strong></td>
                    <td>Advertisement 1s</td>
                </tr>
                <tr>
                    <td><strong>Preemption</strong></td>
                    <td>Enabled by default</td>
                </tr>
            </table>

            <div class="info-box">
                <h3 style="color: #059669;">VRRP Key Differences from HSRP</h3>
                <ul>
                    <li><strong>Master/Backup terminology</strong> (instead of Active/Standby)</li>
                    <li><strong>Preemption enabled by default</strong> (HSRP requires manual enable)</li>
                    <li><strong>Uses IP protocol 112</strong> (not UDP like HSRP)</li>
                    <li><strong>Virtual MAC:</strong> 0000.5e00.01<strong>XX</strong> (XX = group number in hex)</li>
                    <li><strong>Priority range:</strong> 1-254 (255 reserved for IP address owner)</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>Exam Note:</strong> VRRP and HSRP are NOT compatible! You cannot mix them on the same network segment.
            </div>
            <div class="slide-number">Slide 6 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 7: GLBP Deep Dive -->
        <div class="slide">
            <h2>GLBP (Gateway Load Balancing Protocol)</h2>
            <p>Cisco's advanced FHRP that provides both redundancy AND load balancing.</p>

            <h3>GLBP Specifications</h3>
            <table>
                <tr>
                    <th>Feature</th>
                    <th>GLBP</th>
                </tr>
                <tr>
                    <td><strong>Group Range</strong></td>
                    <td>0-1023</td>
                </tr>
                <tr>
                    <td><strong>Multicast Address</strong></td>
                    <td>224.0.0.102</td>
                </tr>
                <tr>
                    <td><strong>Virtual MAC</strong></td>
                    <td>0007.b400.XXYY</td>
                </tr>
                <tr>
                    <td><strong>Transport</strong></td>
                    <td>UDP 3222</td>
                </tr>
                <tr>
                    <td><strong>Default Timers</strong></td>
                    <td>Hello 3s, Hold 10s</td>
                </tr>
            </table>

            <div class="success-box">
                <h3 style="color: #059669;">GLBP Unique Features</h3>
                <ul>
                    <li><strong>AVG (Active Virtual Gateway):</strong> Master gateway that assigns virtual MACs</li>
                    <li><strong>AVF (Active Virtual Forwarder):</strong> Each router can forward traffic</li>
                    <li><strong>Multiple Virtual MACs:</strong> 0007.b400.<strong>XXYY</strong> (XX=group, YY=forwarder)</li>
                    <li><strong>Load Balancing Methods:</strong> Round-robin, weighted, host-dependent</li>
                    <li><strong>Up to 4 routers</strong> actively forwarding traffic simultaneously</li>
                </ul>
            </div>

            <div class="key-point">
                <strong>Why GLBP?</strong> With HSRP/VRRP, only one router forwards traffic while others sit idle. GLBP uses ALL routers, distributing the load and maximizing bandwidth utilization.
            </div>
            <div class="slide-number">Slide 7 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 8: Protocol Comparison -->
        <div class="slide">
            <h2>Side-by-Side Comparison</h2>
            <p>Quick reference for all three FHRP protocols:</p>

            <table>
                <tr>
                    <th>Feature</th>
                    <th>HSRP</th>
                    <th>VRRP</th>
                    <th>GLBP</th>
                </tr>
                <tr>
                    <td><strong>Vendor</strong></td>
                    <td>Cisco</td>
                    <td>Open Standard</td>
                    <td>Cisco</td>
                </tr>
                <tr>
                    <td><strong>Active Routers</strong></td>
                    <td>1</td>
                    <td>1</td>
                    <td>Up to 4</td>
                </tr>
                <tr>
                    <td><strong>Terminology</strong></td>
                    <td>Active/Standby</td>
                    <td>Master/Backup</td>
                    <td>AVG/AVF</td>
                </tr>
                <tr>
                    <td><strong>Multicast</strong></td>
                    <td>224.0.0.2 (v1)<br>224.0.0.102 (v2)</td>
                    <td>224.0.0.18</td>
                    <td>224.0.0.102</td>
                </tr>
                <tr>
                    <td><strong>Transport</strong></td>
                    <td>UDP 1985</td>
                    <td>IP Protocol 112</td>
                    <td>UDP 3222</td>
                </tr>
                <tr>
                    <td><strong>Virtual MAC</strong></td>
                    <td>0000.0c07.acXX (v1)<br>0000.0c9f.fXXX (v2)</td>
                    <td>0000.5e00.01XX</td>
                    <td>0007.b400.XXYY</td>
                </tr>
                <tr>
                    <td><strong>Default Preemption</strong></td>
                    <td>Disabled</td>
                    <td>Enabled</td>
                    <td>Disabled</td>
                </tr>
                <tr>
                    <td><strong>Load Balancing</strong></td>
                    <td>No</td>
                    <td>No</td>
                    <td>Yes</td>
                </tr>
            </table>

            <div class="slide-number">Slide 8 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 9: HSRP States -->
        <div class="slide">
            <h2>HSRP State Machine</h2>
            <p>HSRP routers transition through several states during operation:</p>

            <div class="state-diagram" style="flex-wrap: wrap;">
                <div class="state-box">Initial</div>
                <div class="state-arrow">‚Üí</div>
                <div class="state-box">Learn</div>
                <div class="state-arrow">‚Üí</div>
                <div class="state-box">Listen</div>
                <div class="state-arrow">‚Üí</div>
                <div class="state-box">Speak</div>
                <div class="state-arrow">‚Üí</div>
                <div class="state-box" style="border-color: #10b981; background: #d1fae5;">Standby</div>
                <div class="state-arrow">‚Üí</div>
                <div class="state-box" style="border-color: #3b82f6; background: #dbeafe;">Active</div>
            </div>

            <div class="config-steps">
                <div class="config-step">
                    <div>
                        <strong>Initial</strong><br>
                        Starting state when interface first comes up. No HSRP running yet.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Learn</strong><br>
                        Router hasn't determined virtual IP yet, waiting to hear from active router.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Listen</strong><br>
                        Router knows virtual IP, listening for hello messages from active/standby routers.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Speak</strong><br>
                        Router sends hello messages, participating in active/standby election.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Standby</strong><br>
                        Router is backup, monitoring active router. Ready to take over if active fails.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Active</strong><br>
                        Router is forwarding traffic for the virtual IP address. Sends periodic hellos.
                    </div>
                </div>
            </div>

            <div class="slide-number">Slide 9 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 10: Priority and Preemption -->
        <div class="slide">
            <h2>Priority and Preemption</h2>
            <p>How routers decide which one becomes active and when they take over:</p>

            <h3>Priority</h3>
            <div class="info-box">
                <ul>
                    <li><strong>Range:</strong> 0-255 (HSRP/GLBP), 1-254 (VRRP)</li>
                    <li><strong>Default:</strong> 100 (all protocols)</li>
                    <li><strong>Higher priority wins</strong> the active/master election</li>
                    <li><strong>Tiebreaker:</strong> Highest IP address becomes active if priorities match</li>
                    <li><strong>Configuration:</strong> <code>standby 1 priority 110</code></li>
                </ul>
            </div>

            <h3>Preemption</h3>
            <div class="warning-box">
                <h3 style="color: #d97706;">Understanding Preemption</h3>
                <p><strong>Without preemption:</strong> Once a router becomes active, it stays active even if a higher-priority router comes online.</p>
                <p><strong>With preemption:</strong> A higher-priority router will take over the active role when it becomes available.</p>
                <ul>
                    <li><strong>HSRP/GLBP:</strong> Disabled by default - must configure <code>standby 1 preempt</code></li>
                    <li><strong>VRRP:</strong> Enabled by default - router with highest priority always becomes master</li>
                </ul>
            </div>

            <h3>Example Scenario</h3>
            <div class="code-block">
! Router A: Priority 110 (preferred active)
interface GigabitEthernet0/0
 ip address 192.168.1.1 255.255.255.0
 standby 1 ip 192.168.1.254
 standby 1 priority 110
 standby 1 preempt

! Router B: Priority 100 (default)
interface GigabitEthernet0/0
 ip address 192.168.1.2 255.255.255.0
 standby 1 ip 192.168.1.254
            </div>
            <div class="slide-number">Slide 10 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 11: HSRP Configuration -->
        <div class="slide">
            <h2>HSRP Configuration</h2>
            <p>Step-by-step configuration for HSRP on Cisco routers:</p>

            <div class="code-block">
! Router A (Active Router)
Router-A(config)# interface GigabitEthernet0/0
Router-A(config-if)# ip address 192.168.1.1 255.255.255.0
Router-A(config-if)# standby 1 ip 192.168.1.254
Router-A(config-if)# standby 1 priority 110
Router-A(config-if)# standby 1 preempt
Router-A(config-if)# standby 1 timers 1 3
Router-A(config-if)# no shutdown

! Router B (Standby Router)
Router-B(config)# interface GigabitEthernet0/0
Router-B(config-if)# ip address 192.168.1.2 255.255.255.0
Router-B(config-if)# standby 1 ip 192.168.1.254
Router-B(config-if)# standby 1 priority 90
Router-B(config-if)# no shutdown
            </div>

            <div class="config-steps">
                <div class="config-step">
                    <div>
                        <strong>standby [group] ip [virtual-ip]</strong><br>
                        Enables HSRP and sets the virtual gateway IP address. Group number can be 0-255 (v1) or 0-4095 (v2).
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>standby [group] priority [value]</strong><br>
                        Sets router priority (default 100). Higher priority becomes active.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>standby [group] preempt</strong><br>
                        Enables preemption - allows higher priority router to reclaim active role.
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>standby [group] timers [hello] [hold]</strong><br>
                        Optional: Adjusts hello and hold timers (default 3s hello, 10s hold).
                    </div>
                </div>
            </div>
            <div class="slide-number">Slide 11 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 12: VRRP Configuration -->
        <div class="slide">
            <h2>VRRP Configuration</h2>
            <p>VRRP configuration on Cisco IOS routers:</p>

            <div class="code-block">
! Router A (Master Router)
Router-A(config)# interface GigabitEthernet0/0
Router-A(config-if)# ip address 192.168.1.1 255.255.255.0
Router-A(config-if)# vrrp 1 ip 192.168.1.254
Router-A(config-if)# vrrp 1 priority 110
Router-A(config-if)# no shutdown

! Router B (Backup Router)
Router-B(config)# interface GigabitEthernet0/0
Router-B(config-if)# ip address 192.168.1.2 255.255.255.0
Router-B(config-if)# vrrp 1 ip 192.168.1.254
Router-B(config-if)# vrrp 1 priority 90
Router-B(config-if)# no shutdown
            </div>

            <h3>VRRP vs HSRP Command Comparison</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>HSRP</th>
                    <th>VRRP</th>
                </tr>
                <tr>
                    <td>Enable and set virtual IP</td>
                    <td><code>standby 1 ip 192.168.1.254</code></td>
                    <td><code>vrrp 1 ip 192.168.1.254</code></td>
                </tr>
                <tr>
                    <td>Set priority</td>
                    <td><code>standby 1 priority 110</code></td>
                    <td><code>vrrp 1 priority 110</code></td>
                </tr>
                <tr>
                    <td>Enable preemption</td>
                    <td><code>standby 1 preempt</code></td>
                    <td>Enabled by default</td>
                </tr>
                <tr>
                    <td>Adjust timers</td>
                    <td><code>standby 1 timers 1 3</code></td>
                    <td><code>vrrp 1 timers advertise 1</code></td>
                </tr>
            </table>

            <div class="info-box">
                <strong>Key Difference:</strong> VRRP preemption is enabled by default, whereas HSRP requires explicit configuration.
            </div>
            <div class="slide-number">Slide 12 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 13: GLBP Configuration -->
        <div class="slide">
            <h2>GLBP Configuration</h2>
            <p>Configuring GLBP for load balancing redundancy:</p>

            <div class="code-block">
! Router A (Primary AVG)
Router-A(config)# interface GigabitEthernet0/0
Router-A(config-if)# ip address 192.168.1.1 255.255.255.0
Router-A(config-if)# glbp 1 ip 192.168.1.254
Router-A(config-if)# glbp 1 priority 110
Router-A(config-if)# glbp 1 preempt
Router-A(config-if)# glbp 1 load-balancing round-robin
Router-A(config-if)# no shutdown

! Router B (Secondary AVG, Also AVF)
Router-B(config)# interface GigabitEthernet0/0
Router-B(config-if)# ip address 192.168.1.2 255.255.255.0
Router-B(config-if)# glbp 1 ip 192.168.1.254
Router-B(config-if)# glbp 1 priority 90
Router-B(config-if)# no shutdown
            </div>

            <h3>GLBP Load Balancing Methods</h3>
            <table>
                <tr>
                    <th>Method</th>
                    <th>Description</th>
                    <th>Command</th>
                </tr>
                <tr>
                    <td><strong>Round-Robin</strong></td>
                    <td>Distributes hosts evenly across all AVFs (default)</td>
                    <td><code>glbp 1 load-balancing round-robin</code></td>
                </tr>
                <tr>
                    <td><strong>Weighted</strong></td>
                    <td>Distributes based on assigned weights</td>
                    <td><code>glbp 1 load-balancing weighted</code></td>
                </tr>
                <tr>
                    <td><strong>Host-Dependent</strong></td>
                    <td>Same host always uses same AVF</td>
                    <td><code>glbp 1 load-balancing host-dependent</code></td>
                </tr>
            </table>

            <div class="success-box">
                <strong>GLBP Advantage:</strong> With two routers, both can forward traffic simultaneously, effectively doubling throughput compared to HSRP/VRRP where one router sits idle.
            </div>
            <div class="slide-number">Slide 13 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 14: Virtual MAC Addresses -->
        <div class="slide">
            <h2>Virtual MAC Address Format</h2>
            <p>Each FHRP protocol uses a specific virtual MAC address format:</p>

            <div class="comparison-grid">
                <div class="comparison-box hsrp">
                    <h3 style="color: #1e40af;">HSRP Virtual MAC</h3>
                    <p><strong>Version 1:</strong></p>
                    <div class="code-block" style="font-size: 0.9em;">
0000.0c07.ac<span style="color: #fbbf24;">XX</span>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">XX = Group number in hex<br>Group 10 = 0000.0c07.ac<strong>0a</strong></p>

                    <p style="margin-top: 15px;"><strong>Version 2:</strong></p>
                    <div class="code-block" style="font-size: 0.9em;">
0000.0c9f.f<span style="color: #fbbf24;">XXX</span>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">XXX = Group number in hex<br>Group 100 = 0000.0c9f.f<strong>064</strong></p>
                </div>

                <div class="comparison-box vrrp">
                    <h3 style="color: #059669;">VRRP Virtual MAC</h3>
                    <div class="code-block" style="font-size: 0.9em; margin-top: 30px;">
0000.5e00.01<span style="color: #fbbf24;">XX</span>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">XX = Group number in hex<br>Group 10 = 0000.5e00.01<strong>0a</strong><br>Group 100 = 0000.5e00.01<strong>64</strong></p>
                </div>

                <div class="comparison-box glbp">
                    <h3 style="color: #d97706;">GLBP Virtual MAC</h3>
                    <div class="code-block" style="font-size: 0.9em; margin-top: 30px;">
0007.b400.<span style="color: #fbbf24;">XXYY</span>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">XX = Group number in hex<br>YY = Forwarder number in hex<br><br>Group 1, Forwarder 1:<br>0007.b400.<strong>0101</strong></p>
                </div>
            </div>

            <div class="info-box">
                <strong>Why This Matters:</strong> When troubleshooting, you can identify which FHRP protocol is running by looking at the virtual MAC address in the ARP table or CAM table.
            </div>

            <div class="code-block">
! Check ARP table on end device
PC> arp -a
192.168.1.254    00-00-0c-07-ac-0a    dynamic    ! This is HSRP v1
            </div>
            <div class="slide-number">Slide 14 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 15: Verification Commands -->
        <div class="slide">
            <h2>Verification Commands</h2>

            <h3>HSRP Verification</h3>
            <div class="code-block">
! Show HSRP status
Router# show standby

! Show brief HSRP info
Router# show standby brief

! Example output:
GigabitEthernet0/0 - Group 1
  State is Active
    2 state changes, last state change 00:05:23
  Virtual IP address is 192.168.1.254
  Active virtual MAC address is 0000.0c07.ac01
    Local virtual MAC address is 0000.0c07.ac01 (v1 default)
  Hello time 3 sec, hold time 10 sec
  Next hello sent in 1.456 secs
  Preemption enabled
  Active router is local
  Standby router is 192.168.1.2, priority 90 (expires in 9.456 sec)
  Priority 110 (configured 110)
            </div>

            <h3>VRRP Verification</h3>
            <div class="code-block">
! Show VRRP status
Router# show vrrp

! Show brief VRRP info
Router# show vrrp brief
            </div>

            <h3>GLBP Verification</h3>
            <div class="code-block">
! Show GLBP status
Router# show glbp

! Show brief GLBP info
Router# show glbp brief
            </div>

            <div class="slide-number">Slide 15 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 16: Troubleshooting -->
        <div class="slide">
            <h2>Troubleshooting FHRPs</h2>
            <p>Common issues and solutions:</p>

            <table>
                <tr>
                    <th>Symptom</th>
                    <th>Possible Cause</th>
                    <th>Solution</th>
                </tr>
                <tr>
                    <td>Both routers show Active</td>
                    <td>Routers can't communicate</td>
                    <td>Check physical connectivity, verify same VLAN, check firewall rules blocking multicast</td>
                </tr>
                <tr>
                    <td>No standby router shown</td>
                    <td>Only one router configured, or communication failure</td>
                    <td>Verify second router has HSRP/VRRP/GLBP configured on correct interface</td>
                </tr>
                <tr>
                    <td>Constant state changes</td>
                    <td>Timers too aggressive, link flapping</td>
                    <td>Increase hello/hold timers, check interface stability</td>
                </tr>
                <tr>
                    <td>Wrong router is active</td>
                    <td>Preemption not enabled</td>
                    <td>Configure <code>standby 1 preempt</code> on higher-priority router</td>
                </tr>
                <tr>
                    <td>End devices can't reach gateway</td>
                    <td>Virtual IP not in same subnet</td>
                    <td>Verify virtual IP matches subnet of physical interfaces</td>
                </tr>
            </table>

            <div class="warning-box">
                <h3 style="color: #d97706;">Common Configuration Mistakes</h3>
                <ul>
                    <li>Forgetting to enable preemption (HSRP/GLBP)</li>
                    <li>Mismatched group numbers on different routers</li>
                    <li>Virtual IP not in the same subnet as interface IPs</li>
                    <li>Firewall blocking HSRP/VRRP/GLBP multicast traffic</li>
                    <li>Same priority on both routers without considering IP tiebreaker</li>
                </ul>
            </div>
            <div class="slide-number">Slide 16 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 17: Interface Tracking -->
        <div class="slide">
            <h2>Interface Tracking</h2>
            <p>Automatically adjust router priority based on interface status:</p>

            <div class="info-box">
                <h3 style="color: #1e40af;">Why Track Interfaces?</h3>
                <p>If the active router's uplink to the Internet fails but the LAN interface stays up, it remains active even though it can't route traffic! Interface tracking solves this.</p>
            </div>

            <h3>How It Works</h3>
            <div class="config-steps">
                <div class="config-step">
                    <div>
                        Configure HSRP with higher priority on preferred router
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        Enable tracking on a critical interface (e.g., uplink to ISP)
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        If tracked interface goes down, priority decreases by decrement value
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        Standby router (with higher priority now) takes over as active
                    </div>
                </div>
            </div>

            <h3>Configuration Example</h3>
            <div class="code-block">
! Configure tracking
Router-A(config)# track 1 interface GigabitEthernet0/1 line-protocol

! Apply to HSRP
Router-A(config)# interface GigabitEthernet0/0
Router-A(config-if)# standby 1 ip 192.168.1.254
Router-A(config-if)# standby 1 priority 110
Router-A(config-if)# standby 1 preempt
Router-A(config-if)# standby 1 track 1 decrement 20

! If Gi0/1 goes down, priority drops to 90 (110-20)
! Standby router with priority 100 becomes active
            </div>
            <div class="slide-number">Slide 17 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 18: Best Practices -->
        <div class="slide">
            <h2>FHRP Best Practices</h2>

            <div class="success-box">
                <h3 style="color: #059669;">Do This</h3>
                <ul>
                    <li>Use <strong>HSRP v2</strong> for new deployments (more groups, better MAC format)</li>
                    <li>Use <strong>VRRP</strong> in multi-vendor environments</li>
                    <li>Use <strong>GLBP</strong> when you need load balancing across gateways</li>
                    <li>Always enable <strong>preemption</strong> on preferred active router</li>
                    <li>Configure <strong>interface tracking</strong> for critical uplinks</li>
                    <li>Use <strong>consistent group numbers</strong> across all routers</li>
                    <li>Document which router should be active and why</li>
                </ul>
            </div>

            <div class="danger-box">
                <h3 style="color: #dc2626;">Avoid This</h3>
                <ul>
                    <li>Don't mix HSRP, VRRP, and GLBP on the same network segment</li>
                    <li>Don't use same priorities without considering IP address tiebreaker</li>
                    <li>Don't forget to configure both routers in the redundancy group</li>
                    <li>Don't use aggressive timers (< 1 second) without good reason</li>
                    <li>Don't configure virtual IP outside the subnet range</li>
                    <li>Don't forget firewalls may block FHRP multicast packets</li>
                </ul>
            </div>

            <div class="key-point">
                <strong>Production Tip:</strong> In most enterprise networks, HSRP is used for Cisco-only environments, VRRP for multi-vendor, and GLBP when load distribution is important. Choose based on your specific requirements.
            </div>
            <div class="slide-number">Slide 18 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 19: Quick Reference -->
        <div class="slide">
            <h2>Quick Reference Card</h2>

            <div class="comparison-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="comparison-box hsrp">
                    <h4>HSRP Commands</h4>
                    <div class="code-block" style="font-size: 0.85em;">
! Basic config
standby 1 ip 192.168.1.254
standby 1 priority 110
standby 1 preempt

! With tracking
track 1 interface Gi0/1 line-protocol
standby 1 track 1 decrement 20

! Timers
standby 1 timers 1 3
                    </div>
                </div>

                <div class="comparison-box vrrp">
                    <h4>VRRP Commands</h4>
                    <div class="code-block" style="font-size: 0.85em;">
! Basic config
vrrp 1 ip 192.168.1.254
vrrp 1 priority 110
! Preempt on by default

! Timers
vrrp 1 timers advertise 1
                    </div>
                </div>

                <div class="comparison-box glbp">
                    <h4>GLBP Commands</h4>
                    <div class="code-block" style="font-size: 0.85em;">
! Basic config
glbp 1 ip 192.168.1.254
glbp 1 priority 110
glbp 1 preempt

! Load balancing
glbp 1 load-balancing round-robin
glbp 1 load-balancing weighted
glbp 1 load-balancing host-dependent
                    </div>
                </div>

                <div class="comparison-box" style="border-color: #16a34a; grid-column: span 2;">
                    <h4>Verification Commands</h4>
                    <div class="code-block" style="font-size: 0.85em;">
show standby           ! HSRP status
show standby brief     ! HSRP summary
show vrrp              ! VRRP status
show vrrp brief        ! VRRP summary
show glbp              ! GLBP status
show glbp brief        ! GLBP summary
show track             ! Interface tracking status
                    </div>
                </div>
            </div>
            <div class="slide-number">Slide 19 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 20: Summary -->
        <div class="slide">
            <h2>Key Takeaways</h2>

            <div class="comparison-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="comparison-box" style="border-color: #16a34a; background: #f0fdf4;">
                    <h3 style="color: #166534;">The Problem</h3>
                    <ul>
                        <li>Single default gateway = single point of failure</li>
                        <li>Manual failover requires reconfiguring all end devices</li>
                        <li>Redundant routers sit idle without FHRP</li>
                    </ul>
                </div>
                <div class="comparison-box" style="border-color: #16a34a; background: #f0fdf4;">
                    <h3 style="color: #166534;">The Solution</h3>
                    <ul>
                        <li>Virtual IP and MAC shared by multiple routers</li>
                        <li>Automatic failover without client reconfiguration</li>
                        <li>Active router forwards, standby monitors</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box hsrp">
                    <h3 style="color: #1e40af; text-align: center;">HSRP</h3>
                    <ul>
                        <li>Cisco proprietary</li>
                        <li>Active/Standby model</li>
                        <li>UDP 1985</li>
                        <li>0000.0c07.acXX</li>
                        <li>Preempt: manual</li>
                    </ul>
                </div>
                <div class="comparison-box vrrp">
                    <h3 style="color: #059669; text-align: center;">VRRP</h3>
                    <ul>
                        <li>Open standard</li>
                        <li>Master/Backup model</li>
                        <li>IP Protocol 112</li>
                        <li>0000.5e00.01XX</li>
                        <li>Preempt: automatic</li>
                    </ul>
                </div>
                <div class="comparison-box glbp">
                    <h3 style="color: #d97706; text-align: center;">GLBP</h3>
                    <ul>
                        <li>Cisco proprietary</li>
                        <li>AVG/AVF model</li>
                        <li>UDP 3222</li>
                        <li>0007.b400.XXYY</li>
                        <li>Load balancing!</li>
                    </ul>
                </div>
            </div>

            <div class="key-point" style="text-align: center;">
                <p style="color: white; font-size: 1.3em; margin: 0;">Ready for CCNA FHRP questions!</p>
                <p style="color: #dcfce7; margin: 10px 0 0 0; font-size: 0.9em;">Master the protocols, priorities, and virtual MAC formats</p>
            </div>
            <div class="slide-number">Slide 20 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="controls">
        <button onclick="prevSlide()" id="prevBtn">‚Üê Previous</button>
        <button onclick="nextSlide()" id="nextBtn">Next ‚Üí</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;

            // Update progress bar
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = progress + '%';
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                showSlide(currentSlide + 1);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevSlide();
            }
        });

        // Touch navigation for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > 50) {
                nextSlide();
            } else if (touchEndX - touchStartX > 50) {
                prevSlide();
            }
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>
