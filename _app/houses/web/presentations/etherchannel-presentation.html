<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EtherChannel & Link Aggregation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            overflow: hidden;
        }

        .presentation {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 60px;
            position: relative;
            animation: slideIn 0.5s ease-out;
            overflow-y: auto;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        h1 {
            color: #1e3a5f;
            font-size: 3.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            color: #2d5a87;
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 4px solid #3b82f6;
            padding-bottom: 15px;
        }

        h3 {
            color: #1e3a5f;
            font-size: 1.8em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p, li {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #333;
        }

        ul, ol {
            margin-left: 40px;
        }

        .subtitle {
            font-size: 1.5em;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }

        .prepared-by {
            position: absolute;
            bottom: 30px;
            right: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .slide-number {
            position: absolute;
            bottom: 30px;
            left: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 1000;
        }

        button {
            padding: 15px 30px;
            font-size: 1.2em;
            background: #2d5a87;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #1e3a5f;
            transform: scale(1.05);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: scale(1);
        }

        .info-box {
            background: #dbeafe;
            border-left: 5px solid #3b82f6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .success-box {
            background: #d1fae5;
            border-left: 5px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .danger-box {
            background: #fee2e2;
            border-left: 5px solid #ef4444;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .key-point {
            background: linear-gradient(135deg, #1e3a5f, #2d5a87);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .code-block {
            background: #1e293b;
            color: #3b82f6;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 15px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            font-size: 1.1em;
        }

        th {
            background: #2d5a87;
            color: white;
            padding: 15px;
            text-align: left;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f0f9ff;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-box {
            border: 2px solid #2d5a87;
            padding: 20px;
            border-radius: 10px;
        }

        .comparison-box.lacp {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .comparison-box.pagp {
            border-color: #f59e0b;
            background: #fffbeb;
        }

        /* EtherChannel Visualization */
        .etherchannel-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            padding: 20px;
        }

        .switch-box {
            background: linear-gradient(135deg, #1e3a5f, #2d5a87);
            color: white;
            padding: 30px 40px;
            border-radius: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
            min-width: 120px;
        }

        .link-bundle {
            display: flex;
            flex-direction: column;
            gap: 8px;
            position: relative;
        }

        .physical-link {
            width: 120px;
            height: 6px;
            background: #ef4444;
            border-radius: 3px;
        }

        .physical-link.active {
            background: #10b981;
        }

        .bundle-bracket {
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3em;
            color: #3b82f6;
        }

        .logical-channel {
            width: 120px;
            height: 20px;
            background: linear-gradient(90deg, #3b82f6, #2563eb);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8em;
        }

        /* Mode Cards */
        .mode-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .mode-card {
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .mode-card h4 {
            color: #1e3a5f;
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .mode-card.active-mode {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .mode-card.passive-mode {
            border-color: #f59e0b;
            background: #fffbeb;
        }

        .mode-card.on-mode {
            border-color: #ef4444;
            background: #fef2f2;
        }

        /* Load Balancing Visual */
        .load-balance-demo {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .traffic-flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .traffic-packet {
            width: 60px;
            height: 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8em;
            font-weight: bold;
        }

        .traffic-arrow {
            font-size: 1.5em;
            color: #2d5a87;
        }

        /* Protocol Badge */
        .protocol-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            margin: 5px;
        }

        .badge-lacp {
            background: #10b981;
            color: white;
        }

        .badge-pagp {
            background: #f59e0b;
            color: white;
        }

        .badge-static {
            background: #6b7280;
            color: white;
        }

        /* Troubleshooting Table */
        .troubleshoot-table td:first-child {
            color: #ef4444;
            font-weight: bold;
        }

        .troubleshoot-table td:last-child {
            color: #10b981;
        }

        /* Icon styling */
        .icon-large {
            font-size: 4em;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Configuration Steps */
        .config-steps {
            counter-reset: step;
        }

        .config-step {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin: 15px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
        }

        .config-step::before {
            counter-increment: step;
            content: counter(step);
            background: #2d5a87;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .comparison-grid, .mode-grid {
                grid-template-columns: 1fr;
            }

            .etherchannel-diagram {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="icon-large">üîó</div>
            <h1>EtherChannel & Link Aggregation</h1>
            <p class="subtitle">Bundling Links for Bandwidth and Redundancy</p>
            <div class="key-point" style="text-align: center; margin-top: 40px;">
                <p style="color: white; margin: 0;">CCNA 200-301 Objective: 2.5</p>
                <p style="color: #93c5fd; margin: 10px 0 0 0; font-size: 0.9em;">
                    Configure and verify EtherChannel (LACP)<br>
                    Understand Layer 2 link aggregation
                </p>
            </div>
            <div class="slide-number">Slide 1 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 2: The Problem -->
        <div class="slide">
            <h2>The Problem: STP Blocks Redundant Links</h2>
            <p>When you add multiple links between switches for redundancy, <strong>Spanning Tree Protocol blocks all but one!</strong></p>

            <div class="etherchannel-diagram">
                <div class="switch-box">Switch A</div>
                <div class="link-bundle">
                    <div class="physical-link active"></div>
                    <div class="physical-link" style="opacity: 0.3;"></div>
                    <div class="physical-link" style="opacity: 0.3;"></div>
                    <div class="physical-link" style="opacity: 0.3;"></div>
                </div>
                <div class="switch-box">Switch B</div>
            </div>

            <div class="danger-box">
                <h3 style="color: #dc2626;">The STP Dilemma</h3>
                <ul>
                    <li>You install 4 √ó 1 Gbps links = 4 Gbps potential bandwidth</li>
                    <li>STP blocks 3 links to prevent loops</li>
                    <li>Result: Only 1 Gbps usable bandwidth!</li>
                    <li>The other 3 links sit idle (wasted investment)</li>
                </ul>
            </div>

            <div class="info-box">
                <strong>The Question:</strong> How can we use ALL links without creating a Layer 2 loop?
            </div>
            <div class="slide-number">Slide 2 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 3: The Solution -->
        <div class="slide">
            <h2>The Solution: EtherChannel</h2>
            <p>EtherChannel bundles multiple physical links into <strong>one logical link</strong>. STP sees it as a single connection!</p>

            <div class="etherchannel-diagram">
                <div class="switch-box">Switch A</div>
                <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div class="link-bundle">
                        <div class="physical-link active"></div>
                        <div class="physical-link active"></div>
                        <div class="physical-link active"></div>
                        <div class="physical-link active"></div>
                    </div>
                    <div style="font-size: 1.5em; color: #3b82f6;">‚¨áÔ∏è Bundled as ‚¨áÔ∏è</div>
                    <div class="logical-channel">Po1 - 4 Gbps</div>
                </div>
                <div class="switch-box">Switch B</div>
            </div>

            <div class="success-box">
                <h3 style="color: #059669;">EtherChannel Benefits</h3>
                <ul>
                    <li><strong>Aggregated Bandwidth:</strong> 4 √ó 1 Gbps = 4 Gbps total</li>
                    <li><strong>Redundancy:</strong> If one link fails, traffic uses remaining links</li>
                    <li><strong>No STP Blocking:</strong> STP treats bundle as one link</li>
                    <li><strong>Load Balancing:</strong> Traffic distributed across all links</li>
                </ul>
            </div>
            <div class="slide-number">Slide 3 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 4: EtherChannel Terminology -->
        <div class="slide">
            <h2>EtherChannel Terminology</h2>
            <table>
                <tr>
                    <th>Term</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>EtherChannel</strong></td>
                    <td>Cisco's term for link aggregation technology</td>
                </tr>
                <tr>
                    <td><strong>Port Channel</strong></td>
                    <td>The logical interface created (Po1, Po2, etc.)</td>
                </tr>
                <tr>
                    <td><strong>Link Aggregation</strong></td>
                    <td>Industry-standard term (IEEE 802.3ad)</td>
                </tr>
                <tr>
                    <td><strong>LAG</strong></td>
                    <td>Link Aggregation Group - the bundle of links</td>
                </tr>
                <tr>
                    <td><strong>LACP</strong></td>
                    <td>Link Aggregation Control Protocol (IEEE standard)</td>
                </tr>
                <tr>
                    <td><strong>PAgP</strong></td>
                    <td>Port Aggregation Protocol (Cisco proprietary)</td>
                </tr>
            </table>
            <div class="info-box">
                <strong>Note:</strong> "EtherChannel" and "Port Channel" are often used interchangeably. The logical interface is always called a "Port Channel" (Po#).
            </div>
            <div class="slide-number">Slide 4 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 5: Two Protocols -->
        <div class="slide">
            <h2>Two EtherChannel Protocols</h2>
            <div class="comparison-grid">
                <div class="comparison-box lacp">
                    <h3 style="color: #059669;">üåê LACP (802.3ad)</h3>
                    <p><span class="protocol-badge badge-lacp">Industry Standard</span></p>
                    <ul>
                        <li>IEEE 802.3ad / 802.1AX</li>
                        <li>Works with any vendor</li>
                        <li>Modes: <strong>active</strong> / <strong>passive</strong></li>
                        <li>Recommended for CCNA</li>
                        <li>Up to 16 links (8 active, 8 standby)</li>
                    </ul>
                </div>
                <div class="comparison-box pagp">
                    <h3 style="color: #d97706;">üî∂ PAgP</h3>
                    <p><span class="protocol-badge badge-pagp">Cisco Proprietary</span></p>
                    <ul>
                        <li>Cisco-only protocol</li>
                        <li>Only works between Cisco devices</li>
                        <li>Modes: <strong>desirable</strong> / <strong>auto</strong></li>
                        <li>Legacy - less common now</li>
                        <li>Up to 8 links</li>
                    </ul>
                </div>
            </div>
            <div class="key-point">
                <strong>CCNA Focus:</strong> The exam emphasizes LACP because it's the industry standard. Know both, but master LACP configuration.
            </div>
            <div class="slide-number">Slide 5 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 6: LACP Modes -->
        <div class="slide">
            <h2>LACP Negotiation Modes</h2>
            <p>LACP uses two modes to negotiate EtherChannel formation:</p>

            <div class="mode-grid">
                <div class="mode-card active-mode">
                    <h4>üü¢ Active</h4>
                    <p>Actively tries to form an EtherChannel</p>
                    <p>Sends LACP packets to initiate negotiation</p>
                    <p><strong>"I want to bundle!"</strong></p>
                </div>
                <div class="mode-card passive-mode">
                    <h4>üü° Passive</h4>
                    <p>Waits for the other side to initiate</p>
                    <p>Responds to LACP packets but doesn't start</p>
                    <p><strong>"I'll bundle if you ask"</strong></p>
                </div>
            </div>

            <h3>LACP Mode Combinations</h3>
            <table>
                <tr>
                    <th>Switch A</th>
                    <th>Switch B</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>Active</td>
                    <td>Active</td>
                    <td style="color: #10b981;">‚úÖ EtherChannel Forms</td>
                </tr>
                <tr>
                    <td>Active</td>
                    <td>Passive</td>
                    <td style="color: #10b981;">‚úÖ EtherChannel Forms</td>
                </tr>
                <tr>
                    <td>Passive</td>
                    <td>Passive</td>
                    <td style="color: #ef4444;">‚ùå No EtherChannel (no one initiates!)</td>
                </tr>
            </table>
            <div class="slide-number">Slide 6 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 7: PAgP Modes -->
        <div class="slide">
            <h2>PAgP Negotiation Modes</h2>
            <p>PAgP uses similar logic with different terminology:</p>

            <div class="mode-grid">
                <div class="mode-card active-mode">
                    <h4>üü¢ Desirable</h4>
                    <p>Actively tries to form an EtherChannel</p>
                    <p>Equivalent to LACP "active"</p>
                    <p><strong>"I desire a bundle!"</strong></p>
                </div>
                <div class="mode-card passive-mode">
                    <h4>üü° Auto</h4>
                    <p>Waits for the other side to initiate</p>
                    <p>Equivalent to LACP "passive"</p>
                    <p><strong>"I'll auto-respond"</strong></p>
                </div>
            </div>

            <h3>PAgP Mode Combinations</h3>
            <table>
                <tr>
                    <th>Switch A</th>
                    <th>Switch B</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>Desirable</td>
                    <td>Desirable</td>
                    <td style="color: #10b981;">‚úÖ EtherChannel Forms</td>
                </tr>
                <tr>
                    <td>Desirable</td>
                    <td>Auto</td>
                    <td style="color: #10b981;">‚úÖ EtherChannel Forms</td>
                </tr>
                <tr>
                    <td>Auto</td>
                    <td>Auto</td>
                    <td style="color: #ef4444;">‚ùå No EtherChannel</td>
                </tr>
            </table>

            <div class="warning-box">
                <strong>Memory Trick:</strong> At least ONE side must be the "initiator" (active/desirable). Two "waiters" (passive/auto) never form a channel!
            </div>
            <div class="slide-number">Slide 7 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 8: Static Mode (On) -->
        <div class="slide">
            <h2>Static Mode: "On"</h2>
            <p>There's a third option: force the EtherChannel without negotiation.</p>

            <div class="mode-grid">
                <div class="mode-card on-mode" style="grid-column: span 2;">
                    <h4>‚ö†Ô∏è On Mode</h4>
                    <p>Forces EtherChannel formation - NO negotiation protocol</p>
                    <p>Both sides MUST be set to "on" - no mismatch allowed!</p>
                    <p><strong>"Just bundle, don't ask questions"</strong></p>
                </div>
            </div>

            <div class="danger-box">
                <h3 style="color: #dc2626;">‚ö†Ô∏è Risks of "On" Mode</h3>
                <ul>
                    <li>No protocol to detect misconfigurations</li>
                    <li>If one side is "on" and other is "active" ‚Üí <strong>LOOP!</strong></li>
                    <li>No automatic recovery from link failures</li>
                    <li>Generally NOT recommended in production</li>
                </ul>
            </div>

            <table>
                <tr>
                    <th>Switch A</th>
                    <th>Switch B</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>On</td>
                    <td>On</td>
                    <td style="color: #10b981;">‚úÖ EtherChannel Forms (static)</td>
                </tr>
                <tr>
                    <td>On</td>
                    <td>Active/Passive</td>
                    <td style="color: #ef4444;">‚ùå DANGEROUS - May cause loops!</td>
                </tr>
            </table>
            <div class="slide-number">Slide 8 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 9: Mode Summary -->
        <div class="slide">
            <h2>Mode Compatibility Summary</h2>
            <p>Complete reference for all mode combinations:</p>

            <table>
                <tr>
                    <th></th>
                    <th>Active (LACP)</th>
                    <th>Passive (LACP)</th>
                    <th>Desirable (PAgP)</th>
                    <th>Auto (PAgP)</th>
                    <th>On</th>
                </tr>
                <tr>
                    <td><strong>Active</strong></td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                </tr>
                <tr>
                    <td><strong>Passive</strong></td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                </tr>
                <tr>
                    <td><strong>Desirable</strong></td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                </tr>
                <tr>
                    <td><strong>Auto</strong></td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                </tr>
                <tr>
                    <td><strong>On</strong></td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #ef4444;">‚ùå No</td>
                    <td style="color: #10b981;">‚úÖ Yes</td>
                </tr>
            </table>

            <div class="key-point">
                <strong>Key Rules:</strong><br>
                1. LACP only works with LACP (active/passive)<br>
                2. PAgP only works with PAgP (desirable/auto)<br>
                3. "On" only works with "On"<br>
                4. You cannot mix protocols!
            </div>
            <div class="slide-number">Slide 9 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 10: Requirements -->
        <div class="slide">
            <h2>EtherChannel Requirements</h2>
            <p>All member ports MUST match these settings:</p>

            <div class="config-steps">
                <div class="config-step">
                    <div>
                        <strong>Speed and Duplex</strong><br>
                        All ports must have the same speed (e.g., 1 Gbps) and duplex (full)
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>VLAN Configuration</strong><br>
                        Access ports: Same access VLAN<br>
                        Trunk ports: Same native VLAN and allowed VLANs
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>STP Settings</strong><br>
                        Same STP port cost and priority on all member ports
                    </div>
                </div>
                <div class="config-step">
                    <div>
                        <strong>Port Type</strong><br>
                        All access OR all trunk - cannot mix access and trunk ports
                    </div>
                </div>
            </div>

            <div class="danger-box">
                <strong>‚ö†Ô∏è Mismatch = Failure:</strong> If ANY setting differs between ports, the EtherChannel will not form or will be suspended!
            </div>
            <div class="slide-number">Slide 10 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 11: LACP Configuration -->
        <div class="slide">
            <h2>LACP Configuration</h2>
            <p>Configuring EtherChannel with LACP (recommended method):</p>

            <div class="code-block">
! Step 1: Select the interfaces to bundle
Switch(config)# interface range GigabitEthernet0/1 - 2

! Step 2: Create the EtherChannel with LACP
Switch(config-if-range)# channel-group 1 mode active

! Step 3: (Optional) Configure the port-channel interface
Switch(config)# interface Port-channel 1
Switch(config-if)# switchport mode trunk
Switch(config-if)# switchport trunk allowed vlan 10,20,30
            </div>

            <div class="info-box">
                <strong>What Happens:</strong>
                <ul>
                    <li><code>channel-group 1</code> creates Port-channel 1 (Po1)</li>
                    <li><code>mode active</code> enables LACP negotiation</li>
                    <li>Settings on Po1 automatically apply to member ports</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>Best Practice:</strong> Configure the Port-channel interface AFTER creating the channel-group. Settings on Po1 propagate to member ports.
            </div>
            <div class="slide-number">Slide 11 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 12: PAgP Configuration -->
        <div class="slide">
            <h2>PAgP Configuration</h2>
            <p>Configuring EtherChannel with PAgP (Cisco-only):</p>

            <div class="code-block">
! Step 1: Select the interfaces to bundle
Switch(config)# interface range GigabitEthernet0/1 - 2

! Step 2: Create the EtherChannel with PAgP
Switch(config-if-range)# channel-group 1 mode desirable

! Step 3: (Optional) Configure the port-channel interface
Switch(config)# interface Port-channel 1
Switch(config-if)# switchport mode access
Switch(config-if)# switchport access vlan 10
            </div>

            <div class="comparison-grid">
                <div class="comparison-box lacp">
                    <h4>LACP Commands</h4>
                    <div class="code-block" style="font-size: 0.9em;">
channel-group 1 mode active
channel-group 1 mode passive
                    </div>
                </div>
                <div class="comparison-box pagp">
                    <h4>PAgP Commands</h4>
                    <div class="code-block" style="font-size: 0.9em;">
channel-group 1 mode desirable
channel-group 1 mode auto
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>Static Mode:</strong> <code>channel-group 1 mode on</code> (no protocol)
            </div>
            <div class="slide-number">Slide 12 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 13: Load Balancing -->
        <div class="slide">
            <h2>EtherChannel Load Balancing</h2>
            <p>How does traffic get distributed across the links?</p>

            <div class="info-box">
                <strong>Load Balancing Methods:</strong> EtherChannel uses a hash algorithm based on packet headers to decide which link to use.
            </div>

            <table>
                <tr>
                    <th>Method</th>
                    <th>Hash Based On</th>
                    <th>Best For</th>
                </tr>
                <tr>
                    <td><code>src-mac</code></td>
                    <td>Source MAC address</td>
                    <td>Many sources ‚Üí one destination</td>
                </tr>
                <tr>
                    <td><code>dst-mac</code></td>
                    <td>Destination MAC address</td>
                    <td>One source ‚Üí many destinations</td>
                </tr>
                <tr>
                    <td><code>src-dst-mac</code></td>
                    <td>Both source & destination MAC</td>
                    <td>Best distribution (default on many switches)</td>
                </tr>
                <tr>
                    <td><code>src-ip</code></td>
                    <td>Source IP address</td>
                    <td>Layer 3 switching</td>
                </tr>
                <tr>
                    <td><code>dst-ip</code></td>
                    <td>Destination IP address</td>
                    <td>Layer 3 switching</td>
                </tr>
                <tr>
                    <td><code>src-dst-ip</code></td>
                    <td>Both source & destination IP</td>
                    <td>Layer 3 - best distribution</td>
                </tr>
            </table>

            <div class="code-block">
! View current load-balancing method
Switch# show etherchannel load-balance

! Change load-balancing method (global config)
Switch(config)# port-channel load-balance src-dst-ip
            </div>
            <div class="slide-number">Slide 13 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 14: Load Balancing Visualization -->
        <div class="slide">
            <h2>Load Balancing in Action</h2>
            <p>With <code>src-dst-mac</code> load balancing:</p>

            <div class="etherchannel-diagram" style="flex-direction: column;">
                <div style="display: flex; align-items: center; gap: 20px; justify-content: center;">
                    <div class="switch-box" style="min-width: 100px;">PC-A</div>
                    <div style="display: flex; flex-direction: column; gap: 5px;">
                        <div style="display: flex; align-items: center;">
                            <div class="traffic-packet" style="background: #ef4444;">Flow 1</div>
                            <span style="margin: 0 10px;">‚Üí</span>
                            <div style="background: #10b981; padding: 5px 15px; border-radius: 5px; color: white;">Link 1</div>
                        </div>
                    </div>
                    <div class="switch-box" style="min-width: 100px;">Server X</div>
                </div>
                <div style="display: flex; align-items: center; gap: 20px; justify-content: center;">
                    <div class="switch-box" style="min-width: 100px;">PC-B</div>
                    <div style="display: flex; flex-direction: column; gap: 5px;">
                        <div style="display: flex; align-items: center;">
                            <div class="traffic-packet" style="background: #3b82f6;">Flow 2</div>
                            <span style="margin: 0 10px;">‚Üí</span>
                            <div style="background: #10b981; padding: 5px 15px; border-radius: 5px; color: white;">Link 2</div>
                        </div>
                    </div>
                    <div class="switch-box" style="min-width: 100px;">Server X</div>
                </div>
                <div style="display: flex; align-items: center; gap: 20px; justify-content: center;">
                    <div class="switch-box" style="min-width: 100px;">PC-A</div>
                    <div style="display: flex; flex-direction: column; gap: 5px;">
                        <div style="display: flex; align-items: center;">
                            <div class="traffic-packet" style="background: #f59e0b;">Flow 3</div>
                            <span style="margin: 0 10px;">‚Üí</span>
                            <div style="background: #10b981; padding: 5px 15px; border-radius: 5px; color: white;">Link 3</div>
                        </div>
                    </div>
                    <div class="switch-box" style="min-width: 100px;">Server Y</div>
                </div>
            </div>

            <div class="warning-box">
                <strong>Important:</strong> A single flow (same src-dst pair) ALWAYS uses the same link. You won't get 4 Gbps for a single file transfer - load balancing works across <em>multiple</em> flows!
            </div>
            <div class="slide-number">Slide 14 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 15: Verification Commands -->
        <div class="slide">
            <h2>Verification Commands</h2>

            <div class="code-block">
! Show EtherChannel summary (most useful!)
Switch# show etherchannel summary

! Show detailed port-channel info
Switch# show etherchannel port-channel

! Show individual port status
Switch# show etherchannel detail

! Show load-balancing method
Switch# show etherchannel load-balance

! Show interface status
Switch# show interfaces port-channel 1
            </div>

            <h3>Reading "show etherchannel summary"</h3>
            <div class="code-block" style="font-size: 0.95em;">
Group  Port-channel  Protocol    Ports
------+-------------+-----------+------------------
1      Po1(SU)       LACP        Gi0/1(P) Gi0/2(P)
            </div>

            <table>
                <tr>
                    <th>Flag</th>
                    <th>Meaning</th>
                </tr>
                <tr>
                    <td>S</td>
                    <td>Layer 2 EtherChannel</td>
                </tr>
                <tr>
                    <td>U</td>
                    <td>In use (channel is up)</td>
                </tr>
                <tr>
                    <td>P</td>
                    <td>Port is bundled in the channel</td>
                </tr>
                <tr>
                    <td>D</td>
                    <td>Down (not in use)</td>
                </tr>
            </table>
            <div class="slide-number">Slide 15 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 16: Troubleshooting -->
        <div class="slide">
            <h2>Troubleshooting EtherChannel</h2>
            <p>Common issues and their solutions:</p>

            <table class="troubleshoot-table">
                <tr>
                    <th>Symptom</th>
                    <th>Cause</th>
                    <th>Solution</th>
                </tr>
                <tr>
                    <td>Channel won't form</td>
                    <td>Mode mismatch (both passive/auto)</td>
                    <td>Set at least one side to active/desirable</td>
                </tr>
                <tr>
                    <td>Ports suspended</td>
                    <td>Speed/duplex mismatch</td>
                    <td>Match speed and duplex on all ports</td>
                </tr>
                <tr>
                    <td>Ports suspended</td>
                    <td>VLAN mismatch</td>
                    <td>Ensure same VLAN config on all ports</td>
                </tr>
                <tr>
                    <td>Individual ports down</td>
                    <td>Protocol mismatch (LACP vs PAgP)</td>
                    <td>Use same protocol on both sides</td>
                </tr>
                <tr>
                    <td>Loop detected</td>
                    <td>One side "on", other side "active"</td>
                    <td>Match modes - never mix "on" with protocols</td>
                </tr>
            </table>

            <div class="code-block">
! Check for configuration mismatches
Switch# show interfaces status err-disabled
Switch# show etherchannel detail
Switch# show running-config interface range Gi0/1 - 2
            </div>
            <div class="slide-number">Slide 16 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 17: Layer 3 EtherChannel -->
        <div class="slide">
            <h2>Layer 3 EtherChannel</h2>
            <p>EtherChannel can also work at Layer 3 (routed interfaces):</p>

            <div class="code-block">
! Configure a Layer 3 EtherChannel
Switch(config)# interface range GigabitEthernet0/1 - 2
Switch(config-if-range)# no switchport
Switch(config-if-range)# channel-group 1 mode active

! Assign IP address to the Port-channel
Switch(config)# interface Port-channel 1
Switch(config-if)# ip address 10.1.1.1 255.255.255.0
Switch(config-if)# no shutdown
            </div>

            <div class="comparison-grid">
                <div class="comparison-box" style="border-color: #3b82f6;">
                    <h4>Layer 2 EtherChannel</h4>
                    <ul>
                        <li>Switchport interfaces</li>
                        <li>Carries VLANs (access or trunk)</li>
                        <li>No IP address on Po interface</li>
                        <li>Flag: <strong>S</strong> (Layer 2)</li>
                    </ul>
                </div>
                <div class="comparison-box" style="border-color: #10b981;">
                    <h4>Layer 3 EtherChannel</h4>
                    <ul>
                        <li><code>no switchport</code> interfaces</li>
                        <li>Routed - no VLAN tagging</li>
                        <li>IP address on Po interface</li>
                        <li>Flag: <strong>R</strong> (Layer 3)</li>
                    </ul>
                </div>
            </div>
            <div class="slide-number">Slide 17 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 18: Best Practices -->
        <div class="slide">
            <h2>EtherChannel Best Practices</h2>

            <div class="success-box">
                <h3 style="color: #059669;">‚úÖ Do This</h3>
                <ul>
                    <li>Use <strong>LACP</strong> for vendor interoperability</li>
                    <li>Set one side to <strong>active</strong>, other can be active or passive</li>
                    <li>Configure Port-channel interface, not individual ports</li>
                    <li>Verify with <code>show etherchannel summary</code> after config</li>
                    <li>Document which ports are in which channel</li>
                </ul>
            </div>

            <div class="danger-box">
                <h3 style="color: #dc2626;">‚ùå Avoid This</h3>
                <ul>
                    <li>Don't use <strong>"on"</strong> mode in production</li>
                    <li>Don't mix LACP and PAgP on the same channel</li>
                    <li>Don't configure individual ports differently</li>
                    <li>Don't create channels with mismatched VLANs</li>
                    <li>Don't exceed 8 links per channel (LACP allows 16 with 8 active)</li>
                </ul>
            </div>
            <div class="slide-number">Slide 18 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 19: Quick Reference -->
        <div class="slide">
            <h2>Quick Reference Card</h2>

            <div class="comparison-grid">
                <div class="comparison-box lacp">
                    <h4>LACP (Recommended)</h4>
                    <div class="code-block" style="font-size: 0.9em;">
! Active mode (initiates)
channel-group 1 mode active

! Passive mode (responds)
channel-group 1 mode passive
                    </div>
                </div>
                <div class="comparison-box pagp">
                    <h4>PAgP (Cisco Only)</h4>
                    <div class="code-block" style="font-size: 0.9em;">
! Desirable mode (initiates)
channel-group 1 mode desirable

! Auto mode (responds)
channel-group 1 mode auto
                    </div>
                </div>
            </div>

            <h3>Essential Commands</h3>
            <div class="code-block">
! Create EtherChannel
interface range Gi0/1 - 4
channel-group 1 mode active

! Configure port-channel
interface Port-channel 1
switchport mode trunk

! Verify
show etherchannel summary
show etherchannel port-channel
show etherchannel load-balance
            </div>
            <div class="slide-number">Slide 19 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>

        <!-- Slide 20: Summary -->
        <div class="slide">
            <h2>Key Takeaways</h2>

            <div class="comparison-grid">
                <div class="comparison-box" style="border-color: #3b82f6; background: #eff6ff;">
                    <h3 style="color: #1e3a5f;">üîó What is EtherChannel?</h3>
                    <ul>
                        <li>Bundles multiple links into one logical link</li>
                        <li>Aggregates bandwidth (4√ó1G = 4G)</li>
                        <li>Provides redundancy</li>
                        <li>Avoids STP blocking</li>
                    </ul>
                </div>
                <div class="comparison-box" style="border-color: #3b82f6; background: #eff6ff;">
                    <h3 style="color: #1e3a5f;">üìã Protocols</h3>
                    <ul>
                        <li><strong>LACP:</strong> Industry standard (active/passive)</li>
                        <li><strong>PAgP:</strong> Cisco only (desirable/auto)</li>
                        <li><strong>On:</strong> Static, no negotiation (risky)</li>
                        <li>One initiator required!</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box" style="border-color: #3b82f6; background: #eff6ff;">
                    <h3 style="color: #1e3a5f;">‚öôÔ∏è Requirements</h3>
                    <ul>
                        <li>Same speed and duplex</li>
                        <li>Same VLAN configuration</li>
                        <li>Same STP settings</li>
                        <li>All access OR all trunk</li>
                    </ul>
                </div>
                <div class="comparison-box" style="border-color: #3b82f6; background: #eff6ff;">
                    <h3 style="color: #1e3a5f;">üéØ Exam Tips</h3>
                    <ul>
                        <li>Know mode compatibility matrix</li>
                        <li>LACP: active ‚Üî active/passive</li>
                        <li>PAgP: desirable ‚Üî desirable/auto</li>
                        <li><code>show etherchannel summary</code></li>
                    </ul>
                </div>
            </div>

            <div class="key-point" style="text-align: center;">
                <p style="color: white; font-size: 1.3em; margin: 0;">üéì Ready for CCNA EtherChannel questions!</p>
            </div>
            <div class="slide-number">Slide 20 of 20</div>
            <div class="prepared-by">Hexworth Prime</div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="controls">
        <button onclick="prevSlide()" id="prevBtn">‚Üê Previous</button>
        <button onclick="nextSlide()" id="nextBtn">Next ‚Üí</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                showSlide(currentSlide + 1);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            }
        });

        // Touch navigation for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > 50) {
                nextSlide();
            } else if (touchEndX - touchStartX > 50) {
                prevSlide();
            }
        });

        // Initialize
        showSlide(0);
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
