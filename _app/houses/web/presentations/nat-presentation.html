<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAT/PAT - Network Address Translation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            overflow: hidden;
        }

        .presentation {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 60px;
            position: relative;
            animation: slideIn 0.5s ease-out;
            overflow-y: auto;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        h1 {
            color: #1e3c72;
            font-size: 3.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            color: #2a5298;
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 4px solid #2a5298;
            padding-bottom: 15px;
        }

        h3 {
            color: #1e3c72;
            font-size: 1.8em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p, li {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #333;
        }

        ul, ol {
            margin-left: 40px;
        }

        .subtitle {
            font-size: 1.5em;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }

        .prepared-by {
            position: absolute;
            bottom: 30px;
            right: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .slide-number {
            position: absolute;
            bottom: 30px;
            left: 50px;
            font-size: 1.1em;
            color: #666;
        }

        .controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 1000;
        }

        button {
            padding: 15px 30px;
            font-size: 1.2em;
            background: #2a5298;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #1e3c72;
            transform: scale(1.05);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h4 {
            color: #0c5460;
            margin-bottom: 10px;
        }

        .info-box p, .info-box li {
            color: #0c5460;
            font-size: 1.1em;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .warning-box p, .warning-box li {
            color: #856404;
            font-size: 1.1em;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .danger-box h4 {
            color: #721c24;
            margin-bottom: 10px;
        }

        .danger-box p, .danger-box li {
            color: #721c24;
            font-size: 1.1em;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 20px 0;
            overflow-x: auto;
        }

        .table-container {
            margin: 20px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.1em;
        }

        th {
            background: #2a5298;
            color: white;
            padding: 15px;
            text-align: left;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-box {
            border: 2px solid #2a5298;
            padding: 20px;
            border-radius: 10px;
        }

        .three-column-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 30px 0;
        }

        .column-box {
            border: 2px solid #2a5298;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .column-box h3 {
            color: #2a5298;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        /* NAT Terminology Colors */
        .inside-local {
            background: rgba(40, 167, 69, 0.1);
            border-color: #28a745;
        }

        .inside-global {
            background: rgba(255, 193, 7, 0.1);
            border-color: #ffc107;
        }

        .outside-local {
            background: rgba(23, 162, 184, 0.1);
            border-color: #17a2b8;
        }

        .outside-global {
            background: rgba(42, 82, 152, 0.1);
            border-color: #2a5298;
        }

        /* Network Diagram */
        .network-diagram {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 40px 0;
            height: 350px;
            position: relative;
        }

        .device {
            width: 120px;
            height: 120px;
            background: #2a5298;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .device-label {
            margin-top: 15px;
            font-size: 0.9em;
            text-align: center;
            color: #333;
        }

        .nat-router {
            width: 140px;
            height: 140px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }

        /* NAT Table Animation */
        .nat-table {
            margin: 20px 0;
        }

        .nat-table tr {
            animation: rowAppear 0.5s ease-out backwards;
        }

        .nat-table tr:nth-child(2) { animation-delay: 0.2s; }
        .nat-table tr:nth-child(3) { animation-delay: 0.4s; }
        .nat-table tr:nth-child(4) { animation-delay: 0.6s; }
        .nat-table tr:nth-child(5) { animation-delay: 0.8s; }

        @keyframes rowAppear {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Packet Flow Animation */
        .packet {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            box-shadow: 0 0 20px currentColor;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8em;
            z-index: 5;
        }

        .outbound-packet {
            background: #28a745;
            animation: outboundFlow 3s infinite;
        }

        .inbound-packet {
            background: #ffc107;
            animation: inboundFlow 3s infinite;
            animation-delay: 1.5s;
        }

        @keyframes outboundFlow {
            0% {
                left: 10%;
                top: 50%;
                opacity: 0;
                transform: scale(0.5);
            }
            25% {
                opacity: 1;
                transform: scale(1);
            }
            45% {
                left: 80%;
                opacity: 1;
            }
            50% {
                opacity: 0;
                transform: scale(0.5);
            }
            100% {
                left: 80%;
                opacity: 0;
            }
        }

        @keyframes inboundFlow {
            0%, 50% {
                left: 80%;
                top: 50%;
                opacity: 0;
                transform: scale(0.5);
            }
            65% {
                opacity: 1;
                transform: scale(1);
            }
            95% {
                left: 10%;
                opacity: 1;
            }
            100% {
                left: 10%;
                opacity: 0;
                transform: scale(0.5);
            }
        }

        /* Home Router Visualization */
        .home-router-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
            position: relative;
        }

        .router-central {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.3em;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
            z-index: 10;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .devices-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .home-device {
            width: 80px;
            height: 80px;
            background: #2a5298;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9em;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* IPv4 Depletion Graph */
        .depletion-graph {
            height: 200px;
            background: linear-gradient(to right, #51cf66 0%, #ffc107 50%, #dc3545 100%);
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            align-items: flex-end;
            padding: 20px;
            position: relative;
        }

        .depletion-marker {
            position: absolute;
            background: white;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        /* Port Allocation Visualization */
        .port-allocation {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
        }

        .port-box {
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #2a5298;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            animation: portBlink 2s infinite;
        }

        @keyframes portBlink {
            0%, 100% { background: #f8f9fa; }
            50% { background: #e0e7ff; }
        }

        /* Cost comparison pie charts */
        .cost-comparison {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
        }

        .cost-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .cost-high {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .cost-medium {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
        }

        .cost-low {
            background: linear-gradient(135deg, #28a745 0%, #218838 100%);
        }

        /* Troubleshooting flowchart */
        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .flow-step {
            background: #f8f9fa;
            border: 2px solid #2a5298;
            padding: 15px 30px;
            border-radius: 10px;
            margin: 10px 0;
            min-width: 300px;
            text-align: center;
        }

        .flow-step.problem {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .flow-step.check {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .flow-step.solution {
            background: #d4edda;
            border-color: #28a745;
        }

        .arrow-down {
            font-size: 2em;
            color: #2a5298;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <a href="../../../index.html" style="position: fixed; top: 20px; right: 20px; background: rgba(6, 182, 212, 0.9); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold; z-index: 10000; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: all 0.3s ease;" onmouseover="this.style.background='rgba(6, 182, 212, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(6, 182, 212, 0.9)'; this.style.transform='translateY(0)'">
        Back to Catalog
    </a>
    <div class="presentation">
        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>NAT / PAT</h1>
            <p class="subtitle">Network Address Translation</p>
            <p class="subtitle">Making Private Networks Accessible to Public Internet</p>
            <div style="text-align: center; margin-top: 80px;">
                <h3>Network Essentials Course</h3>
                <p style="font-size: 1.5em; margin-top: 40px;">Understanding Address Translation Technologies</p>
            </div>
            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 1</div>
        </div>

        <!-- Slide 2: Why NAT Exists - IPv4 Exhaustion Crisis -->
        <div class="slide">
            <h2>Why NAT Exists - The IPv4 Exhaustion Crisis</h2>

            <div class="depletion-graph">
                <div class="depletion-marker" style="left: 10%; top: 20%;">1990s<br>Abundant</div>
                <div class="depletion-marker" style="left: 50%; top: 40%;">2000s<br>Concern</div>
                <div class="depletion-marker" style="right: 10%; bottom: 20%;">2011<br>Exhausted</div>
            </div>

            <h3>The Problem</h3>
            <ul>
                <li><strong>IPv4 Address Space:</strong> 4.3 billion addresses total (2^32)</li>
                <li><strong>Internet Growth:</strong> Exponential device proliferation since 1990s</li>
                <li><strong>RFC 1918 Private Addresses:</strong> 16.7 million addresses reserved for private use</li>
                <li><strong>Insufficient Public IPs:</strong> Not enough for every device on Earth</li>
                <li><strong>Solution:</strong> NAT allows multiple devices to share single public IP</li>
            </ul>

            <div class="warning-box">
                <h4>Critical Milestone</h4>
                <p>IPv4 address space officially exhausted by IANA (Internet Assigned Numbers Authority) on February 3, 2011. Regional registries depleted shortly after.</p>
            </div>

            <div class="info-box">
                <h4>IPv6 Alternative</h4>
                <p>IPv6 provides 340 undecillion addresses (2^128), solving address exhaustion permanently. However, NAT remains essential for legacy IPv4 networks and provides additional security benefits.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 2</div>
        </div>

        <!-- Slide 3: Private vs Public IP Addresses (RFC 1918) -->
        <div class="slide">
            <h2>Private vs Public IP Addresses (RFC 1918)</h2>

            <div class="comparison-grid">
                <div class="comparison-box inside-local">
                    <h3 style="color: #28a745;">Private Address Ranges</h3>
                    <p style="margin-top: 20px;"><strong>Non-Routable on Public Internet</strong></p>
                    <ul style="margin-top: 15px;">
                        <li><strong>Class A:</strong> 10.0.0.0/8<br>(10.0.0.0 - 10.255.255.255)<br>16,777,216 addresses</li>
                        <li><strong>Class B:</strong> 172.16.0.0/12<br>(172.16.0.0 - 172.31.255.255)<br>1,048,576 addresses</li>
                        <li><strong>Class C:</strong> 192.168.0.0/16<br>(192.168.0.0 - 192.168.255.255)<br>65,536 addresses</li>
                    </ul>
                </div>
                <div class="comparison-box outside-global">
                    <h3 style="color: #2a5298;">Public Address Ranges</h3>
                    <p style="margin-top: 20px;"><strong>Globally Routable on Internet</strong></p>
                    <ul style="margin-top: 15px;">
                        <li><strong>Everything Else:</strong> All addresses not in RFC 1918 ranges</li>
                        <li><strong>Assigned by ISPs:</strong> Allocated by regional registries</li>
                        <li><strong>Unique Worldwide:</strong> No duplicate public IPs</li>
                        <li><strong>Expensive:</strong> Limited supply, costly to obtain</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
Examples of Private Addresses:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
10.1.1.1          (Class A private)
172.16.50.100     (Class B private)
192.168.1.50      (Class C private - most common in homes)

Examples of Public Addresses:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
8.8.8.8           (Google DNS)
1.1.1.1           (Cloudflare DNS)
203.0.113.50      (Documentation example)
            </div>

            <div class="warning-box">
                <h4>Key Restriction</h4>
                <p>Private addresses CANNOT be routed on the public Internet. Routers on the Internet will drop packets with RFC 1918 source or destination addresses. NAT is required to translate private addresses to public addresses.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 3</div>
        </div>

        <!-- Slide 4: NAT Terminology - Address Types (Part 1) -->
        <div class="slide">
            <h2>NAT Terminology - Inside Local, Inside Global, Outside Local, Outside Global</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0;">
                <div class="column-box inside-local">
                    <h3>Inside Local (IL)</h3>
                    <p style="color: #28a745; font-weight: bold; font-size: 1.5em; margin: 15px 0;">192.168.1.10</p>
                    <p>IP address assigned to device on inside network</p>
                    <p><strong>Typically RFC 1918 private address</strong></p>
                </div>
                <div class="column-box inside-global">
                    <h3>Inside Global (IG)</h3>
                    <p style="color: #e0a800; font-weight: bold; font-size: 1.5em; margin: 15px 0;">203.0.113.5</p>
                    <p>IP address representing inside device to outside network</p>
                    <p><strong>Public IP address</strong></p>
                </div>
                <div class="column-box outside-local">
                    <h3>Outside Local (OL)</h3>
                    <p style="color: #17a2b8; font-weight: bold; font-size: 1.5em; margin: 15px 0;">8.8.8.8</p>
                    <p>IP address of outside device as known to inside network</p>
                    <p><strong>Usually same as Outside Global</strong></p>
                </div>
                <div class="column-box outside-global">
                    <h3>Outside Global (OG)</h3>
                    <p style="color: #2a5298; font-weight: bold; font-size: 1.5em; margin: 15px 0;">8.8.8.8</p>
                    <p>IP address assigned to outside device on outside network</p>
                    <p><strong>Public IP address</strong></p>
                </div>
            </div>

            <div class="info-box">
                <h4>Perspective Matters</h4>
                <p><strong>Inside:</strong> Your network (typically private)<br>
                <strong>Outside:</strong> External network (typically Internet)<br>
                <strong>Local:</strong> Address as seen from perspective of this side<br>
                <strong>Global:</strong> Address as seen from opposite side</p>
            </div>

            <div class="code-block">
Example Scenario:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
PC with 192.168.1.10 (Inside Local) accessing Google DNS 8.8.8.8

Before NAT:
  Source: 192.168.1.10 (Inside Local)
  Destination: 8.8.8.8 (Outside Global)

After NAT Translation:
  Source: 203.0.113.5 (Inside Global) ← Translated
  Destination: 8.8.8.8 (Outside Global)
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 4</div>
        </div>

        <!-- Slide 5: NAT Terminology - Translation Process (Part 2) -->
        <div class="slide">
            <h2>NAT Terminology - The Translation Process</h2>

            <div class="network-diagram" style="height: 250px;">
                <div style="position: absolute; left: 10%; top: 40%;">
                    <div class="device" style="background: #28a745;">Inside<br>Device</div>
                    <div class="device-label">192.168.1.10<br>(Inside Local)</div>
                </div>
                <div style="position: absolute; left: 45%; top: 30%;">
                    <div class="device nat-router">NAT<br>Router</div>
                    <div class="device-label">Translation Point</div>
                </div>
                <div style="position: absolute; left: 80%; top: 40%;">
                    <div class="device" style="background: #2a5298;">Outside<br>Server</div>
                    <div class="device-label">8.8.8.8<br>(Outside Global)</div>
                </div>
                <div class="packet outbound-packet">OUT</div>
                <div class="packet inbound-packet">IN</div>
            </div>

            <h3>Translation Process Steps</h3>
            <ol style="margin-left: 40px;">
                <li><strong>Outbound Traffic:</strong> Inside Local → Inside Global translation
                    <ul style="list-style-type: disc;">
                        <li>PC sends packet with source 192.168.1.10</li>
                        <li>NAT router replaces source with 203.0.113.5</li>
                        <li>Packet forwarded to Internet with public IP</li>
                    </ul>
                </li>
                <li><strong>NAT Table Entry Created:</strong> Router stores mapping
                    <ul style="list-style-type: disc;">
                        <li>Inside Local ↔ Inside Global mapping saved</li>
                        <li>Port numbers recorded for session tracking</li>
                    </ul>
                </li>
                <li><strong>Inbound Traffic:</strong> Inside Global → Inside Local translation
                    <ul style="list-style-type: disc;">
                        <li>Response arrives with destination 203.0.113.5</li>
                        <li>NAT router looks up translation in table</li>
                        <li>Destination changed back to 192.168.1.10</li>
                        <li>Packet delivered to internal device</li>
                    </ul>
                </li>
            </ol>

            <div class="code-block">
Packet Transformation Example:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
OUTBOUND (Before NAT):
  Source IP: 192.168.1.10 (Inside Local)
  Dest IP: 8.8.8.8 (Outside Global)
  Source Port: 54321

OUTBOUND (After NAT):
  Source IP: 203.0.113.5 (Inside Global) ← Translated
  Dest IP: 8.8.8.8 (Outside Global)
  Source Port: 54321

INBOUND (Before NAT):
  Source IP: 8.8.8.8 (Outside Global)
  Dest IP: 203.0.113.5 (Inside Global)
  Dest Port: 54321

INBOUND (After NAT):
  Source IP: 8.8.8.8 (Outside Global)
  Dest IP: 192.168.1.10 (Inside Local) ← Translated
  Dest Port: 54321
            </div>

            <div class="info-box">
                <h4>Stateful Nature</h4>
                <p>NAT is <strong>stateful</strong> - it remembers outbound connections and allows corresponding inbound responses. This is why NAT provides inherent security by blocking unsolicited inbound traffic.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 5</div>
        </div>

        <!-- Slide 6: NAT Translation Table - How It Works -->
        <div class="slide">
            <h2>The NAT Translation Table - Dynamic Mapping Storage</h2>

            <h3>What the NAT Table Stores</h3>
            <ul>
                <li><strong>Mappings:</strong> Relationship between Inside Local and Inside Global addresses</li>
                <li><strong>Port Numbers:</strong> Source and destination ports for session tracking</li>
                <li><strong>Protocol:</strong> TCP, UDP, ICMP</li>
                <li><strong>State:</strong> Connection status (active, idle, timeout)</li>
                <li><strong>Timeout-Based:</strong> Entries expire after period of inactivity</li>
            </ul>

            <div class="table-container">
                <table class="nat-table">
                    <tr>
                        <th>Inside Local</th>
                        <th>Inside Global</th>
                        <th>Outside Global</th>
                        <th>Protocol</th>
                        <th>State</th>
                        <th>Timeout</th>
                    </tr>
                    <tr style="background: rgba(40, 167, 69, 0.1);">
                        <td>192.168.1.10:54321</td>
                        <td>203.0.113.5:54321</td>
                        <td>8.8.8.8:53</td>
                        <td>UDP</td>
                        <td>Active</td>
                        <td>120s</td>
                    </tr>
                    <tr style="background: rgba(40, 167, 69, 0.1);">
                        <td>192.168.1.15:49152</td>
                        <td>203.0.113.5:49152</td>
                        <td>93.184.216.34:443</td>
                        <td>TCP</td>
                        <td>Established</td>
                        <td>3600s</td>
                    </tr>
                    <tr style="background: rgba(40, 167, 69, 0.1);">
                        <td>192.168.1.20:60123</td>
                        <td>203.0.113.5:60123</td>
                        <td>1.1.1.1:53</td>
                        <td>UDP</td>
                        <td>Active</td>
                        <td>90s</td>
                    </tr>
                    <tr style="background: rgba(40, 167, 69, 0.1);">
                        <td>192.168.1.25:50001</td>
                        <td>203.0.113.5:50001</td>
                        <td>142.250.185.46:80</td>
                        <td>TCP</td>
                        <td>Established</td>
                        <td>2400s</td>
                    </tr>
                </table>
            </div>

            <h3>Table Behavior</h3>
            <ul>
                <li><strong>Dynamic Creation:</strong> Entries added automatically when outbound traffic occurs</li>
                <li><strong>Bidirectional:</strong> Enables both outbound requests and inbound responses</li>
                <li><strong>Timeout Mechanism:</strong> Entries removed after inactivity period
                    <ul style="list-style-type: disc;">
                        <li>UDP: Typically 60-120 seconds</li>
                        <li>TCP: Varies by state (established: 3600s, others: shorter)</li>
                        <li>ICMP: 30-60 seconds</li>
                    </ul>
                </li>
                <li><strong>First Match Wins:</strong> Lookup performed on inbound traffic to find destination</li>
            </ul>

            <div class="warning-box">
                <h4>Table Exhaustion</h4>
                <p>NAT tables have finite size (memory limited). Too many simultaneous connections can exhaust the table, causing new connections to fail. Monitor table utilization on high-traffic routers.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 6</div>
        </div>

        <!-- Slide 7: Static NAT - One-to-One Mapping -->
        <div class="slide">
            <h2>Static NAT - Fixed One-to-One Address Translation</h2>

            <div style="text-align: center; margin: 40px 0;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 40px;">
                    <div class="column-box inside-local" style="width: 250px;">
                        <h3>Inside Local</h3>
                        <p style="font-size: 1.8em; color: #28a745; font-weight: bold; margin: 15px 0;">192.168.1.50</p>
                        <p>Internal Web Server</p>
                    </div>
                    <div style="font-size: 3em; color: #2a5298;">↔</div>
                    <div class="column-box inside-global" style="width: 250px;">
                        <h3>Inside Global</h3>
                        <p style="font-size: 1.8em; color: #e0a800; font-weight: bold; margin: 15px 0;">203.0.113.50</p>
                        <p>Public IP Address</p>
                    </div>
                </div>
            </div>

            <h3>Characteristics</h3>
            <ul>
                <li><strong>Permanent Mapping:</strong> Manual, fixed one-to-one relationship</li>
                <li><strong>Used For:</strong> Internal servers that need Internet accessibility
                    <ul style="list-style-type: disc;">
                        <li>Web servers (HTTP/HTTPS)</li>
                        <li>Mail servers (SMTP/IMAP)</li>
                        <li>VPN gateways</li>
                        <li>FTP servers</li>
                    </ul>
                </li>
                <li><strong>Bidirectional:</strong> Both inbound and outbound traffic supported</li>
                <li><strong>All Ports Available:</strong> Every port on public IP maps to internal server</li>
            </ul>

            <h3>Advantages</h3>
            <ul>
                <li>Simple and predictable</li>
                <li>Server accessible 24/7 from Internet</li>
                <li>No port conflicts</li>
                <li>Easy to configure firewall rules</li>
            </ul>

            <h3>Disadvantages</h3>
            <ul>
                <li>Uses one public IP per device (costly, not scalable)</li>
                <li>Wastes public IP addresses</li>
                <li>Does not conserve IPv4 address space</li>
            </ul>

            <div class="code-block">
Static NAT Configuration (Cisco IOS):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside interface
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip address 192.168.1.1 255.255.255.0
Router(config-if)# ip nat inside
Router(config-if)# exit

! Define outside interface
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip address 203.0.113.1 255.255.255.0
Router(config-if)# ip nat outside
Router(config-if)# exit

! Create static NAT mapping
Router(config)# ip nat inside source static 192.168.1.50 203.0.113.50

! Verify
Router# show ip nat translations
Router# show ip nat statistics
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 7</div>
        </div>

        <!-- Slide 8: Static NAT - Real-World Example (Web Server) -->
        <div class="slide">
            <h2>Static NAT Example - Internal Web Server to Internet</h2>

            <div class="network-diagram">
                <div style="position: absolute; left: 5%; top: 40%;">
                    <div class="device" style="background: #17a2b8;">External<br>Client</div>
                    <div class="device-label">Internet User<br>50.60.70.80</div>
                </div>
                <div style="position: absolute; left: 45%; top: 30%;">
                    <div class="device nat-router">NAT<br>Router</div>
                    <div class="device-label">Gateway</div>
                </div>
                <div style="position: absolute; left: 80%; top: 40%;">
                    <div class="device" style="background: #28a745;">Internal<br>Web Server</div>
                    <div class="device-label">192.168.1.50<br>HTTP/HTTPS</div>
                </div>
                <div class="packet outbound-packet">REQ</div>
                <div class="packet inbound-packet">RES</div>
            </div>

            <h3>Scenario Details</h3>
            <ul>
                <li><strong>Company Web Server:</strong> Internal IP 192.168.1.50</li>
                <li><strong>Public IP Assignment:</strong> 203.0.113.50 (from ISP)</li>
                <li><strong>Static NAT Configured:</strong> 192.168.1.50 ↔ 203.0.113.50</li>
                <li><strong>DNS Record:</strong> www.company.com → 203.0.113.50</li>
                <li><strong>Result:</strong> External users access 203.0.113.50, NAT forwards to 192.168.1.50</li>
            </ul>

            <h3>Traffic Flow</h3>
            <div class="code-block">
Step 1: External client browses to www.company.com
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
DNS Resolution: www.company.com → 203.0.113.50

Step 2: Client sends HTTP request
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Source: 50.60.70.80:49152
Destination: 203.0.113.50:80

Step 3: NAT router translates destination
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Source: 50.60.70.80:49152
Destination: 192.168.1.50:80 ← Translated

Step 4: Web server responds
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Source: 192.168.1.50:80
Destination: 50.60.70.80:49152

Step 5: NAT router translates source
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Source: 203.0.113.50:80 ← Translated
Destination: 50.60.70.80:49152
            </div>

            <div class="info-box">
                <h4>Additional Considerations</h4>
                <ul>
                    <li>Firewall rules must permit inbound traffic to port 80/443</li>
                    <li>DNS A record points to public IP (203.0.113.50)</li>
                    <li>Internal clients may need DNS split-brain or hairpin NAT</li>
                </ul>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 8</div>
        </div>

        <!-- Slide 9: Dynamic NAT - Pool of Addresses -->
        <div class="slide">
            <h2>Dynamic NAT - One-to-One Translation from Address Pool</h2>

            <div style="margin: 40px 0;">
                <div style="display: flex; justify-content: space-around; align-items: center;">
                    <div style="border: 2px solid #28a745; padding: 20px; border-radius: 10px; background: rgba(40, 167, 69, 0.1);">
                        <h3 style="color: #28a745; text-align: center;">Inside Network</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px;">
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC1<br>.10</div>
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC2<br>.11</div>
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC3<br>.12</div>
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC4<br>.13</div>
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC5<br>.14</div>
                            <div class="home-device" style="width: 60px; height: 60px; font-size: 0.7em;">PC6<br>.15</div>
                        </div>
                    </div>
                    <div style="font-size: 3em; color: #2a5298;">→</div>
                    <div style="border: 2px solid #ffc107; padding: 20px; border-radius: 10px; background: rgba(255, 193, 7, 0.1);">
                        <h3 style="color: #e0a800; text-align: center;">Public IP Pool</h3>
                        <div style="margin-top: 15px;">
                            <div style="padding: 10px; background: white; border-radius: 5px; margin: 5px; font-family: monospace;">203.0.113.10</div>
                            <div style="padding: 10px; background: white; border-radius: 5px; margin: 5px; font-family: monospace;">203.0.113.11</div>
                            <div style="padding: 10px; background: white; border-radius: 5px; margin: 5px; font-family: monospace;">203.0.113.12</div>
                        </div>
                        <p style="text-align: center; margin-top: 10px; font-size: 0.9em;">3 IPs Available</p>
                    </div>
                </div>
            </div>

            <h3>Characteristics</h3>
            <ul>
                <li><strong>Automatic Assignment:</strong> Inside Local addresses dynamically mapped to available Inside Global addresses from pool</li>
                <li><strong>One-to-One:</strong> Each inside device gets exclusive public IP while connected</li>
                <li><strong>First-Come-First-Served:</strong> Pool addresses allocated as needed</li>
                <li><strong>Session-Based:</strong> Mapping released when connection ends</li>
                <li><strong>Timeout-Based:</strong> Idle connections release pool addresses</li>
            </ul>

            <h3>When to Use</h3>
            <ul>
                <li>Multiple internal devices needing occasional Internet access</li>
                <li>Not all devices online simultaneously</li>
                <li>You have multiple public IPs but fewer than total devices</li>
                <li>Outbound-only traffic (no inbound initiation)</li>
            </ul>

            <div class="code-block">
Dynamic NAT Configuration (Cisco IOS):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network with ACL
Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255

! Create NAT pool of public addresses
Router(config)# ip nat pool PUBLIC_POOL 203.0.113.10 203.0.113.12 netmask 255.255.255.0

! Link ACL to pool
Router(config)# ip nat inside source list 1 pool PUBLIC_POOL

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside
            </div>

            <div class="warning-box">
                <h4>Pool Exhaustion Risk</h4>
                <p>If more devices than pool size try to connect simultaneously, new connections will fail until pool addresses become available. Monitor pool utilization carefully.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 9</div>
        </div>

        <!-- Slide 10: Dynamic NAT - Real-World Example (Branch Office) -->
        <div class="slide">
            <h2>Dynamic NAT Example - Branch Office Internet Access</h2>

            <h3>Scenario: Branch Office with Limited Public IPs</h3>
            <ul>
                <li><strong>50 Employees:</strong> Each with workstation needing Internet access</li>
                <li><strong>ISP Provides:</strong> 10 public IP addresses (203.0.113.10 - 203.0.113.19)</li>
                <li><strong>Observation:</strong> Not all employees online simultaneously (meetings, lunch, etc.)</li>
                <li><strong>Solution:</strong> Dynamic NAT pool efficiently uses limited public IPs</li>
            </ul>

            <div style="margin: 30px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="text-align: center;">
                        <p style="font-size: 1.5em; font-weight: bold; color: #28a745;">50 Employee PCs</p>
                        <p style="margin-top: 10px;">192.168.10.1 - 192.168.10.50</p>
                    </div>
                    <div style="font-size: 3em; color: #2a5298;">⇒</div>
                    <div style="text-align: center;">
                        <p style="font-size: 1.5em; font-weight: bold; color: #ffc107;">10 Public IPs</p>
                        <p style="margin-top: 10px;">203.0.113.10 - 203.0.113.19</p>
                    </div>
                </div>
            </div>

            <h3>How It Works</h3>
            <ol style="margin-left: 40px;">
                <li><strong>Peak Time (9 AM):</strong> 8 employees browsing Internet
                    <ul style="list-style-type: disc;">
                        <li>8 public IPs allocated from pool</li>
                        <li>2 public IPs remain available</li>
                    </ul>
                </li>
                <li><strong>Lunch Time:</strong> 15 employees online
                    <ul style="list-style-type: disc;">
                        <li>All 10 public IPs allocated</li>
                        <li>5 employees temporarily unable to connect (queue)</li>
                        <li>As connections end, pool IPs released for others</li>
                    </ul>
                </li>
                <li><strong>Afternoon:</strong> 6 employees online
                    <ul style="list-style-type: disc;">
                        <li>6 public IPs allocated</li>
                        <li>4 public IPs available</li>
                    </ul>
                </li>
            </ol>

            <div class="table-container">
                <table>
                    <tr>
                        <th>Time</th>
                        <th>Active Users</th>
                        <th>Pool IPs Used</th>
                        <th>Pool IPs Available</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>9:00 AM</td>
                        <td>8</td>
                        <td>8</td>
                        <td>2</td>
                        <td style="color: #28a745; font-weight: bold;">OK</td>
                    </tr>
                    <tr>
                        <td>12:00 PM</td>
                        <td>15</td>
                        <td>10</td>
                        <td>0</td>
                        <td style="color: #dc3545; font-weight: bold;">Exhausted</td>
                    </tr>
                    <tr>
                        <td>2:00 PM</td>
                        <td>6</td>
                        <td>6</td>
                        <td>4</td>
                        <td style="color: #28a745; font-weight: bold;">OK</td>
                    </tr>
                </table>
            </div>

            <div class="info-box">
                <h4>Cost-Benefit Analysis</h4>
                <p>Without Dynamic NAT, you would need 50 public IPs (expensive, scarce). With Dynamic NAT pool of 10 IPs, you handle typical usage patterns at 1/5 the cost while accepting occasional peak-time delays.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 10</div>
        </div>

        <!-- Slide 11: PAT (Port Address Translation) - The Common Solution -->
        <div class="slide">
            <h2>PAT - Port Address Translation (Most Common NAT Type!)</h2>

            <div style="text-align: center; margin: 40px 0;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 40px;">
                    <div style="text-align: center;">
                        <p style="font-size: 1.8em; font-weight: bold; color: #28a745;">Thousands of Devices</p>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 15px;">
                            <div class="home-device" style="width: 50px; height: 50px; font-size: 0.6em;">PC1</div>
                            <div class="home-device" style="width: 50px; height: 50px; font-size: 0.6em;">PC2</div>
                            <div class="home-device" style="width: 50px; height: 50px; font-size: 0.6em;">PC3</div>
                            <div class="home-device" style="width: 50px; height: 50px; font-size: 0.6em;">PC4</div>
                        </div>
                        <p style="margin-top: 10px;">192.168.x.x</p>
                    </div>
                    <div style="font-size: 4em; color: #2a5298;">→</div>
                    <div class="column-box inside-global" style="width: 300px;">
                        <h3>Single Public IP</h3>
                        <p style="font-size: 2em; color: #e0a800; font-weight: bold; margin: 15px 0;">203.0.113.5</p>
                        <div class="port-allocation">
                            <div class="port-box">:54321</div>
                            <div class="port-box">:49152</div>
                            <div class="port-box">:60001</div>
                        </div>
                        <p>Different Source Ports</p>
                    </div>
                </div>
            </div>

            <h3>How PAT Works</h3>
            <ul>
                <li><strong>Overload NAT:</strong> Multiple Inside Local addresses map to single Inside Global using port numbers</li>
                <li><strong>Port Number Differentiator:</strong> Uses source port to track different internal devices</li>
                <li><strong>Massive Scalability:</strong> 65,536 possible ports per protocol per IP (TCP and UDP separate)</li>
                <li><strong>Most Efficient:</strong> One public IP can support thousands of simultaneous connections</li>
                <li><strong>Universal:</strong> Used by home routers, enterprises, ISPs</li>
            </ul>

            <h3>Why PAT is Superior</h3>
            <div class="comparison-grid">
                <div class="comparison-box">
                    <h3>Without PAT</h3>
                    <ul>
                        <li>100 devices = 100 public IPs needed</li>
                        <li>Cost: Very expensive</li>
                        <li>Availability: Difficult to obtain</li>
                        <li>Scalability: Poor</li>
                    </ul>
                </div>
                <div class="comparison-box">
                    <h3>With PAT</h3>
                    <ul>
                        <li>100 devices = 1 public IP needed</li>
                        <li>Cost: Minimal</li>
                        <li>Availability: Easy to obtain</li>
                        <li>Scalability: Excellent</li>
                    </ul>
                </div>
            </div>

            <div class="code-block">
PAT Translation Example:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Device A (192.168.1.10:54321) → 203.0.113.5:54321
Device B (192.168.1.11:49152) → 203.0.113.5:49152
Device C (192.168.1.12:60001) → 203.0.113.5:60001

All three devices share ONE public IP, differentiated by port!
            </div>

            <div class="info-box">
                <h4>Real-World Impact</h4>
                <p>PAT is the reason home routers work. Your home has ONE public IP from your ISP, but all your devices (PCs, phones, tablets, smart TV, IoT devices) can access the Internet simultaneously thanks to PAT.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 11</div>
        </div>

        <!-- Slide 12: PAT - Home Router Scenario -->
        <div class="slide">
            <h2>PAT in Action - Home Router Example (What You Use Daily!)</h2>

            <div class="home-router-diagram">
                <div class="router-central">
                    <div>HOME</div>
                    <div>ROUTER</div>
                    <div style="font-size: 0.7em; margin-top: 5px;">PAT Enabled</div>
                </div>
                <div style="margin: 20px 0;">
                    <p style="font-size: 1.1em; text-align: center;">Inside: 192.168.1.x | Outside: 203.0.113.5</p>
                </div>
                <div class="devices-grid">
                    <div class="home-device">Laptop<br>192.168.1.10</div>
                    <div class="home-device">Phone<br>192.168.1.11</div>
                    <div class="home-device">Tablet<br>192.168.1.12</div>
                    <div class="home-device">Smart TV<br>192.168.1.13</div>
                    <div class="home-device">IoT Device<br>192.168.1.14</div>
                </div>
            </div>

            <h3>Scenario Details</h3>
            <ul>
                <li><strong>ISP Provides:</strong> ONE public IP address (203.0.113.5)</li>
                <li><strong>Home Network:</strong> 5+ devices, all with 192.168.1.x addresses</li>
                <li><strong>Router Function:</strong> Performs PAT on all outbound traffic</li>
                <li><strong>Result:</strong> All devices share single public IP via unique ports</li>
            </ul>

            <div class="table-container">
                <table>
                    <tr>
                        <th>Device</th>
                        <th>Inside Local IP:Port</th>
                        <th>Inside Global IP:Port</th>
                        <th>Destination</th>
                        <th>Service</th>
                    </tr>
                    <tr>
                        <td>Laptop</td>
                        <td>192.168.1.10:54321</td>
                        <td style="background: rgba(255, 193, 7, 0.2);">203.0.113.5:54321</td>
                        <td>93.184.216.34:443</td>
                        <td>HTTPS</td>
                    </tr>
                    <tr>
                        <td>Phone</td>
                        <td>192.168.1.11:49152</td>
                        <td style="background: rgba(255, 193, 7, 0.2);">203.0.113.5:49152</td>
                        <td>8.8.8.8:53</td>
                        <td>DNS</td>
                    </tr>
                    <tr>
                        <td>Tablet</td>
                        <td>192.168.1.12:60001</td>
                        <td style="background: rgba(255, 193, 7, 0.2);">203.0.113.5:60001</td>
                        <td>142.250.185.46:80</td>
                        <td>HTTP</td>
                    </tr>
                    <tr>
                        <td>Smart TV</td>
                        <td>192.168.1.13:50123</td>
                        <td style="background: rgba(255, 193, 7, 0.2);">203.0.113.5:50123</td>
                        <td>52.84.10.50:443</td>
                        <td>Streaming</td>
                    </tr>
                    <tr>
                        <td>IoT Device</td>
                        <td>192.168.1.14:55555</td>
                        <td style="background: rgba(255, 193, 7, 0.2);">203.0.113.5:55555</td>
                        <td>54.230.1.15:443</td>
                        <td>Cloud</td>
                    </tr>
                </table>
            </div>

            <div class="info-box">
                <h4>Key Observation</h4>
                <p>Notice that ALL devices use the SAME public IP (203.0.113.5), but DIFFERENT source ports. The router's PAT table tracks which internal device corresponds to which port number, enabling bidirectional communication.</p>
            </div>

            <div class="code-block">
PAT Configuration (Cisco IOS) - Home Router Style:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network
Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255

! Enable PAT using outside interface IP
Router(config)# ip nat inside source list 1 interface GigabitEthernet0/1 overload

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 12</div>
        </div>

        <!-- Slide 13: PAT in Enterprise Networks -->
        <div class="slide">
            <h2>PAT at Enterprise Scale - Multiple Public IPs with Overload</h2>

            <h3>Enterprise Scenario</h3>
            <ul>
                <li><strong>Large Corporation:</strong> 5,000 employees</li>
                <li><strong>ISP Provides:</strong> /28 subnet (14 usable public IPs: 203.0.113.16 - 203.0.113.30)</li>
                <li><strong>Strategy:</strong> Use PAT with multiple public IPs for load distribution</li>
                <li><strong>Benefit:</strong> Each public IP supports 65,000+ connections (TCP) + 65,000+ (UDP)</li>
            </ul>

            <div style="margin: 30px 0; text-align: center;">
                <p style="font-size: 1.5em; font-weight: bold; color: #2a5298;">Load Distribution</p>
                <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <div>
                        <div class="cost-circle cost-low">203.0.113.16<br><br>1,200 users</div>
                        <p style="margin-top: 10px;">Public IP #1</p>
                    </div>
                    <div>
                        <div class="cost-circle cost-low">203.0.113.17<br><br>1,150 users</div>
                        <p style="margin-top: 10px;">Public IP #2</p>
                    </div>
                    <div>
                        <div class="cost-circle cost-low">203.0.113.18<br><br>1,300 users</div>
                        <p style="margin-top: 10px;">Public IP #3</p>
                    </div>
                    <div>
                        <div class="cost-circle cost-low">203.0.113.19<br><br>1,350 users</div>
                        <p style="margin-top: 10px;">Public IP #4</p>
                    </div>
                </div>
            </div>

            <h3>Benefits of Multiple IP PAT</h3>
            <ul>
                <li><strong>Scalability:</strong> Distribute load across multiple public IPs</li>
                <li><strong>Redundancy:</strong> If one IP exhausted, others still available</li>
                <li><strong>Performance:</strong> Reduces per-IP connection count</li>
                <li><strong>Troubleshooting:</strong> Easier to identify traffic patterns</li>
                <li><strong>IP Reputation:</strong> Spread traffic to avoid blacklisting</li>
            </ul>

            <div class="code-block">
PAT with Pool Configuration (Cisco IOS):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network
Router(config)# access-list 1 permit 10.0.0.0 0.255.255.255

! Create NAT pool with multiple public IPs
Router(config)# ip nat pool PAT_POOL 203.0.113.16 203.0.113.30 netmask 255.255.255.240

! Enable PAT using pool (note "overload" keyword)
Router(config)# ip nat inside source list 1 pool PAT_POOL overload

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside

! Verify
Router# show ip nat statistics
Router# show ip nat translations
            </div>

            <div class="info-box">
                <h4>Capacity Calculation</h4>
                <p><strong>Single Public IP:</strong> ~65,000 TCP + ~65,000 UDP = 130,000 simultaneous connections<br>
                <strong>14 Public IPs:</strong> 14 × 130,000 = 1,820,000 simultaneous connections possible<br>
                This easily handles 5,000 employees with typical usage patterns.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 13</div>
        </div>

        <!-- Slide 14: Static NAT vs Dynamic NAT vs PAT - Comparison -->
        <div class="slide">
            <h2>NAT Types Comparison - When to Use Each</h2>

            <div class="three-column-grid">
                <div class="column-box" style="border-color: #dc3545;">
                    <h3 style="color: #dc3545;">Static NAT</h3>
                    <div style="margin: 20px 0;">
                        <p style="font-size: 1.2em; font-weight: bold;">One-to-One</p>
                        <p style="font-size: 1em; margin-top: 10px;">Permanent</p>
                    </div>
                    <div class="cost-circle cost-high" style="width: 120px; height: 120px; margin: 20px auto; font-size: 0.9em;">High Cost<br><br>1 IP per<br>device</div>
                    <ul style="text-align: left; margin-top: 20px;">
                        <li>Inbound access required</li>
                        <li>Servers (web, mail, VPN)</li>
                        <li>All ports available</li>
                        <li>Not scalable</li>
                    </ul>
                </div>
                <div class="column-box" style="border-color: #ffc107;">
                    <h3 style="color: #e0a800;">Dynamic NAT</h3>
                    <div style="margin: 20px 0;">
                        <p style="font-size: 1.2em; font-weight: bold;">One-to-One</p>
                        <p style="font-size: 1em; margin-top: 10px;">Temporary from pool</p>
                    </div>
                    <div class="cost-circle cost-medium" style="width: 120px; height: 120px; margin: 20px auto; font-size: 0.9em;">Medium Cost<br><br>Pool of IPs</div>
                    <ul style="text-align: left; margin-top: 20px;">
                        <li>Outbound only</li>
                        <li>Occasional Internet access</li>
                        <li>Pool exhaustion risk</li>
                        <li>Moderate scalability</li>
                    </ul>
                </div>
                <div class="column-box" style="border-color: #28a745;">
                    <h3 style="color: #28a745;">PAT (Overload)</h3>
                    <div style="margin: 20px 0;">
                        <p style="font-size: 1.2em; font-weight: bold;">Many-to-One</p>
                        <p style="font-size: 1em; margin-top: 10px;">Port-based multiplexing</p>
                    </div>
                    <div class="cost-circle cost-low" style="width: 120px; height: 120px; margin: 20px auto; font-size: 0.9em;">Low Cost<br><br>1 IP for<br>thousands</div>
                    <ul style="text-align: left; margin-top: 20px;">
                        <li>Most efficient</li>
                        <li>Home routers, enterprises</li>
                        <li>Excellent scalability</li>
                        <li>Industry standard</li>
                    </ul>
                </div>
            </div>

            <h3>Detailed Comparison</h3>
            <div class="table-container">
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Static NAT</th>
                        <th>Dynamic NAT</th>
                        <th>PAT</th>
                    </tr>
                    <tr>
                        <td>Mapping</td>
                        <td>1:1 permanent</td>
                        <td>1:1 temporary</td>
                        <td>Many:1 using ports</td>
                    </tr>
                    <tr>
                        <td>Duration</td>
                        <td>Permanent</td>
                        <td>Session-based</td>
                        <td>Session-based</td>
                    </tr>
                    <tr>
                        <td>Public IPs Needed</td>
                        <td>1 per device</td>
                        <td>Pool size</td>
                        <td>1 (or small pool)</td>
                    </tr>
                    <tr>
                        <td>Inbound Access</td>
                        <td>Yes (all ports)</td>
                        <td>No</td>
                        <td>No (unless port forward)</td>
                    </tr>
                    <tr>
                        <td>Use Case</td>
                        <td>Servers</td>
                        <td>Occasional access</td>
                        <td>General Internet access</td>
                    </tr>
                    <tr>
                        <td>Scalability</td>
                        <td>Poor</td>
                        <td>Moderate</td>
                        <td>Excellent</td>
                    </tr>
                    <tr>
                        <td>Cost</td>
                        <td>High (many IPs)</td>
                        <td>Medium (pool)</td>
                        <td>Low (minimal IPs)</td>
                    </tr>
                </table>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 14</div>
        </div>

        <!-- Slide 15: NAT Configuration Basics (Cisco IOS) -->
        <div class="slide">
            <h2>NAT Configuration - Cisco IOS Examples</h2>

            <h3>Basic Configuration Steps</h3>
            <ol style="margin-left: 40px;">
                <li><strong>Define Inside Network:</strong> Use ACL to specify inside local addresses</li>
                <li><strong>Define Outside Network:</strong> Identify outside interface</li>
                <li><strong>Configure NAT Type:</strong> Static, Dynamic, or PAT</li>
                <li><strong>Mark Interfaces:</strong> Designate inside and outside interfaces</li>
            </ol>

            <div class="code-block">
STATIC NAT Configuration:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Create static mapping
Router(config)# ip nat inside source static 192.168.1.50 203.0.113.50

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside


DYNAMIC NAT Configuration:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network with ACL
Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255

! Create pool of public addresses
Router(config)# ip nat pool MY_POOL 203.0.113.10 203.0.113.20 netmask 255.255.255.0

! Link ACL to pool
Router(config)# ip nat inside source list 1 pool MY_POOL

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside


PAT (Overload) Configuration - Using Interface:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network
Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255

! Enable PAT using outside interface IP
Router(config)# ip nat inside source list 1 interface GigabitEthernet0/1 overload

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside


PAT (Overload) Configuration - Using Pool:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
! Define inside network
Router(config)# access-list 1 permit 10.0.0.0 0.255.255.255

! Create pool with multiple IPs
Router(config)# ip nat pool PAT_POOL 203.0.113.10 203.0.113.15 netmask 255.255.255.0

! Enable PAT with "overload" keyword
Router(config)# ip nat inside source list 1 pool PAT_POOL overload

! Mark interfaces
Router(config)# interface GigabitEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip nat outside
            </code>
            </div>

            <h3>Key Commands</h3>
            <ul>
                <li><strong>access-list [number] permit [network] [wildcard]</strong> - Define inside network</li>
                <li><strong>ip nat pool [name] [start-ip] [end-ip] netmask [mask]</strong> - Create address pool</li>
                <li><strong>ip nat inside source list [acl] pool [name]</strong> - Dynamic NAT</li>
                <li><strong>ip nat inside source list [acl] pool [name] overload</strong> - PAT with pool</li>
                <li><strong>ip nat inside source list [acl] interface [if] overload</strong> - PAT with interface</li>
                <li><strong>ip nat inside source static [inside-local] [inside-global]</strong> - Static NAT</li>
            </ul>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 15</div>
        </div>

        <!-- Slide 16: NAT Limitations and Challenges -->
        <div class="slide">
            <h2>NAT Limitations - Why It's Not Perfect</h2>

            <div class="danger-box">
                <h4>Technical Limitations</h4>
                <ul>
                    <li><strong>Breaks End-to-End Connectivity:</strong> Violates original Internet design principle</li>
                    <li><strong>Complicates VPN:</strong> IPsec ESP mode incompatible, requires NAT Traversal (NAT-T)</li>
                    <li><strong>Protocol Incompatibility:</strong> Some protocols embed IP addresses in payload (FTP, SIP, H.323)</li>
                    <li><strong>Peer-to-Peer Challenges:</strong> Difficult to establish direct connections (gaming, VoIP)</li>
                    <li><strong>Application Layer Gateways (ALGs):</strong> Required for protocol-specific fixes, can cause issues</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>Security Issues</h4>
                <ul>
                    <li><strong>Not a Firewall:</strong> NAT hides internal network but doesn't provide true security</li>
                    <li><strong>NAT Traversal Vulnerabilities:</strong> Techniques to bypass NAT can be exploited</li>
                <li><strong>Port Forwarding Risks:</strong> Opening ports exposes internal services</li>
                    <li><strong>Logging Challenges:</strong> Multiple users share public IP, complicates forensics</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>Performance Issues</h4>
                <ul>
                    <li><strong>Router CPU Intensive:</strong> Translation table lookup on every packet</li>
                    <li><strong>Memory Consumption:</strong> Large translation tables require RAM</li>
                    <li><strong>Increased Latency:</strong> Additional processing time (typically microseconds)</li>
                    <li><strong>Table Exhaustion:</strong> Finite table size limits simultaneous connections</li>
                    <li><strong>Asymmetric Routing Issues:</strong> Return path must traverse same NAT device</li>
                </ul>
            </div>

            <div class="danger-box">
                <h4>Troubleshooting Challenges</h4>
                <ul>
                    <li><strong>Packet Header Changes:</strong> Difficult to trace traffic end-to-end</li>
                    <li><strong>Port Conflicts:</strong> Port already in use for different translation</li>
                    <li><strong>Timeout Issues:</strong> Sessions expire unexpectedly due to idle timeout</li>
                    <li><strong>Hairpin NAT Complexity:</strong> Internal devices accessing internal servers via public IP</li>
                </ul>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <div style="padding: 30px; background: #f8d7da; border: 3px solid #dc3545; border-radius: 10px; max-width: 600px; margin: 0 auto;">
                    <p style="font-size: 1.5em; font-weight: bold; color: #721c24; margin-bottom: 15px;">NAT is a Workaround, Not a Solution</p>
                    <p style="color: #721c24;">NAT was created as temporary fix for IPv4 exhaustion. IPv6 eliminates need for NAT entirely with its massive address space.</p>
                </div>
            </div>

            <div class="info-box">
                <h4>When NAT Causes Problems</h4>
                <ul>
                    <li>Gaming: Requires port forwarding or UPnP</li>
                    <li>VoIP: Needs SIP ALG or NAT traversal</li>
                    <li>Video Conferencing: May require STUN/TURN servers</li>
                    <li>IPsec VPN: Requires NAT-T encapsulation</li>
                </ul>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 16</div>
        </div>

        <!-- Slide 17: NAT Troubleshooting and Best Practices -->
        <div class="slide">
            <h2>NAT Troubleshooting and Best Practices</h2>

            <h3>Common Problems and Solutions</h3>

            <div class="flowchart">
                <div class="flow-step problem">Problem: No Outside Connectivity</div>
                <div class="arrow-down">↓</div>
                <div class="flow-step check">Check: Interface markings (ip nat inside/outside)</div>
                <div class="arrow-down">↓</div>
                <div class="flow-step check">Check: ACL permits correct inside network</div>
                <div class="arrow-down">↓</div>
                <div class="flow-step check">Check: Pool not exhausted (show ip nat statistics)</div>
                <div class="arrow-down">↓</div>
                <div class="flow-step solution">Solution: Verify and correct configuration</div>
            </div>

            <div class="warning-box">
                <h4>Problem: Cannot Connect to Internal Server from Internet</h4>
                <ul>
                    <li><strong>Check:</strong> Static NAT configured correctly</li>
                    <li><strong>Check:</strong> Firewall permits inbound traffic to translated IP</li>
                    <li><strong>Check:</strong> Server listening on correct port</li>
                    <li><strong>Check:</strong> No conflicting NAT entries</li>
                    <li><strong>Verify:</strong> <code>show ip nat translations | include [server-ip]</code></li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>Problem: One-Way Traffic (Outbound works, inbound fails)</h4>
                <ul>
                    <li><strong>Check:</strong> Return path through same NAT router (asymmetric routing)</li>
                    <li><strong>Check:</strong> NAT translation timeout not expired</li>
                    <li><strong>Check:</strong> Firewall not blocking return traffic</li>
                    <li><strong>Verify:</strong> <code>show ip nat translations</code> (look for active entries)</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>Problem: Port Conflicts / Random Failures</h4>
                <ul>
                    <li><strong>Symptom:</strong> Some connections work, others fail randomly</li>
                    <li><strong>Check:</strong> NAT table size (<code>show ip nat statistics</code>)</li>
                    <li><strong>Check:</strong> Available ports not exhausted</li>
                    <li><strong>Solution:</strong> Increase pool size or add more public IPs</li>
                </ul>
            </div>

            <h3>Verification Commands</h3>
            <div class="code-block">
! Show all NAT translations
Router# show ip nat translations

! Show NAT statistics (hits, misses, pool usage)
Router# show ip nat statistics

! Show specific translation
Router# show ip nat translations | include 192.168.1.10

! Clear NAT translations (use carefully!)
Router# clear ip nat translation *
Router# clear ip nat translation inside 192.168.1.10

! Debug NAT (use cautiously on production!)
Router# debug ip nat
Router# debug ip nat detailed
Router# no debug all (turn off debugging)
            </div>

            <h3>Best Practices</h3>
            <ul>
                <li><strong>Documentation:</strong> Maintain NAT configuration documentation (static mappings, pools)</li>
                <li><strong>Use ACLs Effectively:</strong> Be specific about which networks to translate</li>
                <li><strong>Monitor Table Size:</strong> Set up alerts for NAT table utilization thresholds</li>
                <li><strong>Test in Lab First:</strong> Always test NAT changes before production deployment</li>
                <li><strong>Plan for IPv6:</strong> Implement dual-stack to eventually eliminate NAT dependency</li>
                <li><strong>Avoid Double NAT:</strong> Multiple NAT layers cause connectivity issues</li>
            </ul>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 17</div>
        </div>

        <!-- Slide 18: Summary and Lab Suggestions -->
        <div class="slide">
            <h2>Summary and Next Steps - Practice Labs</h2>

            <h3>Key Takeaways</h3>
            <ul>
                <li><strong>NAT solves IPv4 shortage</strong> by allowing multiple devices to share public IPs</li>
                <li><strong>Three main types:</strong> Static NAT (1:1 permanent), Dynamic NAT (1:1 pool), PAT (many:1 ports)</li>
                <li><strong>PAT is most common:</strong> Home routers and enterprises use port-based multiplexing</li>
                <li><strong>Uses ports to multiplex:</strong> Single public IP supports thousands of devices via unique ports</li>
                <li><strong>RFC 1918 defines private addresses:</strong> 10.x.x.x, 172.16-31.x.x, 192.168.x.x</li>
                <li><strong>NAT table essential:</strong> Stores mappings for bidirectional communication</li>
                <li><strong>Stateful operation:</strong> Remembers outbound connections, allows return traffic</li>
                <li><strong>Security by obscurity:</strong> Hides internal network but not a true firewall</li>
                <li><strong>Limitations exist:</strong> Breaks some protocols, complicates VPN, impacts performance</li>
                <li><strong>IPv6 is future:</strong> Eliminates need for NAT with massive address space</li>
            </ul>

            <div style="margin: 30px 0;">
                <h3 style="color: #2a5298; text-align: center; margin-bottom: 20px;">NAT Types Visual Review</h3>
                <div class="three-column-grid">
                    <div class="column-box" style="background: rgba(220, 53, 69, 0.1); border-color: #dc3545;">
                        <h3 style="color: #dc3545;">Static NAT</h3>
                        <p style="font-size: 1.1em; margin: 15px 0;">1:1 Permanent</p>
                        <p>Servers</p>
                    </div>
                    <div class="column-box" style="background: rgba(255, 193, 7, 0.1); border-color: #ffc107;">
                        <h3 style="color: #e0a800;">Dynamic NAT</h3>
                        <p style="font-size: 1.1em; margin: 15px 0;">1:1 Pool</p>
                        <p>Occasional Access</p>
                    </div>
                    <div class="column-box" style="background: rgba(40, 167, 69, 0.1); border-color: #28a745;">
                        <h3 style="color: #28a745;">PAT</h3>
                        <p style="font-size: 1.1em; margin: 15px 0;">Many:1 Ports</p>
                        <p>Most Common</p>
                    </div>
                </div>
            </div>

            <h3>Recommended Practice Labs</h3>
            <div class="comparison-grid">
                <div class="comparison-box">
                    <h3>Lab 1: Basic Static NAT</h3>
                    <p><strong>Objective:</strong> Configure static NAT for internal web server</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Set up router with two interfaces</li>
                        <li>Create static NAT mapping</li>
                        <li>Test HTTP access from outside</li>
                        <li>Verify translation table</li>
                    </ul>
                </div>
                <div class="comparison-box">
                    <h3>Lab 2: Dynamic NAT Pool</h3>
                    <p><strong>Objective:</strong> Implement dynamic NAT with address pool</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Configure ACL for inside network</li>
                        <li>Create public IP pool</li>
                        <li>Test with multiple clients</li>
                        <li>Observe pool exhaustion</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h3>Lab 3: PAT Overload</h3>
                    <p><strong>Objective:</strong> Configure PAT for home router scenario</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Enable PAT on outside interface</li>
                        <li>Test with 5+ internal devices</li>
                        <li>Verify port-based multiplexing</li>
                        <li>Analyze NAT translation table</li>
                    </ul>
                </div>
                <div class="comparison-box">
                    <h3>Lab 4: NAT Troubleshooting</h3>
                    <p><strong>Objective:</strong> Diagnose and fix NAT configuration issues</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Intentionally misconfigure NAT</li>
                        <li>Use verification commands</li>
                        <li>Identify and resolve issues</li>
                        <li>Document troubleshooting process</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-box">
                    <h3>Lab 5: Home Router Simulation</h3>
                    <p><strong>Objective:</strong> Build complete home network with PAT</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Single public IP from ISP</li>
                        <li>Multiple internal devices</li>
                        <li>Configure DHCP, DNS, PAT</li>
                        <li>Test web, email, gaming</li>
                    </ul>
                </div>
                <div class="comparison-box">
                    <h3>Lab 6: Double NAT Challenge</h3>
                    <p><strong>Objective:</strong> Identify and resolve double NAT issues</p>
                    <ul style="font-size: 0.95em; margin-top: 10px;">
                        <li>Create cascaded NAT scenario</li>
                        <li>Observe connectivity problems</li>
                        <li>Understand hairpin NAT</li>
                        <li>Implement workarounds</li>
                    </ul>
                </div>
            </div>

            <div class="info-box">
                <h4>Next Steps in Learning</h4>
                <p>Practice NAT configuration in Packet Tracer or GNS3. Understand how your home router uses PAT. Explore IPv6 as the long-term solution to address exhaustion. Learn about NAT traversal techniques (STUN, TURN, ICE) for peer-to-peer applications.</p>
            </div>

            <div class="prepared-by">Prepared by: EQ6</div>
            <div class="slide-number">Slide 18</div>
        </div>
    </div>

    <div class="controls">
        <button id="prevBtn" onclick="changeSlide(-1)">← Previous</button>
        <button id="nextBtn" onclick="changeSlide(1)">Next →</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));

            if (n >= slides.length) {
                currentSlide = slides.length - 1;
            } else if (n < 0) {
                currentSlide = 0;
            } else {
                currentSlide = n;
            }

            slides[currentSlide].classList.add('active');

            // Update button states
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === slides.length - 1;
        }

        function changeSlide(direction) {
            showSlide(currentSlide + direction);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>
