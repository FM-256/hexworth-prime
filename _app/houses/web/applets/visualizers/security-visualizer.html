<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Security Visualizer - Network Essentials</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            background: #1a1a2e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: white;
            padding-bottom: 40px;
        }

        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            z-index: 1000;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .home-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        h1 {
            text-align: center;
            font-size: 2em;
            margin-bottom: 5px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #a5b4fc;
            margin-bottom: 15px;
            font-size: 1em;
        }

        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tab-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            border-color: transparent;
        }

        .tab-content {
            display: none;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            overflow-x: auto;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .tab-content h2 {
            margin-top: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #e94560;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        h3 {
            color: #f472b6;
            margin: 20px 0 10px;
            font-size: 1.3em;
        }

        p {
            color: #e2e8f0;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        /* Sidebar Layout */
        .sidebar-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 20px;
            min-height: 400px;
        }

        .sidebar {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 15px;
        }

        .sidebar-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .sidebar-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .sidebar-btn.active {
            background: rgba(233, 69, 96, 0.3);
            border-color: #e94560;
        }

        .sidebar-btn .btn-icon {
            font-size: 1.8em;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .sidebar-btn.confidentiality .btn-icon { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .sidebar-btn.integrity .btn-icon { background: linear-gradient(135deg, #10b981, #059669); }
        .sidebar-btn.availability .btn-icon { background: linear-gradient(135deg, #f59e0b, #d97706); }

        .sidebar-btn .btn-text {
            font-weight: bold;
            font-size: 1.1em;
        }

        .main-content {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 20px;
            overflow-y: auto;
        }

        @media (max-width: 768px) {
            .sidebar-layout {
                grid-template-columns: 1fr;
            }
            .sidebar {
                display: flex;
                gap: 10px;
                overflow-x: auto;
                padding: 10px;
            }
            .sidebar-btn {
                flex-shrink: 0;
                width: auto;
                margin-bottom: 0;
            }
        }

        /* CIA Triad Styles - keep for backwards compat */
        .cia-triangle {
            width: 280px;
            height: 240px;
            margin: 20px auto;
            position: relative;
        }

        .cia-corner {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .cia-corner:hover, .cia-corner.active {
            transform: scale(1.15);
            box-shadow: 0 0 30px currentColor;
        }

        .cia-corner.confidentiality {
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: #3b82f6;
        }

        .cia-corner.integrity {
            bottom: 0;
            left: 0;
            background: linear-gradient(135deg, #10b981, #059669);
            color: #10b981;
        }

        .cia-corner.availability {
            bottom: 0;
            right: 0;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #f59e0b;
        }

        .cia-corner .icon {
            font-size: 1.8em;
            margin-bottom: 5px;
        }

        .cia-corner .label {
            font-size: 0.7em;
            font-weight: bold;
            color: white;
        }

        .cia-lines {
            position: absolute;
            top: 50px;
            left: 50px;
            width: 200px;
            height: 160px;
        }

        .cia-lines svg {
            width: 100%;
            height: 100%;
        }

        .cia-info {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
            min-height: 150px;
        }

        .cia-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .example-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid currentColor;
        }

        /* AAA Simulator Styles */
        .aaa-flow {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .aaa-step {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            opacity: 0.5;
            transition: all 0.5s ease;
        }

        .aaa-step.active {
            opacity: 1;
            border-left: 4px solid #e94560;
        }

        .aaa-step.completed {
            opacity: 1;
            border-left: 4px solid #10b981;
        }

        .aaa-step-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            flex-shrink: 0;
        }

        .aaa-step.authentication .aaa-step-icon { background: #3b82f6; }
        .aaa-step.authorization .aaa-step-icon { background: #10b981; }
        .aaa-step.accounting .aaa-step-icon { background: #f59e0b; }

        .aaa-step-content {
            flex: 1;
        }

        .aaa-step-content h4 {
            color: #e94560;
            margin-bottom: 8px;
        }

        .aaa-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .aaa-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .aaa-btn.primary {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
        }

        .aaa-btn.secondary {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .aaa-btn:hover {
            transform: scale(1.05);
        }

        .aaa-input-group {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .aaa-input-group input {
            padding: 10px 15px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 14px;
        }

        .aaa-input-group input:focus {
            outline: none;
            border-color: #e94560;
        }

        /* Firewall Simulator Styles */
        .firewall-demo {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
        }

        .network-zone {
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            min-height: 200px;
        }

        .zone-internal {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .zone-external {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .firewall-icon {
            font-size: 4em;
            text-align: center;
        }

        .firewall-rules {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .rule-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .rule-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .rule-action {
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .rule-action.permit {
            background: #10b981;
            color: white;
        }

        .rule-action.deny {
            background: #ef4444;
            color: white;
        }

        .rule-details {
            flex: 1;
            font-family: 'Courier New', monospace;
            color: #a5b4fc;
        }

        .rule-order {
            color: #6b7280;
            font-size: 0.9em;
        }

        .traffic-test {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .traffic-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .traffic-form label {
            color: #a5b4fc;
            font-size: 0.9em;
            display: block;
            margin-bottom: 5px;
        }

        .traffic-form input, .traffic-form select {
            width: 100%;
            padding: 10px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 14px;
        }

        .traffic-result {
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .traffic-result.permit {
            background: rgba(16, 185, 129, 0.3);
            border: 2px solid #10b981;
            display: block;
        }

        .traffic-result.deny {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid #ef4444;
            display: block;
        }

        /* Attack Simulator Styles */
        .attack-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .attack-card {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .attack-card:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .attack-card.active {
            border-color: #e94560;
            background: rgba(233, 69, 96, 0.2);
        }

        .attack-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .attack-card .name {
            font-weight: bold;
            color: #e94560;
        }

        .attack-card .severity {
            font-size: 0.8em;
            color: #a5b4fc;
            margin-top: 5px;
        }

        .attack-info {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .attack-visual {
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
        }

        .device-icon {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .device-icon.attacker {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid #ef4444;
        }

        .device-icon.victim {
            background: rgba(59, 130, 246, 0.3);
            border: 2px solid #3b82f6;
        }

        .attack-arrow {
            font-size: 2em;
            color: #ef4444;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Attack sequence animation */
        .attack-sequence {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .attack-step {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            border-left: 3px solid rgba(255,255,255,0.2);
            opacity: 0;
            transform: translateX(-20px);
            animation: stepFadeIn 0.5s ease forwards;
        }

        .attack-step:nth-child(1) { animation-delay: 0.3s; }
        .attack-step:nth-child(2) { animation-delay: 1.0s; }
        .attack-step:nth-child(3) { animation-delay: 1.7s; }
        .attack-step:nth-child(4) { animation-delay: 2.4s; }
        .attack-step:nth-child(5) { animation-delay: 3.1s; }

        @keyframes stepFadeIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .step-number {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-icon {
            font-size: 1.8em;
            width: 50px;
            text-align: center;
        }

        .step-content {
            flex: 1;
        }

        .step-label {
            font-weight: bold;
            color: #e94560;
            font-size: 0.9em;
        }

        .step-desc {
            color: #a5b4fc;
            font-size: 0.85em;
            margin-top: 3px;
        }

        .attack-step.attacker { border-left-color: #ef4444; }
        .attack-step.victim { border-left-color: #3b82f6; }
        .attack-step.result { border-left-color: #f59e0b; }

        /* 3-column attack layout */
        .attack-layout {
            display: grid;
            grid-template-columns: 200px 1fr 250px;
            gap: 20px;
            min-height: 400px;
        }

        .defense-sidebar {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 15px;
            overflow-y: auto;
        }

        .defense-sidebar .defense-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border-left: 3px solid #10b981;
            opacity: 0;
            transform: translateX(20px);
            animation: defenseSlideIn 0.4s ease forwards;
        }

        .defense-sidebar .defense-item:nth-child(1) { animation-delay: 0.5s; }
        .defense-sidebar .defense-item:nth-child(2) { animation-delay: 1.0s; }
        .defense-sidebar .defense-item:nth-child(3) { animation-delay: 1.5s; }
        .defense-sidebar .defense-item:nth-child(4) { animation-delay: 2.0s; }
        .defense-sidebar .defense-item:nth-child(5) { animation-delay: 2.5s; }
        .defense-sidebar .defense-item:nth-child(6) { animation-delay: 3.0s; }

        @keyframes defenseSlideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .defense-sidebar .check {
            color: #10b981;
            font-weight: bold;
            flex-shrink: 0;
        }

        .defense-sidebar .defense-text {
            font-size: 0.85em;
            color: #e2e8f0;
            line-height: 1.4;
        }

        @media (max-width: 1024px) {
            .attack-layout {
                grid-template-columns: 1fr;
            }
            .defense-sidebar {
                order: 3;
            }
        }

        .defense-list {
            margin-top: 15px;
        }

        .defense-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .defense-item .check {
            color: #10b981;
            font-size: 1.2em;
        }

        /* VPN Comparison Styles */
        .vpn-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .vpn-card {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .vpn-card:hover, .vpn-card.active {
            border-color: #e94560;
        }

        .vpn-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .vpn-card .icon {
            font-size: 1.5em;
        }

        .vpn-feature-list {
            margin-top: 15px;
        }

        .vpn-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .vpn-feature:last-child {
            border-bottom: none;
        }

        .vpn-feature .label {
            flex: 1;
            color: #a5b4fc;
        }

        .vpn-feature .value {
            font-weight: bold;
        }

        .vpn-diagram {
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            padding: 30px;
            margin-top: 20px;
            text-align: center;
        }

        .vpn-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .vpn-node {
            padding: 15px 25px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
        }

        .vpn-node.encrypted {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .vpn-tunnel {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: repeating-linear-gradient(
                90deg,
                rgba(233, 69, 96, 0.5),
                rgba(233, 69, 96, 0.5) 10px,
                rgba(233, 69, 96, 0.3) 10px,
                rgba(233, 69, 96, 0.3) 20px
            );
            border-radius: 25px;
        }

        /* Protocol Comparison Styles */
        .protocol-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .protocol-table th, .protocol-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .protocol-table th {
            background: rgba(233, 69, 96, 0.3);
            color: #e94560;
            font-weight: bold;
        }

        .protocol-table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .protocol-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .protocol-badge.secure {
            background: #10b981;
            color: white;
        }

        .protocol-badge.partial {
            background: #f59e0b;
            color: white;
        }

        .protocol-badge.insecure {
            background: #ef4444;
            color: white;
        }

        /* Wireless Security Evolution */
        .wireless-timeline {
            position: relative;
            padding: 20px 0;
            margin: 20px 0;
        }

        .wireless-timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #ef4444, #f59e0b, #10b981, #3b82f6);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 30px 0;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: scale(1.02);
        }

        .timeline-content.wep { border-left: 4px solid #ef4444; }
        .timeline-content.wpa { border-left: 4px solid #f59e0b; }
        .timeline-content.wpa2 { border-left: 4px solid #10b981; }
        .timeline-content.wpa3 { border-left: 4px solid #3b82f6; }

        .timeline-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            position: relative;
            z-index: 1;
            margin: 0 calc(5% - 10px);
        }

        .timeline-year {
            font-size: 0.9em;
            color: #a5b4fc;
        }

        .timeline-title {
            font-size: 1.3em;
            font-weight: bold;
            margin: 5px 0;
        }

        .timeline-desc {
            color: #e2e8f0;
            font-size: 0.95em;
        }

        .security-rating {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .security-rating .bar {
            width: 30px;
            height: 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.2);
        }

        .security-rating .bar.filled {
            background: currentColor;
        }

        /* Exam Prep Quiz */
        .quiz-container {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
        }

        .quiz-progress {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quiz-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
        }

        .quiz-dot.current { background: #e94560; }
        .quiz-dot.correct { background: #10b981; }
        .quiz-dot.incorrect { background: #ef4444; }

        .quiz-question {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            padding: 15px 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover:not(.disabled) {
            background: rgba(255,255,255,0.2);
        }

        .quiz-option.selected {
            border-color: #e94560;
            background: rgba(233, 69, 96, 0.2);
        }

        .quiz-option.correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.3);
        }

        .quiz-option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.3);
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(16, 185, 129, 0.3);
            border: 2px solid #10b981;
        }

        .quiz-feedback.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid #ef4444;
        }

        .quiz-score {
            text-align: center;
            padding: 30px;
        }

        .quiz-score .score-value {
            font-size: 3em;
            font-weight: bold;
            color: #e94560;
        }

        @media (max-width: 768px) {
            .firewall-demo {
                grid-template-columns: 1fr;
            }

            .vpn-comparison {
                grid-template-columns: 1fr;
            }

            .timeline-item, .timeline-item:nth-child(odd) {
                flex-direction: column;
            }

            .timeline-content {
                width: 100%;
            }

            .wireless-timeline::before {
                left: 20px;
            }

            .timeline-dot {
                position: absolute;
                left: 10px;
            }
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="home-btn">Back to Catalog</a>

    <div class="container">
        <h1>Network Security Visualizer</h1>
        <p class="subtitle">Interactive Security Concepts - Network+ Objectives 4.1-4.5</p>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('cia')">CIA Triad</button>
            <button class="tab-btn" onclick="showTab('aaa')">AAA Framework</button>
            <button class="tab-btn" onclick="showTab('firewall')">Firewall Rules</button>
            <button class="tab-btn" onclick="showTab('attacks')">Attack Types</button>
            <button class="tab-btn" onclick="showTab('vpn')">VPN Comparison</button>
            <button class="tab-btn" onclick="showTab('protocols')">Auth Protocols</button>
            <button class="tab-btn" onclick="showTab('wireless')">Wireless Security</button>
            <button class="tab-btn" onclick="showTab('quiz')">Exam Prep</button>
        </div>

        <!-- CIA Triad Tab -->
        <div id="cia" class="tab-content active">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <div class="sidebar-btn confidentiality active" onclick="showCIA('confidentiality')">
                        <div class="btn-icon">üîí</div>
                        <div class="btn-text">Confidentiality</div>
                    </div>
                    <div class="sidebar-btn integrity" onclick="showCIA('integrity')">
                        <div class="btn-icon">‚úì</div>
                        <div class="btn-text">Integrity</div>
                    </div>
                    <div class="sidebar-btn availability" onclick="showCIA('availability')">
                        <div class="btn-icon">‚ö°</div>
                        <div class="btn-text">Availability</div>
                    </div>
                </div>
                <div class="main-content" id="cia-info">
                    <h3>Select a component to learn more</h3>
                    <p>The CIA Triad is the fundamental framework for information security. Each component represents a critical aspect of protecting information systems.</p>
                </div>
            </div>
        </div>

        <!-- AAA Framework Tab -->
        <div id="aaa" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <h3 style="color: #e94560; margin-bottom: 15px;">Login Simulator</h3>
                    <input type="text" id="aaa-username" placeholder="Username" value="jsmith" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;">
                    <input type="password" id="aaa-password" placeholder="Password" value="secure123" style="width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;">
                    <button class="aaa-btn primary" onclick="startAAA()" style="width: 100%; margin-bottom: 10px;">‚ñ∂ Run Login</button>
                    <button class="aaa-btn secondary" onclick="resetAAA()" style="width: 100%;">‚Ü∫ Reset</button>
                    <p style="font-size: 0.8em; color: #a5b4fc; margin-top: 15px;">Try: jsmith/secure123, guest/guest123, or invalid credentials</p>
                </div>
                <div class="main-content">
                    <div class="aaa-flow">
                        <div id="aaa-step-1" class="aaa-step authentication">
                            <div class="aaa-step-icon">üîê</div>
                            <div class="aaa-step-content">
                                <h4>1. Authentication - "Who are you?"</h4>
                                <div id="aaa-result-1" class="aaa-result" style="display: none;"></div>
                            </div>
                        </div>
                        <div id="aaa-step-2" class="aaa-step authorization">
                            <div class="aaa-step-icon">üìã</div>
                            <div class="aaa-step-content">
                                <h4>2. Authorization - "What can you do?"</h4>
                                <div id="aaa-result-2" class="aaa-result" style="display: none;"></div>
                            </div>
                        </div>
                        <div id="aaa-step-3" class="aaa-step accounting">
                            <div class="aaa-step-icon">üìä</div>
                            <div class="aaa-step-content">
                                <h4>3. Accounting - "What did you do?"</h4>
                                <div id="aaa-result-3" class="aaa-result" style="display: none;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Firewall Rules Tab -->
        <div id="firewall" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <h3 style="color: #e94560; margin-bottom: 15px;">Test Traffic</h3>
                    <label style="font-size: 0.85em; color: #a5b4fc;">Source IP</label>
                    <input type="text" id="traffic-src" value="10.0.0.100" style="width: 100%; padding: 8px; margin-bottom: 10px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;">
                    <label style="font-size: 0.85em; color: #a5b4fc;">Destination</label>
                    <input type="text" id="traffic-dst" value="8.8.8.8" style="width: 100%; padding: 8px; margin-bottom: 10px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;">
                    <label style="font-size: 0.85em; color: #a5b4fc;">Port</label>
                    <select id="traffic-port" style="width: 100%; padding: 8px; margin-bottom: 15px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;">
                        <option value="443">443 (HTTPS)</option>
                        <option value="80">80 (HTTP)</option>
                        <option value="22">22 (SSH)</option>
                        <option value="21">21 (FTP)</option>
                        <option value="3389">3389 (RDP)</option>
                    </select>
                    <button class="aaa-btn primary" onclick="testFirewall()" style="width: 100%;">üîç Test Traffic</button>
                    <div id="traffic-result" class="traffic-result" style="margin-top: 15px;"></div>
                </div>
                <div class="main-content">
                    <h3 style="color: #e94560; margin-bottom: 10px;">Firewall Rules (Top-Down, First Match)</h3>
                    <div id="firewall-rules-list">
                        <div class="rule-item" data-rule="1">
                            <span class="rule-order">#1</span>
                            <span class="rule-action permit">PERMIT</span>
                            <span class="rule-details">TCP 10.0.0.0/8 ‚Üí ANY :443</span>
                        </div>
                        <div class="rule-item" data-rule="2">
                            <span class="rule-order">#2</span>
                            <span class="rule-action permit">PERMIT</span>
                            <span class="rule-details">TCP 10.0.0.0/8 ‚Üí ANY :80</span>
                        </div>
                        <div class="rule-item" data-rule="3">
                            <span class="rule-order">#3</span>
                            <span class="rule-action deny">DENY</span>
                            <span class="rule-details">TCP 10.0.0.50 ‚Üí ANY :22</span>
                        </div>
                        <div class="rule-item" data-rule="4">
                            <span class="rule-order">#4</span>
                            <span class="rule-action permit">PERMIT</span>
                            <span class="rule-details">TCP 10.0.0.0/8 ‚Üí ANY :22</span>
                        </div>
                        <div class="rule-item" data-rule="5">
                            <span class="rule-order">#5</span>
                            <span class="rule-action deny">DENY</span>
                            <span class="rule-details">ANY ‚Üí ANY (Implicit Deny)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Attack Types Tab -->
        <div id="attacks" class="tab-content">
            <div class="attack-layout">
                <div class="sidebar">
                    <div class="sidebar-btn attack-btn" onclick="showAttack('ddos')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üí•</div>
                        <div class="btn-text">DDoS</div>
                    </div>
                    <div class="sidebar-btn attack-btn" onclick="showAttack('mitm')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üë§</div>
                        <div class="btn-text">MITM</div>
                    </div>
                    <div class="sidebar-btn attack-btn" onclick="showAttack('arp')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">üîÄ</div>
                        <div class="btn-text">ARP Spoof</div>
                    </div>
                    <div class="sidebar-btn attack-btn" onclick="showAttack('dns')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #ec4899, #db2777);">üìç</div>
                        <div class="btn-text">DNS Spoof</div>
                    </div>
                    <div class="sidebar-btn attack-btn" onclick="showAttack('vlan')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #14b8a6, #0d9488);">üè∑Ô∏è</div>
                        <div class="btn-text">VLAN Hop</div>
                    </div>
                    <div class="sidebar-btn attack-btn" onclick="showAttack('deauth')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">üì∂</div>
                        <div class="btn-text">Deauth</div>
                    </div>
                </div>
                <div class="main-content" id="attack-info">
                    <h3>Select an attack to learn more</h3>
                    <p>Understanding how attacks work is essential for building effective defenses.</p>
                </div>
                <div class="defense-sidebar" id="defense-panel">
                    <h4 style="color: #10b981; margin-bottom: 15px;">üõ°Ô∏è Defenses</h4>
                    <p style="color: #a5b4fc; font-size: 0.85em;">Select an attack to see defense mechanisms</p>
                </div>
            </div>
        </div>

        <!-- VPN Comparison Tab -->
        <div id="vpn" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <div class="sidebar-btn vpn-btn" onclick="showVPN('ipsec')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">üîê</div>
                        <div class="btn-text">IPSec VPN</div>
                    </div>
                    <div class="sidebar-btn vpn-btn" onclick="showVPN('ssl')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üåê</div>
                        <div class="btn-text">SSL/TLS VPN</div>
                    </div>
                    <div class="sidebar-btn vpn-btn" onclick="showVPN('compare')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">‚öñÔ∏è</div>
                        <div class="btn-text">Compare Both</div>
                    </div>
                </div>
                <div class="main-content" id="vpn-info">
                    <h3>VPN Technology Comparison</h3>
                    <p>Select a VPN type to learn about its architecture, protocols, and use cases.</p>
                    <p style="color: #a5b4fc; margin-top: 15px;">VPNs create encrypted tunnels to protect data in transit. Understanding when to use IPSec vs SSL/TLS is critical for the Network+ exam.</p>
                </div>
            </div>
        </div>

        <!-- Auth Protocols Tab -->
        <div id="protocols" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <div class="sidebar-btn protocol-btn" onclick="showProtocol('radius')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">üîµ</div>
                        <div class="btn-text">RADIUS</div>
                    </div>
                    <div class="sidebar-btn protocol-btn" onclick="showProtocol('tacacs')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">üü£</div>
                        <div class="btn-text">TACACS+</div>
                    </div>
                    <div class="sidebar-btn protocol-btn" onclick="showProtocol('kerberos')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üü¢</div>
                        <div class="btn-text">Kerberos</div>
                    </div>
                    <div class="sidebar-btn protocol-btn" onclick="showProtocol('ldap')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üü†</div>
                        <div class="btn-text">LDAP</div>
                    </div>
                    <div class="sidebar-btn protocol-btn" onclick="showProtocol('compare')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üìä</div>
                        <div class="btn-text">Compare All</div>
                    </div>
                </div>
                <div class="main-content" id="protocol-info">
                    <h3>Authentication Protocol Comparison</h3>
                    <p>Select a protocol to learn about its features, ports, and use cases.</p>
                    <p style="color: #a5b4fc; margin-top: 15px;">Understanding these protocols is crucial for Network+ objectives 4.1 and 4.2 (Authentication and AAA).</p>
                </div>
            </div>
        </div>

        <!-- Wireless Security Tab -->
        <div id="wireless" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <div class="sidebar-btn wireless-btn" onclick="showWireless('wep')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üì∂</div>
                        <div class="btn-text">
                            <div>WEP</div>
                            <div style="font-size: 0.7em; opacity: 0.7;">1999 - Broken</div>
                        </div>
                    </div>
                    <div class="sidebar-btn wireless-btn" onclick="showWireless('wpa')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üì∂</div>
                        <div class="btn-text">
                            <div>WPA</div>
                            <div style="font-size: 0.7em; opacity: 0.7;">2003 - Deprecated</div>
                        </div>
                    </div>
                    <div class="sidebar-btn wireless-btn" onclick="showWireless('wpa2')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üì∂</div>
                        <div class="btn-text">
                            <div>WPA2</div>
                            <div style="font-size: 0.7em; opacity: 0.7;">2004 - Current</div>
                        </div>
                    </div>
                    <div class="sidebar-btn wireless-btn" onclick="showWireless('wpa3')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">üì∂</div>
                        <div class="btn-text">
                            <div>WPA3</div>
                            <div style="font-size: 0.7em; opacity: 0.7;">2018 - Best</div>
                        </div>
                    </div>
                    <div class="sidebar-btn wireless-btn" onclick="showWireless('compare')">
                        <div class="btn-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">üìä</div>
                        <div class="btn-text">Compare All</div>
                    </div>
                </div>
                <div class="main-content" id="wireless-info">
                    <h3>Wireless Security Evolution</h3>
                    <p>From WEP to WPA3 - understand the progression of wireless security.</p>
                    <p style="color: #a5b4fc; margin-top: 15px;">Select a security standard to learn about its encryption, vulnerabilities, and when to use it.</p>
                </div>
            </div>
        </div>

        <!-- Exam Prep Quiz Tab -->
        <div id="quiz" class="tab-content">
            <div class="sidebar-layout">
                <div class="sidebar">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 3em; margin-bottom: 10px;">üìù</div>
                        <h3 style="margin: 0; color: #e94560;">Security Quiz</h3>
                        <p style="font-size: 0.85em; color: #a5b4fc; margin-top: 5px;">Network+ Objectives 4.1-4.5</p>
                    </div>

                    <div style="background: rgba(0,0,0,0.2); border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                        <h4 style="margin: 0 0 10px; font-size: 0.9em; color: #f472b6;">Quiz Progress</h4>
                        <div id="quiz-progress" class="quiz-progress" style="margin-bottom: 10px;"></div>
                        <div id="quiz-score-display" style="font-size: 0.9em; color: #a5b4fc;"></div>
                    </div>

                    <div style="background: rgba(0,0,0,0.2); border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                        <h4 style="margin: 0 0 10px; font-size: 0.9em; color: #f472b6;">Topics Covered</h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.85em; color: #e2e8f0;">
                            <li>CIA Triad</li>
                            <li>AAA Framework</li>
                            <li>Auth Protocols</li>
                            <li>Firewalls & IDS/IPS</li>
                            <li>VPN Technologies</li>
                            <li>Wireless Security</li>
                            <li>Attack Types</li>
                        </ul>
                    </div>

                    <button class="aaa-btn primary" onclick="startQuiz()" style="width: 100%; margin-bottom: 10px;">
                        üîÑ Restart Quiz
                    </button>
                </div>
                <div class="main-content">
                    <div id="quiz-container" class="quiz-container" style="background: transparent; padding: 0;">
                        <div id="quiz-question" class="quiz-question"></div>
                        <div id="quiz-options" class="quiz-options"></div>
                        <div id="quiz-feedback" class="quiz-feedback"></div>
                        <div style="margin-top: 20px;">
                            <button id="quiz-next" class="aaa-btn primary" onclick="nextQuestion()" style="display: none;">Next Question ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab functionality
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');

            if (tabId === 'quiz') {
                startQuiz();
            }
        }

        // CIA Triad functionality
        const ciaData = {
            confidentiality: {
                title: 'Confidentiality',
                color: '#3b82f6',
                description: 'Ensuring that information is accessible only to those authorized to have access. Protects against unauthorized disclosure of data.',
                methods: ['Encryption (AES, RSA)', 'Access Controls (ACLs)', 'Authentication (MFA)', 'Data Classification'],
                examples: [
                    { title: 'Encryption', desc: 'TLS encrypts web traffic so eavesdroppers cannot read it' },
                    { title: 'Access Control', desc: 'NTFS permissions restrict who can view files' },
                    { title: 'Data Masking', desc: 'Hiding credit card numbers: ****-****-****-1234' }
                ],
                threats: ['Data breaches', 'Eavesdropping', 'Shoulder surfing', 'Social engineering']
            },
            integrity: {
                title: 'Integrity',
                color: '#10b981',
                description: 'Maintaining the accuracy and completeness of data. Ensures that data has not been altered in an unauthorized manner.',
                methods: ['Hashing (SHA-256, MD5)', 'Digital Signatures', 'Checksums', 'Version Control'],
                examples: [
                    { title: 'Hashing', desc: 'SHA-256 verifies downloaded files haven\'t been modified' },
                    { title: 'Digital Signatures', desc: 'Proves email came from claimed sender and wasn\'t altered' },
                    { title: 'HMAC', desc: 'Verifies data integrity during transmission' }
                ],
                threats: ['Man-in-the-middle', 'Data tampering', 'Injection attacks', 'Malware']
            },
            availability: {
                title: 'Availability',
                color: '#f59e0b',
                description: 'Ensuring that authorized users have access to information and resources when needed. Systems must be operational and accessible.',
                methods: ['Redundancy (RAID, Clusters)', 'Backups', 'DDoS Protection', 'Disaster Recovery'],
                examples: [
                    { title: 'Load Balancing', desc: 'Distributes traffic across multiple servers' },
                    { title: 'UPS/Generator', desc: 'Maintains power during outages' },
                    { title: 'Hot Site', desc: 'Fully operational backup facility for disasters' }
                ],
                threats: ['DDoS attacks', 'Hardware failure', 'Natural disasters', 'Power outages']
            }
        };

        function showCIA(type) {
            const data = ciaData[type];
            // Update sidebar buttons
            document.querySelectorAll('.sidebar-btn').forEach(el => el.classList.remove('active'));
            document.querySelector(`.sidebar-btn.${type}`).classList.add('active');
            // Legacy support for triangle view
            document.querySelectorAll('.cia-corner').forEach(el => el.classList.remove('active'));
            const corner = document.querySelector(`.cia-corner.${type}`);
            if (corner) corner.classList.add('active');

            let html = `
                <h3 style="color: ${data.color};">${data.title}</h3>
                <p>${data.description}</p>

                <h4 style="margin-top: 20px;">Protection Methods:</h4>
                <ul style="margin-left: 20px; color: #a5b4fc;">
                    ${data.methods.map(m => `<li>${m}</li>`).join('')}
                </ul>

                <h4 style="margin-top: 20px;">Examples:</h4>
                <div class="cia-examples">
                    ${data.examples.map(ex => `
                        <div class="example-card" style="border-color: ${data.color};">
                            <strong style="color: ${data.color};">${ex.title}</strong>
                            <p style="margin: 5px 0 0; font-size: 0.9em;">${ex.desc}</p>
                        </div>
                    `).join('')}
                </div>

                <h4 style="margin-top: 20px;">Common Threats:</h4>
                <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;">
                    ${data.threats.map(t => `<span style="background: rgba(239,68,68,0.3); padding: 5px 15px; border-radius: 15px; font-size: 0.9em;">‚ö†Ô∏è ${t}</span>`).join('')}
                </div>
            `;

            document.getElementById('cia-info').innerHTML = html;
        }

        // AAA Framework functionality
        let aaaStep = 0;
        const users = {
            'jsmith': { password: 'secure123', role: 'admin', permissions: ['read', 'write', 'execute', 'admin'] },
            'guest': { password: 'guest123', role: 'guest', permissions: ['read'] },
            'user': { password: 'user123', role: 'user', permissions: ['read', 'write'] }
        };

        function startAAA() {
            resetAAA();
            const username = document.getElementById('aaa-username').value;
            const password = document.getElementById('aaa-password').value;

            // Step 1: Authentication
            setTimeout(() => {
                document.getElementById('aaa-step-1').classList.add('active');
                setTimeout(() => {
                    const user = users[username];
                    const result1 = document.getElementById('aaa-result-1');
                    result1.style.display = 'block';

                    if (user && user.password === password) {
                        result1.innerHTML = `<span style="color: #10b981;">‚úì Authentication SUCCESS - Identity verified for ${username}</span>`;
                        document.getElementById('aaa-step-1').classList.remove('active');
                        document.getElementById('aaa-step-1').classList.add('completed');

                        // Step 2: Authorization
                        setTimeout(() => {
                            document.getElementById('aaa-step-2').classList.add('active');
                            setTimeout(() => {
                                const result2 = document.getElementById('aaa-result-2');
                                result2.style.display = 'block';
                                result2.innerHTML = `<span style="color: #10b981;">‚úì Authorization SUCCESS - Role: ${user.role.toUpperCase()}<br>Permissions: ${user.permissions.join(', ')}</span>`;
                                document.getElementById('aaa-step-2').classList.remove('active');
                                document.getElementById('aaa-step-2').classList.add('completed');

                                // Step 3: Accounting
                                setTimeout(() => {
                                    document.getElementById('aaa-step-3').classList.add('active');
                                    setTimeout(() => {
                                        const result3 = document.getElementById('aaa-result-3');
                                        result3.style.display = 'block';
                                        const timestamp = new Date().toISOString();
                                        result3.innerHTML = `<span style="color: #10b981;">‚úì Accounting LOGGED<br>
                                        User: ${username}<br>
                                        Login Time: ${timestamp}<br>
                                        Session ID: ${Math.random().toString(36).substr(2, 9)}</span>`;
                                        document.getElementById('aaa-step-3').classList.remove('active');
                                        document.getElementById('aaa-step-3').classList.add('completed');
                                    }, 1000);
                                }, 500);
                            }, 1000);
                        }, 500);
                    } else {
                        result1.innerHTML = `<span style="color: #ef4444;">‚úó Authentication FAILED - Invalid credentials</span>`;
                    }
                }, 1500);
            }, 500);
        }

        function resetAAA() {
            document.querySelectorAll('.aaa-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            document.querySelectorAll('.aaa-result').forEach(result => {
                result.style.display = 'none';
                result.innerHTML = '';
            });
        }

        // Firewall functionality
        const firewallRules = [
            { id: 1, action: 'permit', src: '10.0.0.0/8', dst: 'any', port: 443 },
            { id: 2, action: 'permit', src: '10.0.0.0/8', dst: 'any', port: 80 },
            { id: 3, action: 'deny', src: '10.0.0.50', dst: 'any', port: 22 },
            { id: 4, action: 'permit', src: '10.0.0.0/8', dst: 'any', port: 22 },
            { id: 5, action: 'deny', src: 'any', dst: 'any', port: 'any' }
        ];

        function testFirewall() {
            const srcIP = document.getElementById('traffic-src').value;
            const dstIP = document.getElementById('traffic-dst').value;
            const port = parseInt(document.getElementById('traffic-port').value);

            let matchedRule = null;

            for (const rule of firewallRules) {
                // Check if source matches
                let srcMatch = false;
                if (rule.src === 'any') {
                    srcMatch = true;
                } else if (rule.src.includes('/')) {
                    // CIDR match
                    srcMatch = srcIP.startsWith('10.');
                } else {
                    srcMatch = srcIP === rule.src;
                }

                // Check if port matches
                const portMatch = rule.port === 'any' || rule.port === port;

                if (srcMatch && portMatch) {
                    matchedRule = rule;
                    break;
                }
            }

            // Highlight matched rule
            document.querySelectorAll('.rule-item').forEach(el => {
                el.style.background = 'rgba(255,255,255,0.05)';
            });

            const matchedElement = document.querySelector(`[data-rule="${matchedRule.id}"]`);
            if (matchedElement) {
                matchedElement.style.background = matchedRule.action === 'permit' ?
                    'rgba(16, 185, 129, 0.3)' : 'rgba(239, 68, 68, 0.3)';
            }

            const result = document.getElementById('traffic-result');
            result.className = 'traffic-result ' + matchedRule.action;
            result.innerHTML = matchedRule.action === 'permit' ?
                `<strong>‚úì PERMITTED</strong> by Rule #${matchedRule.id}<br>Traffic from ${srcIP} to ${dstIP}:${port} is allowed` :
                `<strong>‚úó DENIED</strong> by Rule #${matchedRule.id}<br>Traffic from ${srcIP} to ${dstIP}:${port} is blocked`;
        }

        // Attack visualization
        const attacks = {
            ddos: {
                name: 'DDoS Attack',
                description: 'Distributed Denial of Service attack overwhelms a target with traffic from multiple sources, making it unavailable to legitimate users.',
                types: ['Volumetric (UDP/ICMP flood)', 'Protocol (SYN flood)', 'Application (HTTP flood)'],
                steps: [
                    { icon: 'üë§', label: 'Attacker Controls Botnet', desc: 'Attacker commands thousands of compromised devices', type: 'attacker' },
                    { icon: 'üñ•Ô∏è', label: 'Bots Activate', desc: 'Bot 1, Bot 2, Bot 3... all receive attack command', type: 'attacker' },
                    { icon: 'üì®', label: 'Flood Traffic Sent', desc: 'Massive volume of requests sent to target (UDP/SYN/HTTP)', type: 'attacker' },
                    { icon: 'üñ•Ô∏è', label: 'Target Overwhelmed', desc: 'Server cannot process legitimate requests', type: 'victim' },
                    { icon: '‚ùå', label: 'Service Denied', desc: 'Real users cannot access the service', type: 'result' }
                ],
                defenses: ['DDoS mitigation services (Cloudflare, Akamai)', 'Rate limiting', 'Traffic scrubbing', 'Anycast distribution', 'SYN cookies']
            },
            mitm: {
                name: 'Man-in-the-Middle Attack',
                description: 'Attacker secretly intercepts and possibly alters communications between two parties who believe they are communicating directly.',
                types: ['ARP poisoning', 'DNS spoofing', 'SSL stripping', 'Wi-Fi eavesdropping'],
                steps: [
                    { icon: 'üíª', label: 'Alice Initiates Connection', desc: 'Alice wants to communicate with Bob', type: 'victim' },
                    { icon: 'üë§', label: 'Eve Intercepts', desc: 'Attacker positions themselves between Alice and Bob', type: 'attacker' },
                    { icon: 'üì®', label: 'Traffic Redirected', desc: 'Alice\'s messages go to Eve instead of Bob', type: 'attacker' },
                    { icon: 'üëÄ', label: 'Eve Reads/Modifies', desc: 'Attacker can read, modify, or inject messages', type: 'attacker' },
                    { icon: 'üì§', label: 'Forwarded to Bob', desc: 'Eve sends (possibly altered) messages to Bob', type: 'result' }
                ],
                defenses: ['TLS/SSL encryption', 'Certificate validation', 'DNSSEC', 'Dynamic ARP Inspection (DAI)', 'VPN for untrusted networks']
            },
            arp: {
                name: 'ARP Spoofing',
                description: 'Attacker sends fake ARP messages to associate their MAC address with the IP of a legitimate host, redirecting traffic through themselves.',
                types: ['ARP cache poisoning', 'ARP request replay'],
                steps: [
                    { icon: 'üåê', label: 'Normal Network State', desc: 'Victim knows gateway MAC: AA:BB:CC:DD:EE:FF', type: 'victim' },
                    { icon: 'üë§', label: 'Attacker Sends Fake ARP', desc: '"I am 192.168.1.1" (gateway IP) with attacker\'s MAC', type: 'attacker' },
                    { icon: 'üíª', label: 'Victim Updates Cache', desc: 'Victim now thinks gateway MAC = attacker\'s MAC', type: 'victim' },
                    { icon: 'üì®', label: 'Traffic Redirected', desc: 'All gateway-bound traffic goes to attacker', type: 'attacker' },
                    { icon: 'üëÄ', label: 'Attacker Intercepts', desc: 'Can sniff, modify, or drop packets', type: 'result' }
                ],
                defenses: ['Dynamic ARP Inspection (DAI)', 'Static ARP entries', 'Port security', 'VLAN segmentation', '802.1X authentication']
            },
            dns: {
                name: 'DNS Spoofing',
                description: 'Attacker corrupts DNS cache to redirect users to malicious sites, even when they enter correct URLs.',
                types: ['DNS cache poisoning', 'DNS hijacking', 'Rogue DNS server'],
                steps: [
                    { icon: 'üíª', label: 'User Types URL', desc: 'User enters "bank.com" in browser', type: 'victim' },
                    { icon: '‚ùì', label: 'DNS Query Sent', desc: 'Computer asks: "What is the IP for bank.com?"', type: 'victim' },
                    { icon: 'üë§', label: 'Attacker Responds First', desc: 'Fake response: "bank.com = 6.6.6.6 (evil server)"', type: 'attacker' },
                    { icon: 'üìç', label: 'Cache Poisoned', desc: 'DNS resolver caches the fake IP address', type: 'attacker' },
                    { icon: 'üé£', label: 'User Redirected', desc: 'User sent to phishing site, thinks it\'s real bank', type: 'result' }
                ],
                defenses: ['DNSSEC', 'DNS over HTTPS (DoH)', 'DNS over TLS (DoT)', 'Secure DNS servers', 'Monitor DNS traffic']
            },
            vlan: {
                name: 'VLAN Hopping',
                description: 'Attacker gains access to traffic on other VLANs that should be isolated, bypassing network segmentation.',
                types: ['Switch spoofing', 'Double tagging'],
                steps: [
                    { icon: 'üë§', label: 'Attacker on VLAN 10', desc: 'Attacker connected to access port on VLAN 10', type: 'attacker' },
                    { icon: 'üè∑Ô∏è', label: 'Double-Tagged Frame', desc: 'Creates frame with two 802.1Q tags: [VLAN 10][VLAN 20]', type: 'attacker' },
                    { icon: 'üî∂', label: 'First Switch Strips Tag', desc: 'Native VLAN tag removed, inner VLAN 20 tag remains', type: 'attacker' },
                    { icon: 'üì§', label: 'Frame Forwarded', desc: 'Second switch sees VLAN 20 tag, forwards to VLAN 20', type: 'attacker' },
                    { icon: 'üñ•Ô∏è', label: 'Access Gained', desc: 'Attacker reaches devices on isolated VLAN 20', type: 'result' }
                ],
                defenses: ['Disable DTP on access ports', 'Set native VLAN to unused VLAN', 'Explicit trunk configuration', 'Enable BPDU Guard']
            },
            deauth: {
                name: 'Deauthentication Attack',
                description: 'Attacker sends forged deauthentication frames to disconnect wireless clients from their access point.',
                types: ['Targeted deauth', 'Broadcast deauth', 'Evil twin setup'],
                steps: [
                    { icon: 'üíª', label: 'Client Connected', desc: 'Victim is connected to legitimate WiFi AP', type: 'victim' },
                    { icon: 'üë§', label: 'Attacker Observes', desc: 'Attacker captures client MAC and AP BSSID', type: 'attacker' },
                    { icon: 'üì°', label: 'Deauth Frame Sent', desc: 'Forged "disconnect" frame sent to client or AP', type: 'attacker' },
                    { icon: '‚ùå', label: 'Client Disconnected', desc: 'Victim\'s device is forced off the network', type: 'victim' },
                    { icon: 'üì∂', label: 'Evil Twin Ready', desc: 'Client may reconnect to attacker\'s fake AP', type: 'result' }
                ],
                defenses: ['WPA3 with Protected Management Frames (PMF)', '802.11w (Management Frame Protection)', 'WIDS/WIPS', 'Client isolation']
            }
        };

        function showAttack(type) {
            const attack = attacks[type];

            // Update sidebar buttons
            document.querySelectorAll('.attack-btn').forEach(el => el.classList.remove('active'));
            if (event && event.target) {
                event.target.closest('.sidebar-btn').classList.add('active');
            }

            // Build step-by-step sequence HTML
            let stepsHtml = attack.steps.map((step, i) => `
                <div class="attack-step ${step.type}">
                    <div class="step-number">${i + 1}</div>
                    <div class="step-icon">${step.icon}</div>
                    <div class="step-content">
                        <div class="step-label">${step.label}</div>
                        <div class="step-desc">${step.desc}</div>
                    </div>
                </div>
            `).join('');

            // Main content - attack info and sequence
            let html = `
                <h3 style="color: #e94560;">${attack.name}</h3>
                <p>${attack.description}</p>

                <h4 style="margin-top: 15px;">Attack Variations:</h4>
                <ul style="margin-left: 20px; color: #a5b4fc; margin-bottom: 15px;">
                    ${attack.types.map(t => `<li>${t}</li>`).join('')}
                </ul>

                <h4>Attack Sequence:</h4>
                <div class="attack-sequence">
                    ${stepsHtml}
                </div>
            `;

            document.getElementById('attack-info').innerHTML = html;

            // Defense panel - separate column on right
            let defenseHtml = `
                <h4 style="color: #10b981; margin-bottom: 15px;">üõ°Ô∏è Defenses</h4>
                ${attack.defenses.map(d => `
                    <div class="defense-item">
                        <span class="check">‚úì</span>
                        <span class="defense-text">${d}</span>
                    </div>
                `).join('')}
            `;

            document.getElementById('defense-panel').innerHTML = defenseHtml;
        }

        // VPN visualization
        function showVPN(type) {
            // Update sidebar buttons
            document.querySelectorAll('.vpn-btn').forEach(el => el.classList.remove('active'));
            if (event && event.target) {
                event.target.closest('.sidebar-btn').classList.add('active');
            }

            const vpnData = {
                ipsec: `
                    <h3 style="color: #3b82f6;">üîê IPSec VPN</h3>
                    <p>Network layer (Layer 3) encryption for secure site-to-site and remote access connections.</p>

                    <div class="vpn-flow" style="margin: 20px 0;">
                        <div class="vpn-node">üè¢ Office A<br>10.0.0.0/24</div>
                        <div class="vpn-node">üîê Router</div>
                        <div class="vpn-tunnel">üîí ESP Encrypted Tunnel üîí</div>
                        <div class="vpn-node">üîê Router</div>
                        <div class="vpn-node">üè¢ Office B<br>10.1.0.0/24</div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Key Protocols</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>ESP (Protocol 50):</strong> Encrypts + authenticates</li>
                                <li><strong>AH (Protocol 51):</strong> Auth only, no encryption</li>
                                <li><strong>IKE (UDP 500):</strong> Key exchange</li>
                                <li><strong>NAT-T (UDP 4500):</strong> NAT traversal</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Two Phases</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Phase 1 (IKE):</strong> Secure channel, exchange keys</li>
                                <li><strong>Phase 2 (IPSec):</strong> Create data tunnel with ESP/AH</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(59, 130, 246, 0.2); border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong>üìù Exam Tip:</strong> IPSec is preferred for site-to-site VPNs. Remember: ESP encrypts, AH only authenticates.
                    </div>
                `,
                ssl: `
                    <h3 style="color: #10b981;">üåê SSL/TLS VPN</h3>
                    <p>Application layer (Layer 7) encryption, firewall-friendly remote access solution.</p>

                    <div class="vpn-flow" style="margin: 20px 0;">
                        <div class="vpn-node">üíª Remote User</div>
                        <div class="vpn-node encrypted">üîê TLS Client</div>
                        <div class="vpn-tunnel">üåê Internet (Port 443) üîí</div>
                        <div class="vpn-node encrypted">üîê VPN Gateway</div>
                        <div class="vpn-node">üè¢ Corporate Network</div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Types</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Clientless:</strong> Browser-based portal access</li>
                                <li><strong>Client-based:</strong> Full tunnel with software</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Advantages</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>Uses HTTPS port 443 - firewall friendly</li>
                                <li>No special client needed (clientless)</li>
                                <li>Works through NAT easily</li>
                                <li>Easy deployment for remote workers</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(16, 185, 129, 0.2); border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong>üìù Exam Tip:</strong> SSL/TLS VPN is ideal for remote access because it uses port 443 (HTTPS), which is rarely blocked by firewalls.
                    </div>
                `,
                compare: `
                    <h3 style="color: #f59e0b;">‚öñÔ∏è IPSec vs SSL/TLS Comparison</h3>
                    <p>Choose the right VPN technology for your use case.</p>

                    <table style="width: 100%; margin-top: 20px; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(0,0,0,0.3);">
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Feature</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2); color: #3b82f6;">IPSec VPN</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2); color: #10b981;">SSL/TLS VPN</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);"><strong>OSI Layer</strong></td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Network (3)</td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Application (7)</td></tr>
                            <tr><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);"><strong>Ports</strong></td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">UDP 500, 4500</td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">TCP 443</td></tr>
                            <tr><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);"><strong>Best For</strong></td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Site-to-Site</td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Remote Access</td></tr>
                            <tr><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);"><strong>Client Software</strong></td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Required</td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">Optional (browser)</td></tr>
                            <tr><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);"><strong>Firewall Friendly</strong></td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">‚ùå Often blocked</td><td style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">‚úÖ Uses HTTPS port</td></tr>
                            <tr><td style="padding: 10px;"><strong>NAT Support</strong></td><td style="padding: 10px;">Requires NAT-T</td><td style="padding: 10px;">Native support</td></tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(245, 158, 11, 0.2); border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong>üìù Exam Tip:</strong> Site-to-site = IPSec (permanent connection between offices). Remote access = SSL/TLS (employees working from home/coffee shops).
                    </div>
                `
            };

            document.getElementById('vpn-info').innerHTML = vpnData[type];
        }

        // Auth Protocol details
        function showProtocol(type) {
            // Update sidebar buttons
            document.querySelectorAll('.protocol-btn').forEach(el => el.classList.remove('active'));
            if (event && event.target) {
                event.target.closest('.sidebar-btn').classList.add('active');
            }

            const protocolData = {
                radius: `
                    <h3 style="color: #3b82f6;">üîµ RADIUS (Remote Authentication Dial-In User Service)</h3>
                    <p>Industry-standard protocol for network access authentication.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Transport:</strong> UDP</li>
                                <li><strong>Auth Port:</strong> 1812</li>
                                <li><strong>Accounting Port:</strong> 1813</li>
                                <li><strong>Encryption:</strong> Password only</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Best For</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>VPN authentication</li>
                                <li>802.1X port security</li>
                                <li>Wireless authentication</li>
                                <li>ISP dial-up access</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(59, 130, 246, 0.2); border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong>üìù Key Point:</strong> RADIUS combines Authentication and Authorization in one response. Only encrypts password, not entire packet.
                    </div>
                `,
                tacacs: `
                    <h3 style="color: #8b5cf6;">üü£ TACACS+ (Terminal Access Controller Access-Control System Plus)</h3>
                    <p>Cisco-developed protocol providing granular AAA control.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #a78bfa; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Transport:</strong> TCP</li>
                                <li><strong>Port:</strong> 49</li>
                                <li><strong>Encryption:</strong> Full packet</li>
                                <li><strong>AAA:</strong> Separates all three</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #a78bfa; margin-bottom: 10px;">Best For</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>Network device administration</li>
                                <li>Command-level authorization</li>
                                <li>Detailed audit logging</li>
                                <li>Cisco environments</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(139, 92, 246, 0.2); border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong>üìù Key Point:</strong> TACACS+ separates AAA functions completely. Can authorize individual commands (e.g., allow "show" but block "configure").
                    </div>
                `,
                kerberos: `
                    <h3 style="color: #10b981;">üü¢ Kerberos</h3>
                    <p>Ticket-based authentication protocol, default for Windows Active Directory.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Transport:</strong> UDP/TCP</li>
                                <li><strong>Port:</strong> 88</li>
                                <li><strong>Encryption:</strong> Ticket-based</li>
                                <li><strong>Key Component:</strong> KDC</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Key Features</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>Single Sign-On (SSO)</li>
                                <li>Password never sent after login</li>
                                <li>TGT (Ticket-Granting Ticket)</li>
                                <li>Service Tickets for resources</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(16, 185, 129, 0.2); border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong>üìù Key Point:</strong> After initial authentication, Kerberos uses tickets instead of passwords. The KDC (Key Distribution Center) issues TGTs for accessing services.
                    </div>
                `,
                ldap: `
                    <h3 style="color: #f59e0b;">üü† LDAP (Lightweight Directory Access Protocol)</h3>
                    <p>Directory service protocol for accessing and managing user information.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #fbbf24; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Transport:</strong> TCP</li>
                                <li><strong>Port:</strong> 389 (unencrypted)</li>
                                <li><strong>LDAPS Port:</strong> 636 (TLS)</li>
                                <li><strong>Encryption:</strong> Optional TLS</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #fbbf24; margin-bottom: 10px;">Best For</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>User directory lookups</li>
                                <li>Group membership queries</li>
                                <li>Backend for RADIUS/Kerberos</li>
                                <li>Email address books</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(245, 158, 11, 0.2); border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong>üìù Key Point:</strong> LDAP is for directory lookups, NOT authentication itself. Always use LDAPS (port 636) in production. Active Directory uses LDAP as its query protocol.
                    </div>
                `,
                compare: `
                    <h3 style="color: #ef4444;">üìä Protocol Comparison Table</h3>
                    <p>Quick reference for Network+ exam.</p>

                    <table style="width: 100%; margin-top: 20px; border-collapse: collapse; font-size: 0.9em;">
                        <thead>
                            <tr style="background: rgba(0,0,0,0.3);">
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Protocol</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Transport</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Port(s)</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Encryption</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #3b82f6;"><strong>RADIUS</strong></td>
                                <td style="padding: 10px;">UDP</td>
                                <td style="padding: 10px;">1812, 1813</td>
                                <td style="padding: 10px;"><span style="background: rgba(245,158,11,0.3); padding: 2px 8px; border-radius: 4px; font-size: 0.85em;">Password Only</span></td>
                                <td style="padding: 10px;">VPN, 802.1X</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #8b5cf6;"><strong>TACACS+</strong></td>
                                <td style="padding: 10px;">TCP</td>
                                <td style="padding: 10px;">49</td>
                                <td style="padding: 10px;"><span style="background: rgba(16,185,129,0.3); padding: 2px 8px; border-radius: 4px; font-size: 0.85em;">Full Packet</span></td>
                                <td style="padding: 10px;">Device Admin</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #10b981;"><strong>Kerberos</strong></td>
                                <td style="padding: 10px;">UDP/TCP</td>
                                <td style="padding: 10px;">88</td>
                                <td style="padding: 10px;"><span style="background: rgba(16,185,129,0.3); padding: 2px 8px; border-radius: 4px; font-size: 0.85em;">Tickets</span></td>
                                <td style="padding: 10px;">Windows AD, SSO</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; color: #f59e0b;"><strong>LDAP</strong></td>
                                <td style="padding: 10px;">TCP</td>
                                <td style="padding: 10px;">389 / 636</td>
                                <td style="padding: 10px;"><span style="background: rgba(245,158,11,0.3); padding: 2px 8px; border-radius: 4px; font-size: 0.85em;">Optional TLS</span></td>
                                <td style="padding: 10px;">Directory Services</td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div style="padding: 10px; background: rgba(59,130,246,0.2); border-radius: 8px; border-left: 3px solid #3b82f6;">
                            <strong>RADIUS vs TACACS+:</strong> RADIUS combines auth+authz; TACACS+ separates all AAA. TACACS+ encrypts full packet.
                        </div>
                        <div style="padding: 10px; background: rgba(16,185,129,0.2); border-radius: 8px; border-left: 3px solid #10b981;">
                            <strong>Kerberos:</strong> Ticket-based SSO. Password never sent after initial auth. Default in Windows AD.
                        </div>
                    </div>
                `
            };

            document.getElementById('protocol-info').innerHTML = protocolData[type];
        }

        // Wireless security details
        function showWireless(type) {
            // Update sidebar buttons
            document.querySelectorAll('.wireless-btn').forEach(el => el.classList.remove('active'));
            if (event && event.target) {
                event.target.closest('.sidebar-btn').classList.add('active');
            }

            const wirelessData = {
                wep: `
                    <h3 style="color: #ef4444;">üì∂ WEP (Wired Equivalent Privacy)</h3>
                    <div style="display: inline-block; padding: 5px 15px; background: rgba(239,68,68,0.3); border-radius: 20px; margin-bottom: 15px;">
                        <span style="color: #ef4444;">‚õî BROKEN - Never Use</span>
                    </div>
                    <p>Released in 1999, WEP was the original wireless security standard but has severe cryptographic flaws.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #f87171; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Year:</strong> 1999</li>
                                <li><strong>Encryption:</strong> RC4 stream cipher</li>
                                <li><strong>Key Length:</strong> 40 or 104 bits</li>
                                <li><strong>IV Size:</strong> 24 bits (too short!)</li>
                            </ul>
                        </div>
                        <div style="background: rgba(239,68,68,0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #f87171; margin-bottom: 10px;">‚ö†Ô∏è Vulnerabilities</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>24-bit IV causes key reuse</li>
                                <li>Crackable in minutes</li>
                                <li>Tools: aircrack-ng</li>
                                <li>No protection against replay</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(239,68,68,0.2); border-radius: 8px; border-left: 3px solid #ef4444;">
                        <strong>üìù Exam Tip:</strong> WEP is completely compromised. If you see it on an exam as a "correct" security choice, it's a trap answer!
                    </div>
                `,
                wpa: `
                    <h3 style="color: #f59e0b;">üì∂ WPA (Wi-Fi Protected Access)</h3>
                    <div style="display: inline-block; padding: 5px 15px; background: rgba(245,158,11,0.3); border-radius: 20px; margin-bottom: 15px;">
                        <span style="color: #f59e0b;">‚ö†Ô∏è DEPRECATED - Avoid</span>
                    </div>
                    <p>Released in 2003 as a stopgap measure while WPA2 was being developed. Improved on WEP but still uses RC4.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #fbbf24; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Year:</strong> 2003</li>
                                <li><strong>Encryption:</strong> TKIP (RC4 improved)</li>
                                <li><strong>Key Length:</strong> 128 bits</li>
                                <li><strong>Key Mixing:</strong> Per-packet</li>
                            </ul>
                        </div>
                        <div style="background: rgba(245,158,11,0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #fbbf24; margin-bottom: 10px;">Improvements over WEP</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li>Per-packet key mixing</li>
                                <li>Message Integrity Check (MIC)</li>
                                <li>Larger IV (48-bit)</li>
                                <li>Replay protection</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(245,158,11,0.2); border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong>üìù Exam Tip:</strong> WPA was designed to run on WEP hardware (firmware upgrade). It still uses RC4, making it deprecated. Use WPA2 or WPA3 instead.
                    </div>
                `,
                wpa2: `
                    <h3 style="color: #10b981;">üì∂ WPA2</h3>
                    <div style="display: inline-block; padding: 5px 15px; background: rgba(16,185,129,0.3); border-radius: 20px; margin-bottom: 15px;">
                        <span style="color: #10b981;">‚úÖ CURRENT STANDARD</span>
                    </div>
                    <p>Released in 2004, WPA2 is the current industry standard using AES encryption.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Year:</strong> 2004</li>
                                <li><strong>Encryption:</strong> AES-CCMP</li>
                                <li><strong>Key Length:</strong> 128 bits</li>
                                <li><strong>Standard:</strong> IEEE 802.11i</li>
                            </ul>
                        </div>
                        <div style="background: rgba(16,185,129,0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #34d399; margin-bottom: 10px;">Modes</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Personal:</strong> PSK (Pre-Shared Key)</li>
                                <li><strong>Enterprise:</strong> 802.1X + RADIUS</li>
                                <li>KRACK attack patched (2017)</li>
                                <li>Use 12+ character passwords!</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(16,185,129,0.2); border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong>üìù Exam Tip:</strong> WPA2-Enterprise is more secure than WPA2-Personal because each user has unique credentials via 802.1X. Weak PSKs are vulnerable to offline dictionary attacks.
                    </div>
                `,
                wpa3: `
                    <h3 style="color: #3b82f6;">üì∂ WPA3</h3>
                    <div style="display: inline-block; padding: 5px 15px; background: rgba(59,130,246,0.3); border-radius: 20px; margin-bottom: 15px;">
                        <span style="color: #3b82f6;">üèÜ BEST AVAILABLE</span>
                    </div>
                    <p>Released in 2018, WPA3 provides the strongest wireless security with forward secrecy.</p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Technical Details</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>Year:</strong> 2018</li>
                                <li><strong>Encryption:</strong> AES-GCMP 256</li>
                                <li><strong>Key Length:</strong> 192/256 bits</li>
                                <li><strong>Key Exchange:</strong> SAE (Dragonfly)</li>
                            </ul>
                        </div>
                        <div style="background: rgba(59,130,246,0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #60a5fa; margin-bottom: 10px;">Key Features</h4>
                            <ul style="margin-left: 15px; color: #e2e8f0; font-size: 0.9em;">
                                <li><strong>SAE:</strong> Prevents offline attacks</li>
                                <li><strong>Forward Secrecy:</strong> Past sessions protected</li>
                                <li><strong>PMF:</strong> Management frame protection</li>
                                <li><strong>192-bit:</strong> Enterprise mode available</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(59,130,246,0.2); border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong>üìù Exam Tip:</strong> WPA3's SAE (Simultaneous Authentication of Equals) prevents offline dictionary attacks that plague WPA2-PSK. Forward secrecy means compromised keys can't decrypt past traffic.
                    </div>
                `,
                compare: `
                    <h3 style="color: #8b5cf6;">üìä Wireless Security Comparison</h3>
                    <p>Evolution from WEP to WPA3 - security improvements at a glance.</p>

                    <table style="width: 100%; margin-top: 20px; border-collapse: collapse; font-size: 0.85em;">
                        <thead>
                            <tr style="background: rgba(0,0,0,0.3);">
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Standard</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Year</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Encryption</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 2px solid rgba(255,255,255,0.2);">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #ef4444;"><strong>WEP</strong></td>
                                <td style="padding: 10px;">1999</td>
                                <td style="padding: 10px;">RC4 (40/104-bit)</td>
                                <td style="padding: 10px;"><span style="background: rgba(239,68,68,0.3); padding: 2px 8px; border-radius: 4px;">‚õî Broken</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #f59e0b;"><strong>WPA</strong></td>
                                <td style="padding: 10px;">2003</td>
                                <td style="padding: 10px;">TKIP (RC4)</td>
                                <td style="padding: 10px;"><span style="background: rgba(245,158,11,0.3); padding: 2px 8px; border-radius: 4px;">‚ö†Ô∏è Deprecated</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px; color: #10b981;"><strong>WPA2</strong></td>
                                <td style="padding: 10px;">2004</td>
                                <td style="padding: 10px;">AES-CCMP</td>
                                <td style="padding: 10px;"><span style="background: rgba(16,185,129,0.3); padding: 2px 8px; border-radius: 4px;">‚úÖ Current</span></td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; color: #3b82f6;"><strong>WPA3</strong></td>
                                <td style="padding: 10px;">2018</td>
                                <td style="padding: 10px;">AES-GCMP 256</td>
                                <td style="padding: 10px;"><span style="background: rgba(59,130,246,0.3); padding: 2px 8px; border-radius: 4px;">üèÜ Best</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div style="padding: 10px; background: rgba(239,68,68,0.2); border-radius: 8px; border-left: 3px solid #ef4444;">
                            <strong>WEP ‚Üí WPA:</strong> Temporary fix. Added per-packet key mixing and MIC, but still used RC4.
                        </div>
                        <div style="padding: 10px; background: rgba(16,185,129,0.2); border-radius: 8px; border-left: 3px solid #10b981;">
                            <strong>WPA ‚Üí WPA2:</strong> Complete redesign with AES encryption (no more RC4).
                        </div>
                        <div style="padding: 10px; background: rgba(59,130,246,0.2); border-radius: 8px; border-left: 3px solid #3b82f6; grid-column: span 2;">
                            <strong>WPA2 ‚Üí WPA3:</strong> SAE key exchange prevents offline attacks. Forward secrecy. Protected management frames.
                        </div>
                    </div>
                `
            };

            document.getElementById('wireless-info').innerHTML = wirelessData[type];
        }

        // Quiz functionality
        const quizQuestions = [
            {
                question: "Which element of the CIA triad is compromised when an attacker modifies data in transit?",
                options: ["Confidentiality", "Integrity", "Availability", "Authentication"],
                correct: 1,
                explanation: "Integrity ensures data hasn't been altered. When data is modified in transit, integrity is compromised."
            },
            {
                question: "Which AAA protocol provides command-level authorization for network device administration?",
                options: ["RADIUS", "TACACS+", "Kerberos", "LDAP"],
                correct: 1,
                explanation: "TACACS+ separates authentication, authorization, and accounting, allowing granular command-level authorization. RADIUS combines authentication and authorization."
            },
            {
                question: "What port does LDAPS use for encrypted directory queries?",
                options: ["389", "636", "88", "49"],
                correct: 1,
                explanation: "LDAPS uses port 636 for TLS-encrypted LDAP communication. Standard LDAP uses port 389."
            },
            {
                question: "Which type of firewall tracks the state of network connections?",
                options: ["Packet filtering", "Stateful inspection", "Application proxy", "Circuit-level gateway"],
                correct: 1,
                explanation: "Stateful inspection firewalls track the state of active connections and make decisions based on the context of the traffic."
            },
            {
                question: "What is the main difference between IDS and IPS?",
                options: ["IDS uses signatures, IPS uses anomaly detection", "IDS is hardware, IPS is software", "IDS detects only, IPS can block", "IDS works at L3, IPS works at L7"],
                correct: 2,
                explanation: "IDS (Intrusion Detection System) only detects and alerts. IPS (Intrusion Prevention System) is inline and can actively block threats."
            },
            {
                question: "Which wireless security protocol uses SAE (Simultaneous Authentication of Equals)?",
                options: ["WEP", "WPA", "WPA2", "WPA3"],
                correct: 3,
                explanation: "WPA3 introduced SAE (Dragonfly key exchange) which prevents offline dictionary attacks possible against WPA2-PSK."
            },
            {
                question: "Which VPN protocol operates at the network layer and is commonly used for site-to-site connections?",
                options: ["SSL/TLS VPN", "IPSec", "PPTP", "L2TP only"],
                correct: 1,
                explanation: "IPSec operates at Layer 3 (network layer) and is the standard choice for site-to-site VPN tunnels between offices."
            },
            {
                question: "What type of DDoS attack exploits the TCP three-way handshake?",
                options: ["UDP flood", "SYN flood", "HTTP flood", "DNS amplification"],
                correct: 1,
                explanation: "SYN flood sends many TCP SYN packets without completing the handshake, exhausting server resources waiting for connections to complete."
            },
            {
                question: "Which defense mechanism prevents ARP spoofing attacks?",
                options: ["DNSSEC", "Dynamic ARP Inspection (DAI)", "Port security", "802.1X"],
                correct: 1,
                explanation: "Dynamic ARP Inspection (DAI) validates ARP packets against the DHCP snooping binding table, preventing ARP spoofing."
            },
            {
                question: "In Kerberos, what does the KDC provide to a user after initial authentication?",
                options: ["Service Ticket", "Ticket Granting Ticket (TGT)", "Session Key", "Digital Certificate"],
                correct: 1,
                explanation: "After initial authentication, the KDC issues a Ticket Granting Ticket (TGT) which the user then uses to request Service Tickets for specific resources."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;

        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            answered = false;
            renderQuestion();
        }

        function renderQuestion() {
            if (currentQuestion >= quizQuestions.length) {
                showResults();
                return;
            }

            const q = quizQuestions[currentQuestion];

            // Render progress dots
            let progressHTML = '';
            for (let i = 0; i < quizQuestions.length; i++) {
                progressHTML += `<div class="quiz-dot ${i === currentQuestion ? 'current' : ''}"></div>`;
            }
            document.getElementById('quiz-progress').innerHTML = progressHTML;

            // Update score display in sidebar
            const scoreDisplay = document.getElementById('quiz-score-display');
            if (scoreDisplay) {
                scoreDisplay.innerHTML = `Score: ${score}/${currentQuestion} correct`;
            }

            document.getElementById('quiz-question').innerHTML = `<strong>Question ${currentQuestion + 1}/${quizQuestions.length}:</strong> ${q.question}`;

            let optionsHTML = '';
            q.options.forEach((opt, idx) => {
                optionsHTML += `<div class="quiz-option" onclick="selectAnswer(${idx})">${opt}</div>`;
            });
            document.getElementById('quiz-options').innerHTML = optionsHTML;

            document.getElementById('quiz-feedback').className = 'quiz-feedback';
            document.getElementById('quiz-feedback').innerHTML = '';
            document.getElementById('quiz-next').style.display = 'none';
            answered = false;
        }

        function selectAnswer(idx) {
            if (answered) return;
            answered = true;

            const q = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');

            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === idx && idx !== q.correct) {
                    opt.classList.add('incorrect');
                }
            });

            const feedback = document.getElementById('quiz-feedback');
            if (idx === q.correct) {
                score++;
                feedback.className = 'quiz-feedback show correct';
                feedback.innerHTML = `<strong>‚úì Correct!</strong><br>${q.explanation}`;
            } else {
                feedback.className = 'quiz-feedback show incorrect';
                feedback.innerHTML = `<strong>‚úó Incorrect.</strong> The correct answer is: ${q.options[q.correct]}<br>${q.explanation}`;
            }

            document.getElementById('quiz-next').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestion++;
            renderQuestion();
        }

        function showResults() {
            const percentage = Math.round((score / quizQuestions.length) * 100);
            let message = '';
            let emoji = '';
            if (percentage >= 90) { message = 'Excellent! You\'re ready for the exam!'; emoji = 'üèÜ'; }
            else if (percentage >= 70) { message = 'Good job! Review the topics you missed.'; emoji = 'üëç'; }
            else if (percentage >= 50) { message = 'Keep studying! Focus on the fundamentals.'; emoji = 'üìö'; }
            else { message = 'More practice needed. Review all security concepts.'; emoji = 'üí™'; }

            // Update sidebar score display
            const scoreDisplay = document.getElementById('quiz-score-display');
            if (scoreDisplay) {
                scoreDisplay.innerHTML = `<strong style="color: ${percentage >= 70 ? '#10b981' : '#ef4444'};">Final: ${score}/${quizQuestions.length}</strong>`;
            }

            // Color the progress dots
            let progressHTML = '';
            for (let i = 0; i < quizQuestions.length; i++) {
                progressHTML += `<div class="quiz-dot ${i < score ? 'correct' : 'incorrect'}"></div>`;
            }
            document.getElementById('quiz-progress').innerHTML = progressHTML;

            document.getElementById('quiz-question').innerHTML = '';
            document.getElementById('quiz-options').innerHTML = `
                <div class="quiz-score" style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 4em; margin-bottom: 15px;">${emoji}</div>
                    <div class="score-value">${score}/${quizQuestions.length}</div>
                    <p style="font-size: 1.5em; margin: 10px 0; color: ${percentage >= 70 ? '#10b981' : percentage >= 50 ? '#f59e0b' : '#ef4444'};">${percentage}%</p>
                    <p style="margin-top: 15px; color: #a5b4fc;">${message}</p>
                    <p style="margin-top: 20px; font-size: 0.9em; color: #64748b;">Click "Restart Quiz" in the sidebar to try again</p>
                </div>
            `;
            document.getElementById('quiz-feedback').className = 'quiz-feedback';
            document.getElementById('quiz-next').style.display = 'none';
        }

        // Initialize
        showCIA('confidentiality');
    </script>
</body>
</html>
