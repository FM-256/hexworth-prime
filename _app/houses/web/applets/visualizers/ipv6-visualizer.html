<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPv6 Visualizer - Interactive Learning Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 1.5em;
            color: #fff;
        }

        .header h1 span {
            color: #10b981;
        }

        .back-btn {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid #10b981;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: #10b981;
            color: #fff;
        }

        /* Tabs */
        .tab-container {
            display: flex;
            background: rgba(0, 0, 0, 0.2);
            padding: 0 20px;
            overflow-x: auto;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            color: #888;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
            white-space: nowrap;
        }

        .tab:hover {
            color: #bbb;
            background: rgba(255, 255, 255, 0.05);
        }

        .tab.active {
            color: #10b981;
            border-bottom-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        /* Main Content */
        .main-content {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card h2 {
            color: #10b981;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card h3 {
            color: #60a5fa;
            margin: 20px 0 10px;
            font-size: 1.1em;
        }

        .card p {
            line-height: 1.7;
            margin-bottom: 15px;
        }

        /* Grid layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* Highlight boxes */
        .highlight {
            color: #10b981;
            font-weight: 600;
        }

        .info-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid #f59e0b;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .danger-box {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: none;
            transform: none;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            font-weight: 600;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Code blocks */
        code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Fira Code', 'Consolas', monospace;
            color: #10b981;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Fira Code', 'Consolas', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }

        .code-block .comment {
            color: #6b7280;
        }

        .code-block .command {
            color: #10b981;
        }

        .code-block .output {
            color: #60a5fa;
        }

        /* IPv6 Address Display */
        .ipv6-address {
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 1.3em;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
            letter-spacing: 1px;
        }

        .ipv6-address .group {
            color: #10b981;
        }

        .ipv6-address .separator {
            color: #6b7280;
        }

        .ipv6-address .prefix {
            color: #f59e0b;
        }

        .ipv6-address .interface {
            color: #60a5fa;
        }

        /* Interactive Demo Area */
        .demo-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .demo-area h3 {
            color: #f59e0b;
            margin-bottom: 15px;
        }

        /* Input fields */
        input[type="text"], select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px 15px;
            border-radius: 8px;
            color: #fff;
            font-size: 1em;
            width: 100%;
            margin: 5px 0;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }

        /* Address Type Cards */
        .address-type-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .address-type-card:hover {
            border-color: #10b981;
            transform: translateY(-3px);
        }

        .address-type-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .address-type-card h4 {
            color: #10b981;
            margin-bottom: 10px;
        }

        .address-type-card .prefix {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 4px 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
            display: inline-block;
            margin: 5px 0;
        }

        /* Comparison Chart */
        .comparison-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 10px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .comparison-row .feature {
            color: #f59e0b;
            font-weight: 600;
        }

        .comparison-row .ipv4 {
            color: #ef4444;
        }

        .comparison-row .ipv6 {
            color: #10b981;
        }

        /* Quiz styles */
        .quiz-question {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
        }

        .quiz-question h4 {
            color: #f59e0b;
            margin-bottom: 15px;
        }

        .quiz-option {
            display: block;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 15px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .quiz-option.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: #10b981;
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
        }

        .quiz-feedback {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        /* Animation for demo */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Network diagram */
        .network-diagram {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
        }

        .network-node {
            display: inline-block;
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 15px 25px;
            margin: 10px;
            transition: all 0.3s;
        }

        .network-node:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
        }

        .network-node .label {
            font-weight: 600;
            color: #10b981;
        }

        .network-node .address {
            font-family: monospace;
            font-size: 0.85em;
            color: #60a5fa;
            margin-top: 5px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            .comparison-row {
                grid-template-columns: 1fr;
            }

            .tab {
                padding: 12px 15px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1><span>IPv6</span> Visualizer - Next Generation IP</h1>
        <a href="../../index.html" class="back-btn">‚Üê Back to Catalog</a>
    </div>

    <!-- Tab Navigation -->
    <div class="tab-container">
        <div class="tab active" data-tab="why">Why IPv6?</div>
        <div class="tab" data-tab="format">Address Format</div>
        <div class="tab" data-tab="types">Address Types</div>
        <div class="tab" data-tab="config">Configuration</div>
        <div class="tab" data-tab="quiz">Practice Quiz</div>
    </div>

    <!-- Main Content -->
    <div class="main-content">

        <!-- ==================== TAB 1: Why IPv6? ==================== -->
        <div class="tab-content active" id="tab-why">
            <div class="card">
                <h2>üåç The IPv4 Exhaustion Crisis</h2>
                <p>IPv4 was created in 1981 with <span class="highlight">4.3 billion addresses</span> (2^32). At the time, this seemed like plenty. But with smartphones, IoT devices, and global internet expansion, we've run out!</p>

                <div class="grid-2">
                    <div class="demo-area">
                        <h3>üìä IPv4 Exhaustion Timeline</h3>
                        <table>
                            <tr><th>Date</th><th>Event</th></tr>
                            <tr><td>Feb 2011</td><td>IANA pool exhausted</td></tr>
                            <tr><td>Apr 2011</td><td>APNIC (Asia-Pacific) exhausted</td></tr>
                            <tr><td>Sep 2012</td><td>RIPE (Europe) exhausted</td></tr>
                            <tr><td>Jun 2014</td><td>LACNIC (Latin America) exhausted</td></tr>
                            <tr><td>Sep 2015</td><td>ARIN (North America) exhausted</td></tr>
                            <tr><td>Apr 2017</td><td>AFRINIC (Africa) began rationing</td></tr>
                        </table>
                    </div>

                    <div class="demo-area">
                        <h3>üî¢ The Numbers Problem</h3>
                        <div class="ipv6-address">
                            IPv4: <span class="prefix">4,294,967,296</span> addresses
                        </div>
                        <div class="ipv6-address">
                            IPv6: <span class="interface">340,282,366,920,938,463,463,374,607,431,768,211,456</span>
                        </div>
                        <p style="text-align: center; margin-top: 15px;">That's <span class="highlight">340 undecillion</span> addresses - enough to give every atom on Earth its own IP!</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>‚ú® IPv6 Benefits Beyond Address Space</h2>
                <div class="grid-3">
                    <div class="address-type-card">
                        <div class="icon">üöÄ</div>
                        <h4>Simplified Header</h4>
                        <p>IPv6 header is fixed at 40 bytes with fewer fields, making routing faster and more efficient.</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üîí</div>
                        <h4>Built-in Security</h4>
                        <p>IPsec was mandatory in the original spec. End-to-end encryption is native to IPv6.</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üîÑ</div>
                        <h4>No More NAT</h4>
                        <p>Every device gets a global address. True end-to-end connectivity restored!</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">‚ö°</div>
                        <h4>Auto-Configuration</h4>
                        <p>SLAAC lets devices configure themselves without DHCP servers.</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üì°</div>
                        <h4>Better Multicast</h4>
                        <p>No broadcast in IPv6 - more efficient multicast replaces it.</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üì±</div>
                        <h4>Mobile Support</h4>
                        <p>Mobile IPv6 is more efficient than Mobile IPv4 for roaming devices.</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üìä IPv4 vs IPv6 Comparison</h2>
                <div class="comparison-row" style="font-weight: bold; background: rgba(16, 185, 129, 0.1);">
                    <div class="feature">Feature</div>
                    <div class="ipv4">IPv4</div>
                    <div class="ipv6">IPv6</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Address Size</div>
                    <div class="ipv4">32 bits (4 bytes)</div>
                    <div class="ipv6">128 bits (16 bytes)</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Address Format</div>
                    <div class="ipv4">Dotted decimal (192.168.1.1)</div>
                    <div class="ipv6">Hexadecimal colons (2001:db8::1)</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Total Addresses</div>
                    <div class="ipv4">~4.3 billion</div>
                    <div class="ipv6">~340 undecillion</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Header Size</div>
                    <div class="ipv4">20-60 bytes (variable)</div>
                    <div class="ipv6">40 bytes (fixed)</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Broadcast</div>
                    <div class="ipv4">Yes</div>
                    <div class="ipv6">No (multicast instead)</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">IPsec</div>
                    <div class="ipv4">Optional</div>
                    <div class="ipv6">Built-in</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Fragmentation</div>
                    <div class="ipv4">Routers and hosts</div>
                    <div class="ipv6">Source host only</div>
                </div>
                <div class="comparison-row">
                    <div class="feature">Checksum</div>
                    <div class="ipv4">In header</div>
                    <div class="ipv6">Removed (handled by other layers)</div>
                </div>
            </div>
        </div>

        <!-- ==================== TAB 2: Address Format ==================== -->
        <div class="tab-content" id="tab-format">
            <div class="card">
                <h2>üìù IPv6 Address Structure</h2>
                <p>IPv6 addresses are <span class="highlight">128 bits</span> long, written as <span class="highlight">8 groups of 4 hexadecimal digits</span>, separated by colons.</p>

                <div class="demo-area">
                    <h3>üîç Full IPv6 Address Example</h3>
                    <div class="ipv6-address">
                        <span class="group">2001</span><span class="separator">:</span><span class="group">0db8</span><span class="separator">:</span><span class="group">85a3</span><span class="separator">:</span><span class="group">0000</span><span class="separator">:</span><span class="group">0000</span><span class="separator">:</span><span class="group">8a2e</span><span class="separator">:</span><span class="group">0370</span><span class="separator">:</span><span class="group">7334</span>
                    </div>
                    <div style="display: flex; justify-content: space-around; margin-top: 15px; flex-wrap: wrap;">
                        <span>Group 1</span>
                        <span>Group 2</span>
                        <span>Group 3</span>
                        <span>Group 4</span>
                        <span>Group 5</span>
                        <span>Group 6</span>
                        <span>Group 7</span>
                        <span>Group 8</span>
                    </div>
                </div>

                <div class="info-box">
                    <strong>Key Facts:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Each group = 16 bits = 4 hex digits</li>
                        <li>8 groups √ó 16 bits = 128 bits total</li>
                        <li>Hexadecimal: 0-9 and a-f (case insensitive)</li>
                        <li>Leading zeros can be omitted in each group</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2>‚úÇÔ∏è Address Compression Rules</h2>
                <p>IPv6 addresses can be shortened using two simple rules:</p>

                <div class="grid-2">
                    <div class="demo-area">
                        <h3>Rule 1: Remove Leading Zeros</h3>
                        <p>You can remove leading zeros from any group:</p>
                        <div class="code-block">
                            <span class="comment">Before:</span> 2001:<span style="color: #ef4444;">0</span>db8:<span style="color: #ef4444;">00</span>a3:<span style="color: #ef4444;">000</span>0:<span style="color: #ef4444;">000</span>0:8a2e:<span style="color: #ef4444;">0</span>370:7334<br>
                            <span class="comment">After:</span>  2001:db8:a3:0:0:8a2e:370:7334
                        </div>
                        <div class="warning-box">
                            <strong>Important:</strong> You must keep at least one digit per group! <code>0000</code> becomes <code>0</code>, not empty.
                        </div>
                    </div>

                    <div class="demo-area">
                        <h3>Rule 2: The Double Colon (::)</h3>
                        <p>Replace ONE sequence of consecutive all-zero groups with <code>::</code></p>
                        <div class="code-block">
                            <span class="comment">Before:</span> 2001:db8:a3:<span style="color: #ef4444;">0:0</span>:8a2e:370:7334<br>
                            <span class="comment">After:</span>  2001:db8:a3<span style="color: #10b981;">::</span>8a2e:370:7334
                        </div>
                        <div class="danger-box">
                            <strong>Rule:</strong> You can only use <code>::</code> ONCE in an address! Using it twice would make the address ambiguous.
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üéØ Interactive Compression Practice</h2>
                <div class="demo-area">
                    <h3>Try It Yourself!</h3>
                    <p>Enter a full IPv6 address to see it compressed:</p>
                    <input type="text" id="ipv6-input" placeholder="e.g., 2001:0db8:0000:0000:0000:0000:0000:0001" style="font-family: monospace; font-size: 1.1em;">
                    <button class="btn" onclick="compressIPv6()">Compress Address</button>
                    <button class="btn btn-secondary" onclick="loadExample()">Load Example</button>

                    <div id="compression-result" style="margin-top: 20px;"></div>
                </div>

                <div class="demo-area">
                    <h3>üìö Common Examples</h3>
                    <table>
                        <tr><th>Full Address</th><th>Compressed</th><th>Description</th></tr>
                        <tr>
                            <td><code>2001:0db8:0000:0000:0000:0000:0000:0001</code></td>
                            <td><code>2001:db8::1</code></td>
                            <td>Documentation prefix</td>
                        </tr>
                        <tr>
                            <td><code>0000:0000:0000:0000:0000:0000:0000:0001</code></td>
                            <td><code>::1</code></td>
                            <td>Loopback address</td>
                        </tr>
                        <tr>
                            <td><code>0000:0000:0000:0000:0000:0000:0000:0000</code></td>
                            <td><code>::</code></td>
                            <td>Unspecified address</td>
                        </tr>
                        <tr>
                            <td><code>fe80:0000:0000:0000:0211:22ff:fe33:4455</code></td>
                            <td><code>fe80::211:22ff:fe33:4455</code></td>
                            <td>Link-local address</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="card">
                <h2>üìä IPv6 Address Prefix Notation</h2>
                <p>Like IPv4's CIDR notation, IPv6 uses <code>/prefix-length</code> to indicate the network portion:</p>

                <div class="ipv6-address">
                    <span class="prefix">2001:db8:acad:1</span><span class="separator">::</span><span class="interface">1</span><span class="separator">/</span><span class="highlight">64</span>
                </div>

                <div class="grid-2">
                    <div>
                        <h3>Network Prefix (First 64 bits)</h3>
                        <div class="info-box">
                            <code style="color: #f59e0b;">2001:db8:acad:1</code><br><br>
                            This identifies the network segment. Routers use this for forwarding decisions.
                        </div>
                    </div>
                    <div>
                        <h3>Interface ID (Last 64 bits)</h3>
                        <div class="info-box">
                            <code style="color: #60a5fa;">::1</code><br><br>
                            This identifies the specific host on the network. Often derived from MAC address (EUI-64).
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Standard Practice:</strong> Most IPv6 networks use a <code>/64</code> prefix, giving each subnet 2^64 possible host addresses (18 quintillion hosts per subnet!)
                </div>
            </div>
        </div>

        <!-- ==================== TAB 3: Address Types ==================== -->
        <div class="tab-content" id="tab-types">
            <div class="card">
                <h2>üè∑Ô∏è IPv6 Address Types</h2>
                <p>IPv6 has three main types of addresses: <span class="highlight">Unicast</span>, <span class="highlight">Multicast</span>, and <span class="highlight">Anycast</span>. No more broadcast!</p>
            </div>

            <div class="card">
                <h2>üìç Unicast Addresses</h2>
                <p>Identifies a single interface. A packet sent to a unicast address goes to one specific device.</p>

                <div class="grid-2">
                    <div class="address-type-card">
                        <div class="icon">üåê</div>
                        <h4>Global Unicast Address (GUA)</h4>
                        <div class="prefix">2000::/3</div>
                        <p>The IPv6 equivalent of public IPv4 addresses. Routable on the internet.</p>
                        <div class="code-block">
                            <span class="comment">Example:</span><br>
                            <span class="command">2001:db8:acad:1::100</span>
                        </div>
                        <p style="font-size: 0.9em;">Currently assigned: <code>2000::</code> to <code>3fff::</code></p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üîó</div>
                        <h4>Link-Local Address (LLA)</h4>
                        <div class="prefix">fe80::/10</div>
                        <p>Automatically assigned to every IPv6 interface. Only valid on the local link (not routable).</p>
                        <div class="code-block">
                            <span class="comment">Example:</span><br>
                            <span class="command">fe80::1</span>
                        </div>
                        <p style="font-size: 0.9em;">Required for neighbor discovery and routing protocols.</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üè†</div>
                        <h4>Unique Local Address (ULA)</h4>
                        <div class="prefix">fc00::/7</div>
                        <p>Similar to IPv4 private addresses (10.x, 192.168.x). Not routable on internet.</p>
                        <div class="code-block">
                            <span class="comment">Example:</span><br>
                            <span class="command">fd00:1234:5678::1</span>
                        </div>
                        <p style="font-size: 0.9em;">Practical range: <code>fd00::/8</code> (locally assigned)</p>
                    </div>

                    <div class="address-type-card">
                        <div class="icon">üîÑ</div>
                        <h4>Loopback Address</h4>
                        <div class="prefix">::1/128</div>
                        <p>Same as IPv4's 127.0.0.1 - used to test local TCP/IP stack.</p>
                        <div class="code-block">
                            <span class="comment">Ping yourself:</span><br>
                            <span class="command">ping ::1</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üì° Multicast Addresses</h2>
                <p>Identifies a group of interfaces. A packet sent to a multicast address is delivered to all members of the group.</p>

                <div class="address-type-card" style="margin-bottom: 20px;">
                    <div class="icon">üì¢</div>
                    <h4>All Multicast Addresses</h4>
                    <div class="prefix">ff00::/8</div>
                </div>

                <table>
                    <tr><th>Address</th><th>Scope</th><th>Description</th></tr>
                    <tr>
                        <td><code>ff02::1</code></td>
                        <td>Link-local</td>
                        <td>All nodes on the local link (replaces IPv4 broadcast)</td>
                    </tr>
                    <tr>
                        <td><code>ff02::2</code></td>
                        <td>Link-local</td>
                        <td>All routers on the local link</td>
                    </tr>
                    <tr>
                        <td><code>ff02::5</code></td>
                        <td>Link-local</td>
                        <td>All OSPF routers</td>
                    </tr>
                    <tr>
                        <td><code>ff02::6</code></td>
                        <td>Link-local</td>
                        <td>All OSPF DR routers</td>
                    </tr>
                    <tr>
                        <td><code>ff02::9</code></td>
                        <td>Link-local</td>
                        <td>All RIP routers</td>
                    </tr>
                    <tr>
                        <td><code>ff02::a</code></td>
                        <td>Link-local</td>
                        <td>All EIGRP routers</td>
                    </tr>
                    <tr>
                        <td><code>ff02::1:ffxx:xxxx</code></td>
                        <td>Link-local</td>
                        <td>Solicited-node multicast (for neighbor discovery)</td>
                    </tr>
                </table>

                <div class="info-box">
                    <strong>Multicast Scopes (second hex digit):</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>ff01::</code> - Interface-local (loopback)</li>
                        <li><code>ff02::</code> - Link-local (same subnet)</li>
                        <li><code>ff05::</code> - Site-local (organization)</li>
                        <li><code>ff0e::</code> - Global (internet-wide)</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2>üéØ Anycast Addresses</h2>
                <p>Assigned to multiple interfaces (usually on different nodes). A packet sent to an anycast address is delivered to the <span class="highlight">nearest</span> interface with that address.</p>

                <div class="grid-2">
                    <div class="demo-area">
                        <h3>How Anycast Works</h3>
                        <div class="network-diagram">
                            <div style="margin-bottom: 20px;">
                                <div class="network-node">
                                    <div class="label">Client</div>
                                    <div class="address">Sends to 2001:db8::1</div>
                                </div>
                            </div>
                            <div style="font-size: 2em; margin: 10px;">‚Üì</div>
                            <div>
                                <div class="network-node" style="background: rgba(16, 185, 129, 0.4);">
                                    <div class="label">Server A (Nearest)</div>
                                    <div class="address">2001:db8::1 ‚úì</div>
                                </div>
                                <div class="network-node">
                                    <div class="label">Server B</div>
                                    <div class="address">2001:db8::1</div>
                                </div>
                                <div class="network-node">
                                    <div class="label">Server C</div>
                                    <div class="address">2001:db8::1</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-area">
                        <h3>Anycast Use Cases</h3>
                        <ul style="line-height: 2;">
                            <li>üåç <strong>DNS Root Servers</strong> - Same IP, multiple locations worldwide</li>
                            <li>‚ö° <strong>CDN Edge Servers</strong> - Route users to nearest cache</li>
                            <li>üîí <strong>DDoS Mitigation</strong> - Distribute attack traffic</li>
                            <li>üì° <strong>Load Balancing</strong> - Geographic distribution</li>
                        </ul>

                        <div class="info-box">
                            <strong>Technical Note:</strong> Anycast addresses look exactly like unicast addresses. The difference is in how they're configured on multiple devices.
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üìã Quick Reference: Address Type Identification</h2>
                <table>
                    <tr><th>First Hex Digits</th><th>Address Type</th><th>Notes</th></tr>
                    <tr><td><code>2xxx</code> or <code>3xxx</code></td><td>Global Unicast</td><td>Internet routable</td></tr>
                    <tr><td><code>fe80</code></td><td>Link-Local</td><td>Auto-configured, not routable</td></tr>
                    <tr><td><code>fc00</code> or <code>fd00</code></td><td>Unique Local</td><td>Private addresses</td></tr>
                    <tr><td><code>ff00</code></td><td>Multicast</td><td>One-to-many</td></tr>
                    <tr><td><code>::1</code></td><td>Loopback</td><td>Local host only</td></tr>
                    <tr><td><code>::</code></td><td>Unspecified</td><td>No address assigned</td></tr>
                </table>
            </div>
        </div>

        <!-- ==================== TAB 4: Configuration ==================== -->
        <div class="tab-content" id="tab-config">
            <div class="card">
                <h2>‚öôÔ∏è IPv6 Address Configuration Methods</h2>
                <p>IPv6 offers multiple ways to configure addresses, from fully automatic to fully manual.</p>
            </div>

            <div class="card">
                <h2>üîÑ SLAAC - Stateless Address Autoconfiguration</h2>
                <p>Devices automatically configure their own addresses without a DHCP server!</p>

                <div class="demo-area">
                    <h3>How SLAAC Works</h3>
                    <div class="network-diagram">
                        <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap;">
                            <div class="network-node">
                                <div class="label">1Ô∏è‚É£ Client</div>
                                <div class="address">Sends Router Solicitation (RS)</div>
                                <div class="address" style="color: #f59e0b;">to ff02::2 (all routers)</div>
                            </div>
                            <div style="font-size: 2em;">‚Üí</div>
                            <div class="network-node">
                                <div class="label">2Ô∏è‚É£ Router</div>
                                <div class="address">Sends Router Advertisement (RA)</div>
                                <div class="address" style="color: #f59e0b;">Prefix: 2001:db8:acad:1::/64</div>
                            </div>
                        </div>
                        <div style="margin-top: 20px; font-size: 2em;">‚Üì</div>
                        <div class="network-node" style="background: rgba(16, 185, 129, 0.3);">
                            <div class="label">3Ô∏è‚É£ Client Creates Address</div>
                            <div class="address">Prefix + Interface ID (from MAC)</div>
                            <div class="address" style="color: #10b981; font-size: 1.1em;">2001:db8:acad:1:aabb:ccff:fedd:eeff</div>
                        </div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="info-box">
                        <strong>EUI-64 Process:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Take MAC address: <code>aa:bb:cc:dd:ee:ff</code></li>
                            <li>Split in half: <code>aa:bb:cc</code> | <code>dd:ee:ff</code></li>
                            <li>Insert <code>ff:fe</code>: <code>aa:bb:cc:ff:fe:dd:ee:ff</code></li>
                            <li>Flip 7th bit: <code>a8:bb:cc:ff:fe:dd:ee:ff</code></li>
                            <li>Result: <code>a8bb:ccff:fedd:eeff</code></li>
                        </ol>
                    </div>

                    <div class="warning-box">
                        <strong>Privacy Concern:</strong> EUI-64 embeds your MAC address in your IPv6 address, making you trackable across networks!
                        <br><br>
                        <strong>Solution:</strong> RFC 4941 "Privacy Extensions" generate random interface IDs that change periodically.
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment"># Cisco Router - Enable SLAAC</span><br>
                    <span class="command">Router(config)# ipv6 unicast-routing</span><br>
                    <span class="command">Router(config)# interface GigabitEthernet0/0</span><br>
                    <span class="command">Router(config-if)# ipv6 address 2001:db8:acad:1::1/64</span><br>
                    <span class="command">Router(config-if)# no shutdown</span><br>
                    <span class="comment"># Router automatically sends RAs with this prefix</span>
                </div>
            </div>

            <div class="card">
                <h2>üìã DHCPv6 - Stateful Configuration</h2>
                <p>Like DHCP for IPv4, but with IPv6-specific options.</p>

                <div class="grid-2">
                    <div class="demo-area">
                        <h3>Stateful DHCPv6</h3>
                        <p>DHCP server assigns the full address AND other settings.</p>
                        <ul style="margin-left: 20px;">
                            <li>‚úÖ Full IPv6 address</li>
                            <li>‚úÖ DNS servers</li>
                            <li>‚úÖ Domain name</li>
                            <li>‚úÖ Other options</li>
                        </ul>
                        <div class="code-block">
                            <span class="comment"># RA Flag: M=1 (Managed)</span><br>
                            <span class="command">ipv6 nd managed-config-flag</span>
                        </div>
                    </div>

                    <div class="demo-area">
                        <h3>Stateless DHCPv6</h3>
                        <p>SLAAC for address, DHCPv6 for other settings only.</p>
                        <ul style="margin-left: 20px;">
                            <li>‚ùå Address (uses SLAAC)</li>
                            <li>‚úÖ DNS servers</li>
                            <li>‚úÖ Domain name</li>
                            <li>‚úÖ Other options</li>
                        </ul>
                        <div class="code-block">
                            <span class="comment"># RA Flag: O=1 (Other)</span><br>
                            <span class="command">ipv6 nd other-config-flag</span>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <strong>RA Flags Summary:</strong>
                    <table style="margin-top: 10px;">
                        <tr><th>M Flag</th><th>O Flag</th><th>Client Behavior</th></tr>
                        <tr><td>0</td><td>0</td><td>SLAAC only (no DHCPv6)</td></tr>
                        <tr><td>0</td><td>1</td><td>SLAAC + Stateless DHCPv6 for DNS, etc.</td></tr>
                        <tr><td>1</td><td>0</td><td>Stateful DHCPv6 for everything</td></tr>
                        <tr><td>1</td><td>1</td><td>Stateful DHCPv6 for everything</td></tr>
                    </table>
                </div>
            </div>

            <div class="card">
                <h2>‚úçÔ∏è Static Configuration</h2>
                <p>Manually assign IPv6 addresses - best for servers, routers, and infrastructure devices.</p>

                <div class="grid-2">
                    <div class="code-block">
                        <span class="comment"># Cisco IOS - Static IPv6</span><br><br>
                        <span class="command">Router(config)# interface GigabitEthernet0/0</span><br>
                        <span class="command">Router(config-if)# ipv6 address 2001:db8:acad:1::1/64</span><br>
                        <span class="command">Router(config-if)# ipv6 address fe80::1 link-local</span><br>
                        <span class="command">Router(config-if)# no shutdown</span><br><br>
                        <span class="comment"># Verify</span><br>
                        <span class="command">Router# show ipv6 interface brief</span>
                    </div>

                    <div class="code-block">
                        <span class="comment"># Linux - Static IPv6</span><br><br>
                        <span class="command">$ sudo ip -6 addr add 2001:db8:acad:1::100/64 dev eth0</span><br>
                        <span class="command">$ sudo ip -6 route add default via 2001:db8:acad:1::1</span><br><br>
                        <span class="comment"># Verify</span><br>
                        <span class="command">$ ip -6 addr show</span><br>
                        <span class="command">$ ip -6 route show</span>
                    </div>
                </div>

                <div class="code-block">
                    <span class="comment"># Windows - Static IPv6 (PowerShell)</span><br><br>
                    <span class="command">New-NetIPAddress -InterfaceAlias "Ethernet" `</span><br>
                    <span class="command">    -IPAddress "2001:db8:acad:1::100" `</span><br>
                    <span class="command">    -PrefixLength 64 `</span><br>
                    <span class="command">    -DefaultGateway "2001:db8:acad:1::1"</span><br><br>
                    <span class="comment"># Set DNS</span><br>
                    <span class="command">Set-DnsClientServerAddress -InterfaceAlias "Ethernet" `</span><br>
                    <span class="command">    -ServerAddresses "2001:4860:4860::8888"</span>
                </div>
            </div>

            <div class="card">
                <h2>üîç Verification Commands</h2>
                <div class="grid-2">
                    <div class="code-block">
                        <span class="comment"># Cisco IOS</span><br><br>
                        <span class="command">show ipv6 interface brief</span><br>
                        <span class="output">GigabitEthernet0/0     [up/up]</span><br>
                        <span class="output">    FE80::1</span><br>
                        <span class="output">    2001:DB8:ACAD:1::1</span><br><br>
                        <span class="command">show ipv6 route</span><br>
                        <span class="command">show ipv6 neighbors</span><br>
                        <span class="command">ping ipv6 2001:db8::1</span>
                    </div>

                    <div class="code-block">
                        <span class="comment"># Linux / Windows</span><br><br>
                        <span class="comment"># Linux</span><br>
                        <span class="command">ip -6 addr show</span><br>
                        <span class="command">ip -6 route show</span><br>
                        <span class="command">ip -6 neigh show</span><br>
                        <span class="command">ping6 2001:db8::1</span><br><br>
                        <span class="comment"># Windows</span><br>
                        <span class="command">ipconfig /all</span><br>
                        <span class="command">netsh interface ipv6 show addresses</span><br>
                        <span class="command">ping -6 2001:db8::1</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== TAB 5: Quiz ==================== -->
        <div class="tab-content" id="tab-quiz">
            <div class="card">
                <h2>üìù IPv6 Practice Quiz</h2>
                <p>Test your knowledge of IPv6 addressing! Select the best answer for each question.</p>
            </div>

            <div id="quiz-container">
                <!-- Question 1 -->
                <div class="quiz-question" data-correct="c">
                    <h4>Question 1: How many bits are in an IPv6 address?</h4>
                    <div class="quiz-option" data-answer="a">A. 32 bits</div>
                    <div class="quiz-option" data-answer="b">B. 64 bits</div>
                    <div class="quiz-option" data-answer="c">C. 128 bits</div>
                    <div class="quiz-option" data-answer="d">D. 256 bits</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" data-correct="b">
                    <h4>Question 2: What is the compressed form of 2001:0db8:0000:0000:0000:0000:0000:0001?</h4>
                    <div class="quiz-option" data-answer="a">A. 2001:db8:0:0:0:0:0:1</div>
                    <div class="quiz-option" data-answer="b">B. 2001:db8::1</div>
                    <div class="quiz-option" data-answer="c">C. 2001:db8:::1</div>
                    <div class="quiz-option" data-answer="d">D. 2001::db8::1</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" data-correct="a">
                    <h4>Question 3: Which prefix identifies a link-local address?</h4>
                    <div class="quiz-option" data-answer="a">A. fe80::/10</div>
                    <div class="quiz-option" data-answer="b">B. ff00::/8</div>
                    <div class="quiz-option" data-answer="c">C. 2000::/3</div>
                    <div class="quiz-option" data-answer="d">D. fc00::/7</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" data-correct="d">
                    <h4>Question 4: What is the IPv6 loopback address?</h4>
                    <div class="quiz-option" data-answer="a">A. 127.0.0.1</div>
                    <div class="quiz-option" data-answer="b">B. 0:0:0:0:0:0:0:0</div>
                    <div class="quiz-option" data-answer="c">C. fe80::1</div>
                    <div class="quiz-option" data-answer="d">D. ::1</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" data-correct="c">
                    <h4>Question 5: What does SLAAC stand for?</h4>
                    <div class="quiz-option" data-answer="a">A. Secure Local Area Address Configuration</div>
                    <div class="quiz-option" data-answer="b">B. Static Link Automatic Address Control</div>
                    <div class="quiz-option" data-answer="c">C. Stateless Address Autoconfiguration</div>
                    <div class="quiz-option" data-answer="d">D. Standard Local Address Allocation Configuration</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question" data-correct="b">
                    <h4>Question 6: Which multicast address represents "all routers" on the local link?</h4>
                    <div class="quiz-option" data-answer="a">A. ff02::1</div>
                    <div class="quiz-option" data-answer="b">B. ff02::2</div>
                    <div class="quiz-option" data-answer="c">C. ff02::5</div>
                    <div class="quiz-option" data-answer="d">D. ff02::9</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question" data-correct="a">
                    <h4>Question 7: What is the standard prefix length for most IPv6 subnets?</h4>
                    <div class="quiz-option" data-answer="a">A. /64</div>
                    <div class="quiz-option" data-answer="b">B. /48</div>
                    <div class="quiz-option" data-answer="c">C. /32</div>
                    <div class="quiz-option" data-answer="d">D. /128</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question" data-correct="c">
                    <h4>Question 8: Which IPv6 address type is similar to IPv4 private addresses (RFC 1918)?</h4>
                    <div class="quiz-option" data-answer="a">A. Global Unicast</div>
                    <div class="quiz-option" data-answer="b">B. Link-Local</div>
                    <div class="quiz-option" data-answer="c">C. Unique Local (ULA)</div>
                    <div class="quiz-option" data-answer="d">D. Multicast</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question" data-correct="d">
                    <h4>Question 9: In EUI-64, what bytes are inserted into the middle of a MAC address?</h4>
                    <div class="quiz-option" data-answer="a">A. 00:00</div>
                    <div class="quiz-option" data-answer="b">B. ff:ff</div>
                    <div class="quiz-option" data-answer="c">C. fe:80</div>
                    <div class="quiz-option" data-answer="d">D. ff:fe</div>
                    <div class="quiz-feedback"></div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question" data-correct="b">
                    <h4>Question 10: How many times can you use "::" in a single IPv6 address?</h4>
                    <div class="quiz-option" data-answer="a">A. Unlimited times</div>
                    <div class="quiz-option" data-answer="b">B. Once</div>
                    <div class="quiz-option" data-answer="c">C. Twice</div>
                    <div class="quiz-option" data-answer="d">D. Never</div>
                    <div class="quiz-feedback"></div>
                </div>
            </div>

            <div class="card">
                <h2>üìä Quiz Results</h2>
                <div id="quiz-results" style="text-align: center; padding: 20px;">
                    <p>Answer all questions to see your score!</p>
                </div>
                <div style="text-align: center;">
                    <button class="btn" onclick="checkAllAnswers()">Submit Quiz</button>
                    <button class="btn btn-secondary" onclick="resetQuiz()">Reset Quiz</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Tab Navigation
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
            });
        });

        // IPv6 Compression Demo
        function compressIPv6() {
            const input = document.getElementById('ipv6-input').value.trim().toLowerCase();
            const resultDiv = document.getElementById('compression-result');

            if (!input) {
                resultDiv.innerHTML = '<div class="warning-box">Please enter an IPv6 address!</div>';
                return;
            }

            // Validate and expand
            let groups = input.split(':');

            // Handle :: expansion
            if (input.includes('::')) {
                const parts = input.split('::');
                const left = parts[0] ? parts[0].split(':') : [];
                const right = parts[1] ? parts[1].split(':') : [];
                const missing = 8 - left.length - right.length;
                groups = [...left, ...Array(missing).fill('0000'), ...right];
            }

            if (groups.length !== 8) {
                resultDiv.innerHTML = '<div class="danger-box">Invalid IPv6 address format! Must have 8 groups.</div>';
                return;
            }

            // Pad each group to 4 digits
            const full = groups.map(g => g.padStart(4, '0')).join(':');

            // Step 1: Remove leading zeros
            const noLeadingZeros = groups.map(g => g.replace(/^0+/, '') || '0').join(':');

            // Step 2: Find longest run of zeros for ::
            let compressed = noLeadingZeros;
            const zeroPatterns = [':0:0:0:0:0:0:0:', ':0:0:0:0:0:0:', ':0:0:0:0:0:', ':0:0:0:0:', ':0:0:0:', ':0:0:'];

            for (const pattern of zeroPatterns) {
                if ((':' + noLeadingZeros + ':').includes(pattern)) {
                    compressed = (':' + noLeadingZeros + ':').replace(pattern, '::');
                    // Clean up edges
                    if (compressed.startsWith(':') && !compressed.startsWith('::')) {
                        compressed = compressed.substring(1);
                    }
                    if (compressed.endsWith(':') && !compressed.endsWith('::')) {
                        compressed = compressed.substring(0, compressed.length - 1);
                    }
                    break;
                }
            }

            resultDiv.innerHTML = `
                <div class="info-box">
                    <h4 style="color: #10b981; margin-bottom: 15px;">Compression Steps:</h4>
                    <p><strong>1. Full address:</strong><br><code>${full}</code></p>
                    <p><strong>2. Remove leading zeros:</strong><br><code>${noLeadingZeros}</code></p>
                    <p><strong>3. Apply :: (if applicable):</strong><br><code style="font-size: 1.2em; color: #10b981;">${compressed}</code></p>
                </div>
            `;
        }

        function loadExample() {
            const examples = [
                '2001:0db8:0000:0000:0000:0000:0000:0001',
                '0000:0000:0000:0000:0000:0000:0000:0001',
                'fe80:0000:0000:0000:0211:22ff:fe33:4455',
                '2001:0db8:85a3:0000:0000:8a2e:0370:7334',
                '2001:0db8:0000:0042:0000:0000:0000:0001'
            ];
            document.getElementById('ipv6-input').value = examples[Math.floor(Math.random() * examples.length)];
        }

        // Quiz functionality
        const explanations = {
            1: { correct: 'c', explanation: 'IPv6 addresses are 128 bits long (compared to 32 bits for IPv4), written as 8 groups of 16 bits each.' },
            2: { correct: 'b', explanation: 'First remove leading zeros, then replace consecutive all-zero groups with ::. You can only use :: once!' },
            3: { correct: 'a', explanation: 'Link-local addresses always start with fe80::/10. They are automatically assigned and not routable.' },
            4: { correct: 'd', explanation: '::1 is the IPv6 loopback address, equivalent to 127.0.0.1 in IPv4. It represents all zeros except the last bit.' },
            5: { correct: 'c', explanation: 'SLAAC (Stateless Address Autoconfiguration) allows devices to configure their own IPv6 addresses using router advertisements.' },
            6: { correct: 'b', explanation: 'ff02::2 is the "all routers" multicast address. ff02::1 is "all nodes". These are link-local scope.' },
            7: { correct: 'a', explanation: '/64 is the standard prefix length. It provides 64 bits for the network and 64 bits for the interface ID (host).' },
            8: { correct: 'c', explanation: 'Unique Local Addresses (ULA) with prefix fc00::/7 (typically fd00::/8) are similar to IPv4 private addresses.' },
            9: { correct: 'd', explanation: 'EUI-64 inserts ff:fe into the middle of the MAC address, then flips the 7th bit to create a 64-bit interface ID.' },
            10: { correct: 'b', explanation: 'You can only use :: once in an address. Using it twice would make the address ambiguous since you wouldn\'t know how many zero groups each :: represents.' }
        };

        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.parentElement;
                const correct = question.dataset.correct;
                const selected = this.dataset.answer;
                const feedback = question.querySelector('.quiz-feedback');
                const qNum = Array.from(document.querySelectorAll('.quiz-question')).indexOf(question) + 1;

                // Remove previous selections
                question.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.classList.remove('correct', 'incorrect');
                });

                // Mark selection
                if (selected === correct) {
                    this.classList.add('correct');
                    feedback.innerHTML = `<div class="info-box">‚úÖ Correct! ${explanations[qNum].explanation}</div>`;
                } else {
                    this.classList.add('incorrect');
                    question.querySelector(`[data-answer="${correct}"]`).classList.add('correct');
                    feedback.innerHTML = `<div class="danger-box">‚ùå Incorrect. ${explanations[qNum].explanation}</div>`;
                }
                feedback.classList.add('show');
            });
        });

        function checkAllAnswers() {
            let correct = 0;
            let total = document.querySelectorAll('.quiz-question').length;

            document.querySelectorAll('.quiz-question').forEach((q, i) => {
                const selected = q.querySelector('.quiz-option.correct, .quiz-option.incorrect');
                if (selected && selected.classList.contains('correct')) {
                    correct++;
                } else if (!selected) {
                    // Auto-click to show answer if not answered
                    q.querySelector(`[data-answer="${q.dataset.correct}"]`).click();
                }
            });

            const percentage = Math.round((correct / total) * 100);
            let message = '';
            let color = '';

            if (percentage >= 90) {
                message = 'üèÜ Excellent! You\'re an IPv6 expert!';
                color = '#10b981';
            } else if (percentage >= 70) {
                message = 'üëç Good job! You have a solid understanding of IPv6.';
                color = '#60a5fa';
            } else if (percentage >= 50) {
                message = 'üìö Keep studying! Review the concepts you missed.';
                color = '#f59e0b';
            } else {
                message = 'üí™ Don\'t give up! Review the material and try again.';
                color = '#ef4444';
            }

            document.getElementById('quiz-results').innerHTML = `
                <div style="font-size: 3em; color: ${color};">${correct}/${total}</div>
                <div style="font-size: 1.5em; margin: 10px 0;">${percentage}%</div>
                <div style="color: ${color}; font-size: 1.2em;">${message}</div>
            `;
        }

        function resetQuiz() {
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            document.querySelectorAll('.quiz-feedback').forEach(fb => {
                fb.classList.remove('show');
                fb.innerHTML = '';
            });
            document.getElementById('quiz-results').innerHTML = '<p>Answer all questions to see your score!</p>';
        }
    </script>
</body>
</html>
