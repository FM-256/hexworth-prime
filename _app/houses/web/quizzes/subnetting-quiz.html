<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subnetting Challenge - Web House</title>
    <link rel="stylesheet" href="../../../styles/quiz-engine.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a 0%, #164e63 50%, #0f172a 100%);
            display: flex;
            flex-direction: column;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        .page-header {
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(34, 211, 238, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .page-header a {
            color: #22d3ee;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }
        .page-header a:hover { color: #67e8f9; }
        .brand {
            font-weight: 600;
            color: #e0e0e0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .quiz-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 20px;
        }
        #quiz-container { width: 100%; max-width: 800px; }
    </style>
</head>
<body>
    <header class="page-header">
        <a href="../index.html">‚Üê Back to Web House</a>
        <span class="brand"><span>üï∏Ô∏è</span> Hexworth Prime</span>
    </header>
    <main class="quiz-wrapper">
        <div id="quiz-container"></div>
    </main>
    <script src="../../../components/QuizEngine.js"></script>
    <script>
        const quiz = new QuizEngine({
            containerId: 'quiz-container',
            title: 'Subnetting Challenge',
            description: 'Master IP addressing and subnet calculations',
            passingScore: 70,
            showFeedback: true,
            randomize: true,
            theme: 'web',
            achievement: 'web-subnetting-master',
            // Progress tracking
            moduleId: 'web-subnetting-quiz',
            houseId: 'web',
            trackProgress: true,

            questions: [
                // CIDR & BASICS
                {
                    question: 'What does CIDR stand for?',
                    options: [
                        'Classful Internet Domain Routing',
                        'Classless Inter-Domain Routing',
                        'Controlled Internet Data Routing',
                        'Central IP Distribution Registry'
                    ],
                    correct: 1,
                    explanation: 'CIDR (Classless Inter-Domain Routing) replaced the old Class A/B/C system, allowing flexible subnet sizes using /notation.'
                },
                {
                    question: 'How many host addresses are available in a /24 network?',
                    options: [
                        '256',
                        '254',
                        '255',
                        '252'
                    ],
                    correct: 1,
                    explanation: '/24 = 256 addresses, but subtract 2 (network address and broadcast). 256 - 2 = 254 usable hosts.'
                },
                {
                    question: 'What is the subnet mask for a /26 network?',
                    options: [
                        '255.255.255.0',
                        '255.255.255.128',
                        '255.255.255.192',
                        '255.255.255.224'
                    ],
                    correct: 2,
                    explanation: '/26 means 26 bits for network. Last octet: 11000000 = 192. So 255.255.255.192.'
                },
                {
                    question: 'What is the binary value of the number 192?',
                    options: [
                        '10000000',
                        '11000000',
                        '11100000',
                        '11110000'
                    ],
                    correct: 1,
                    explanation: '192 = 128 + 64 = 11000000 in binary. This is important for understanding subnet masks.'
                },

                // NETWORK CALCULATIONS
                {
                    question: 'Given IP 192.168.1.130/25, what is the network address?',
                    options: [
                        '192.168.1.0',
                        '192.168.1.128',
                        '192.168.1.64',
                        '192.168.1.1'
                    ],
                    correct: 1,
                    explanation: '/25 splits the last octet in half (0-127 and 128-255). 130 falls in the second subnet, so network is 192.168.1.128.'
                },
                {
                    question: 'What is the broadcast address for 10.0.0.0/8?',
                    options: [
                        '10.0.0.255',
                        '10.255.255.254',
                        '10.255.255.255',
                        '10.0.255.255'
                    ],
                    correct: 2,
                    explanation: '/8 means only the first octet is network. All host bits set to 1 = 10.255.255.255.'
                },
                {
                    question: 'How many /28 subnets can you create from a /24 network?',
                    options: [
                        '4',
                        '8',
                        '16',
                        '32'
                    ],
                    correct: 2,
                    explanation: '/24 to /28 = 4 more bits borrowed. 2^4 = 16 subnets. Each /28 has 14 usable hosts.'
                },
                {
                    question: 'Which of these is a valid host address in 172.16.0.0/23?',
                    options: [
                        '172.16.0.0',
                        '172.16.1.255',
                        '172.16.1.100',
                        '172.16.2.1'
                    ],
                    correct: 2,
                    explanation: '/23 covers 172.16.0.0 - 172.16.1.255. .0.0 is network, .1.255 is broadcast. .1.100 is valid. .2.1 is outside the range.'
                },

                // PRIVATE VS PUBLIC
                {
                    question: 'Which of these is a private IP address range?',
                    options: [
                        '11.0.0.0/8',
                        '172.16.0.0/12',
                        '192.0.0.0/8',
                        '169.254.0.0/8'
                    ],
                    correct: 1,
                    explanation: 'RFC 1918 private ranges: 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16. 169.254.0.0/16 is APIPA (link-local).'
                },
                {
                    question: 'The IP address 127.0.0.1 is used for:',
                    options: [
                        'Default gateway',
                        'Loopback/localhost',
                        'Broadcast',
                        'DNS server'
                    ],
                    correct: 1,
                    explanation: '127.0.0.1 is the loopback address (localhost). Traffic to this IP stays on the local machine - used for testing.'
                },

                // VLSM
                {
                    question: 'What is VLSM?',
                    options: [
                        'Very Large Subnet Mask',
                        'Variable Length Subnet Masking',
                        'Virtual LAN Subnet Method',
                        'Validated Local System Management'
                    ],
                    correct: 1,
                    explanation: 'VLSM allows different subnet sizes within the same network, optimizing IP address usage based on actual needs.'
                },
                {
                    question: 'You need 50 hosts per subnet. What is the minimum prefix length?',
                    options: [
                        '/26 (62 hosts)',
                        '/25 (126 hosts)',
                        '/27 (30 hosts)',
                        '/24 (254 hosts)'
                    ],
                    correct: 0,
                    explanation: '/27 only gives 30 hosts (not enough). /26 gives 62 hosts (64 - 2). This is the smallest that fits 50 hosts.'
                },

                // SUPERNETTING
                {
                    question: 'What is supernetting (route aggregation)?',
                    options: [
                        'Dividing a network into smaller subnets',
                        'Combining multiple networks into one larger network',
                        'Converting IPv4 to IPv6',
                        'Creating VLANs'
                    ],
                    correct: 1,
                    explanation: 'Supernetting combines contiguous networks into one summary route, reducing routing table size.'
                },
                {
                    question: 'Networks 192.168.0.0/24 through 192.168.3.0/24 can be summarized as:',
                    options: [
                        '192.168.0.0/21',
                        '192.168.0.0/22',
                        '192.168.0.0/23',
                        '192.168.0.0/20'
                    ],
                    correct: 1,
                    explanation: '4 contiguous /24s = /22. Binary: 192.168.00000000.0 to 192.168.00000011.255. First 22 bits are common.'
                },

                // IPv4 CLASSES (Legacy but tested)
                {
                    question: 'In classful addressing, what is the default mask for a Class B address?',
                    options: [
                        '255.0.0.0',
                        '255.255.0.0',
                        '255.255.255.0',
                        '255.255.255.255'
                    ],
                    correct: 1,
                    explanation: 'Class B (128-191.x.x.x) defaults to /16 = 255.255.0.0. Class A = /8, Class C = /24.'
                },
                {
                    question: 'Which address class does 150.10.5.1 belong to?',
                    options: [
                        'Class A',
                        'Class B',
                        'Class C',
                        'Class D'
                    ],
                    correct: 1,
                    explanation: 'First octet 150 is between 128-191, making it Class B. (A=1-126, B=128-191, C=192-223, D=224-239)'
                },

                // SPECIAL ADDRESSES
                {
                    question: 'What type of address is 255.255.255.255?',
                    options: [
                        'Network address',
                        'Limited broadcast',
                        'Multicast',
                        'Loopback'
                    ],
                    correct: 1,
                    explanation: '255.255.255.255 is the limited broadcast address - sent to all hosts on the local network only (not routed).'
                },
                {
                    question: 'What is the purpose of the 0.0.0.0 address?',
                    options: [
                        'Broadcast to all networks',
                        'Default route / "this network"',
                        'Reserved for future use',
                        'Multicast group'
                    ],
                    correct: 1,
                    explanation: '0.0.0.0/0 represents the default route (all networks). A host may also use 0.0.0.0 before obtaining an IP via DHCP.'
                },

                // PRACTICAL SCENARIOS
                {
                    question: 'Your company has 4 departments needing 30, 25, 10, and 5 hosts. Using 192.168.1.0/24 with VLSM, which subnet should you assign FIRST?',
                    options: [
                        'The 5-host department',
                        'The 10-host department',
                        'The 25-host department',
                        'The 30-host department'
                    ],
                    correct: 3,
                    explanation: 'VLSM best practice: allocate largest subnets first. This prevents fragmentation and ensures contiguous addressing.'
                },
                {
                    question: 'Two hosts have IPs 192.168.1.65/26 and 192.168.1.100/26. Can they communicate directly?',
                    options: [
                        'Yes, same subnet',
                        'No, different subnets',
                        'Only with a router',
                        'Depends on the gateway'
                    ],
                    correct: 0,
                    explanation: '/26 boundaries: 0-63, 64-127, 128-191, 192-255. Both 65 and 100 are in the 64-127 range = same subnet!'
                }
            ]
        });
        quiz.start();
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
