<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <!-- Achievement & Progress Integration -->
    <script src="../../../components/AchievementManager.js"></script>
    <script src="../../../components/ModuleProgress.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Fundamentals - House of the Code</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --house-color: #6366F1;
            --house-glow: rgba(99, 102, 241, 0.4);
            --bg-dark: #0a0a12;
            --bg-card: rgba(15, 15, 25, 0.8);
            --text-primary: #e8e8f0;
            --text-secondary: #8888aa;
        }

        body {
            min-height: 100vh;
            background: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Header */
        .module-header {
            padding: 20px 30px;
            background: rgba(10, 10, 18, 0.95);
            border-bottom: 1px solid rgba(99, 102, 241, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid rgba(99, 102, 241, 0.3);
            background: transparent;
            color: var(--house-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .module-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .house-badge {
            font-size: 0.7rem;
            padding: 4px 12px;
            background: rgba(99, 102, 241, 0.15);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            color: var(--house-color);
            letter-spacing: 0.1em;
        }

        /* Main Content */
        .module-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        .intro-section {
            text-align: center;
            margin-bottom: 50px;
        }

        .intro-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .intro-title {
            font-size: 2.2rem;
            font-weight: 300;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #fff, var(--house-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .intro-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Section Headers */
        .section-header {
            font-size: 1.4rem;
            font-weight: 400;
            margin-bottom: 25px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-header::before {
            content: '';
            width: 4px;
            height: 24px;
            background: var(--house-color);
            border-radius: 2px;
        }

        /* Version Control Benefits */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .benefit-card {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .benefit-card:hover {
            border-color: var(--house-color);
            transform: translateY(-5px);
            box-shadow: 0 5px 20px var(--house-glow);
        }

        .benefit-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .benefit-card h3 {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--house-color);
        }

        .benefit-card p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Git Workflow Visualization */
        .workflow-container {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 50px;
        }

        .workflow-stages {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        .stage {
            flex: 1;
            min-width: 140px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .stage-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 12px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 2px solid rgba(99, 102, 241, 0.3);
            background: rgba(99, 102, 241, 0.05);
            transition: all 0.3s ease;
        }

        .stage:hover .stage-icon {
            border-color: var(--house-color);
            background: rgba(99, 102, 241, 0.15);
            transform: scale(1.1);
            box-shadow: 0 5px 20px var(--house-glow);
        }

        .stage.active .stage-icon {
            border-color: var(--house-color);
            background: rgba(99, 102, 241, 0.2);
            box-shadow: 0 5px 25px var(--house-glow);
        }

        .stage-name {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .stage-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .flow-arrow {
            font-size: 1.5rem;
            color: var(--house-color);
            opacity: 0.5;
        }

        .stage-detail {
            background: rgba(99, 102, 241, 0.05);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 10px;
            padding: 20px;
            display: none;
        }

        .stage-detail.visible {
            display: block;
            animation: slideIn 0.3s ease;
        }

        .stage-detail h4 {
            color: var(--house-color);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .stage-detail p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .stage-detail code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            color: var(--house-color);
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        /* Command Cards */
        .commands-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 18px;
            margin-bottom: 50px;
        }

        .command-card {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .command-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--house-color);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .command-card:hover::before {
            transform: scaleY(1);
        }

        .command-card:hover {
            border-color: var(--house-color);
            transform: translateX(5px);
            box-shadow: 0 5px 20px var(--house-glow);
        }

        .command-card.expanded {
            border-color: var(--house-color);
            box-shadow: 0 5px 25px var(--house-glow);
        }

        .command-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .command-icon {
            font-size: 1.5rem;
        }

        .command-name {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--house-color);
        }

        .command-summary {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .command-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .command-card.expanded .command-details {
            max-height: 300px;
        }

        .command-example {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 6px;
            margin-top: 12px;
            border-left: 3px solid var(--house-color);
        }

        .command-example code {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: #7dd3fc;
            display: block;
        }

        .example-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 6px;
        }

        /* Scenarios Section */
        .scenarios-container {
            margin-bottom: 50px;
        }

        .scenario-card {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scenario-card:hover {
            border-color: var(--house-color);
            box-shadow: 0 5px 20px var(--house-glow);
        }

        .scenario-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .scenario-emoji {
            font-size: 2rem;
        }

        .scenario-title {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--house-color);
        }

        .scenario-problem {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 15px;
        }

        .scenario-solution {
            background: rgba(99, 102, 241, 0.05);
            border-left: 3px solid var(--house-color);
            padding: 15px;
            border-radius: 6px;
        }

        .solution-label {
            font-size: 0.75rem;
            color: var(--house-color);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .solution-steps {
            list-style: none;
            padding: 0;
        }

        .solution-steps li {
            padding: 6px 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .solution-steps li::before {
            content: '‚Üí';
            color: var(--house-color);
            font-weight: bold;
        }

        .solution-steps code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            color: #7dd3fc;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        /* Quiz Teaser */
        .quiz-teaser {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-top: 40px;
        }

        .quiz-teaser h3 {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .quiz-teaser p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .quiz-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--house-color), #4f46e5);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px var(--house-glow);
        }

        /* Footer */
        .module-footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(99, 102, 241, 0.1);
            margin-top: 50px;
        }

        .footer-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
            letter-spacing: 0.1em;
        }

        /* Animations */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .workflow-stages {
                flex-direction: column;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }

            .benefits-grid {
                grid-template-columns: 1fr;
            }

            .commands-grid {
                grid-template-columns: 1fr;
            }

            .intro-title {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <header class="module-header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <span class="module-title">Git Fundamentals</span>
        </div>
        <span class="house-badge">HOUSE OF THE CODE</span>
    </header>

    <main class="module-content">
        <section class="intro-section">
            <div class="intro-icon">üíª</div>
            <h1 class="intro-title">Git Fundamentals</h1>
            <p class="intro-subtitle">
                Master the essential version control system that powers modern software development.
                Git enables developers to track changes, collaborate seamlessly, and maintain complete project history.
            </p>
        </section>

        <!-- What is Version Control -->
        <h2 class="section-header">What is Version Control?</h2>
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">üìú</div>
                <h3>Track Changes Over Time</h3>
                <p>Every modification is recorded with who, what, and when. Travel back to any point in your project's history.</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">üë•</div>
                <h3>Collaborate with Others</h3>
                <p>Multiple developers can work simultaneously without overwriting each other's changes.</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">‚Ü©Ô∏è</div>
                <h3>Revert Mistakes</h3>
                <p>Made a breaking change? Roll back to a working version in seconds. Your safety net is built-in.</p>
            </div>
            <div class="benefit-card">
                <div class="benefit-icon">üåø</div>
                <h3>Branch and Experiment</h3>
                <p>Create isolated environments for features, experiments, or bug fixes without affecting the main codebase.</p>
            </div>
        </div>

        <!-- Git Workflow Visualization -->
        <h2 class="section-header">The Git Workflow</h2>
        <div class="workflow-container">
            <div class="workflow-stages">
                <div class="stage" onclick="showStageDetail('working')">
                    <div class="stage-icon">üìù</div>
                    <div class="stage-name">Working Directory</div>
                    <div class="stage-desc">Your files</div>
                </div>

                <span class="flow-arrow">‚Üí</span>

                <div class="stage" onclick="showStageDetail('staging')">
                    <div class="stage-icon">üì¶</div>
                    <div class="stage-name">Staging Area</div>
                    <div class="stage-desc">Ready to commit</div>
                </div>

                <span class="flow-arrow">‚Üí</span>

                <div class="stage" onclick="showStageDetail('local')">
                    <div class="stage-icon">üíæ</div>
                    <div class="stage-name">Local Repository</div>
                    <div class="stage-desc">Committed snapshots</div>
                </div>

                <span class="flow-arrow">‚Üí</span>

                <div class="stage" onclick="showStageDetail('remote')">
                    <div class="stage-icon">‚òÅÔ∏è</div>
                    <div class="stage-name">Remote Repository</div>
                    <div class="stage-desc">Shared with team</div>
                </div>
            </div>

            <div class="stage-detail" id="stageDetail">
                <h4>Click on a stage to learn more</h4>
                <p>The Git workflow moves your code through distinct stages, each serving a specific purpose in version control.</p>
            </div>
        </div>

        <!-- Essential Commands -->
        <h2 class="section-header">Essential Git Commands</h2>
        <div class="commands-grid">
            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">üé¨</span>
                    <span class="command-name">git init</span>
                </div>
                <div class="command-summary">Initialize a new Git repository</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git init</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Creates a hidden .git folder in your project directory, turning it into a Git repository. This is your first step in version control.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">‚ûï</span>
                    <span class="command-name">git add</span>
                </div>
                <div class="command-summary">Stage changes for commit</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git add index.html</code>
                        <code>git add .</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Moves modified files to the staging area. Use <code>.</code> to add all changes, or specify individual files.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">‚úÖ</span>
                    <span class="command-name">git commit</span>
                </div>
                <div class="command-summary">Save a snapshot of staged changes</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git commit -m "Add login feature"</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Creates a permanent snapshot with a descriptive message. Each commit is a restore point in your project's history.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">üîç</span>
                    <span class="command-name">git status</span>
                </div>
                <div class="command-summary">Check current repository state</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git status</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Shows modified files, staged changes, and current branch. Your go-to command for understanding what's happening.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">üìñ</span>
                    <span class="command-name">git log</span>
                </div>
                <div class="command-summary">View commit history</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git log --oneline</code>
                        <code>git log --graph</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Displays a chronological list of commits. Use flags like <code>--oneline</code> for a compact view or <code>--graph</code> for branch visualization.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">üåø</span>
                    <span class="command-name">git branch</span>
                </div>
                <div class="command-summary">Create and manage branches</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git branch feature-login</code>
                        <code>git branch -a</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Creates isolated development lines. Work on features without affecting the main branch. Use <code>-a</code> to list all branches.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">üîÄ</span>
                    <span class="command-name">git merge</span>
                </div>
                <div class="command-summary">Combine branch changes</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git merge feature-login</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Integrates changes from one branch into another. Git automatically handles most merges, flagging conflicts when manual intervention is needed.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">‚¨ÜÔ∏è</span>
                    <span class="command-name">git push</span>
                </div>
                <div class="command-summary">Upload commits to remote</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git push origin main</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Sends your local commits to a remote repository (like GitHub). Makes your work available to collaborators.
                    </p>
                </div>
            </div>

            <div class="command-card" onclick="toggleCommand(this)">
                <div class="command-header">
                    <span class="command-icon">‚¨áÔ∏è</span>
                    <span class="command-name">git pull</span>
                </div>
                <div class="command-summary">Download and merge remote changes</div>
                <div class="command-details">
                    <div class="command-example">
                        <div class="example-label">Example</div>
                        <code>git pull origin main</code>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85rem; color: var(--text-secondary);">
                        Fetches commits from remote and merges them into your current branch. Keeps your local repository synchronized.
                    </p>
                </div>
            </div>
        </div>

        <!-- Common Scenarios -->
        <h2 class="section-header">Common Scenarios</h2>
        <div class="scenarios-container">
            <div class="scenario-card">
                <div class="scenario-header">
                    <span class="scenario-emoji">üîß</span>
                    <h3 class="scenario-title">"I made a mistake in my last commit"</h3>
                </div>
                <p class="scenario-problem">"I just committed changes but forgot to include a file / made a typo in the commit message"</p>
                <div class="scenario-solution">
                    <div class="solution-label">Solution</div>
                    <ul class="solution-steps">
                        <li>Add forgotten files: <code>git add forgotten-file.js</code></li>
                        <li>Amend the commit: <code>git commit --amend</code></li>
                        <li>Or just fix the message: <code>git commit --amend -m "Corrected message"</code></li>
                    </ul>
                </div>
            </div>

            <div class="scenario-card">
                <div class="scenario-header">
                    <span class="scenario-emoji">‚è™</span>
                    <h3 class="scenario-title">"I need to undo uncommitted changes"</h3>
                </div>
                <p class="scenario-problem">"I modified files but want to discard those changes and return to the last commit"</p>
                <div class="scenario-solution">
                    <div class="solution-label">Solution</div>
                    <ul class="solution-steps">
                        <li>Discard changes to a specific file: <code>git checkout -- filename.js</code></li>
                        <li>Or use the newer syntax: <code>git restore filename.js</code></li>
                        <li>Discard all changes: <code>git checkout -- .</code> or <code>git restore .</code></li>
                        <li>Unstage files: <code>git reset HEAD filename.js</code></li>
                    </ul>
                </div>
            </div>

            <div class="scenario-card">
                <div class="scenario-header">
                    <span class="scenario-emoji">üöÄ</span>
                    <h3 class="scenario-title">"I need to work on a new feature"</h3>
                </div>
                <p class="scenario-problem">"I want to develop a feature without affecting the stable main branch"</p>
                <div class="scenario-solution">
                    <div class="solution-label">Solution: Branching Workflow</div>
                    <ul class="solution-steps">
                        <li>Create and switch to new branch: <code>git checkout -b feature-payment</code></li>
                        <li>Work on your feature, make commits normally</li>
                        <li>When ready, switch back: <code>git checkout main</code></li>
                        <li>Merge the feature: <code>git merge feature-payment</code></li>
                        <li>Delete the branch: <code>git branch -d feature-payment</code></li>
                    </ul>
                </div>
            </div>

            <div class="scenario-card">
                <div class="scenario-header">
                    <span class="scenario-emoji">üîó</span>
                    <h3 class="scenario-title">"I need to combine work from different branches"</h3>
                </div>
                <p class="scenario-problem">"Multiple features have been developed separately and need to be integrated"</p>
                <div class="scenario-solution">
                    <div class="solution-label">Solution: Merging Branches</div>
                    <ul class="solution-steps">
                        <li>Switch to the target branch: <code>git checkout main</code></li>
                        <li>Merge the feature branch: <code>git merge feature-branch</code></li>
                        <li>If conflicts occur, Git will mark them in the files</li>
                        <li>Resolve conflicts manually, then: <code>git add .</code></li>
                        <li>Complete the merge: <code>git commit</code></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Quiz Teaser -->
        <section class="quiz-teaser">
            <h3>Ready to Test Your Git Knowledge?</h3>
            <p>Challenge yourself with our interactive Git fundamentals quiz and solidify your understanding.</p>
            <button class="quiz-btn" onclick="startQuiz()">
                Start Quiz ‚Üí
            </button>
        </section>

        <!-- Module Completion -->
        <section class="quiz-teaser" style="background: var(--bg-card); border: 1px solid rgba(99, 102, 241, 0.3); margin-top: 20px;">
            <h3>Finished Reviewing?</h3>
            <p>Mark this module as complete to track your progress and unlock achievements.</p>
            <button class="quiz-btn" onclick="completeModule()" style="background: linear-gradient(135deg, #10b981, #059669);">
                ‚úì Mark as Complete
            </button>
        </section>
    </main>

    <footer class="module-footer">
        <div class="footer-text">HOUSE OF THE CODE ‚Ä¢ HEXWORTH PRIME</div>
    </footer>

    <script>
        // Stage details data
        const stageDetails = {
            working: {
                title: 'Working Directory',
                description: 'Your actual project files where you make changes. This is where you edit code, create files, and delete content. Git tracks modifications here but hasn\'t saved anything yet. Think of this as your workspace - changes are visible but not recorded in history until you stage and commit them.'
            },
            staging: {
                title: 'Staging Area (Index)',
                description: 'A preparation zone for your next commit. You selectively choose which changes to include using <code>git add</code>. This allows you to commit related changes together, even if you\'ve modified multiple files. The staging area gives you fine-grained control over what goes into each snapshot of your project history.'
            },
            local: {
                title: 'Local Repository',
                description: 'Your personal project history stored in the hidden <code>.git</code> folder. When you run <code>git commit</code>, staged changes become a permanent snapshot here. Every commit has a unique ID, author, timestamp, and message. This is your complete, offline version history - you can browse it, revert to any point, and create branches all without an internet connection.'
            },
            remote: {
                title: 'Remote Repository',
                description: 'A shared repository hosted on services like GitHub, GitLab, or Bitbucket. Use <code>git push</code> to upload your commits and <code>git pull</code> to download others\' changes. This enables collaboration, serves as a backup, and allows you to work from multiple machines. The remote is the single source of truth that the team synchronizes with.'
            }
        };

        // Show stage detail
        function showStageDetail(stageId) {
            const detail = stageDetails[stageId];
            const panel = document.getElementById('stageDetail');

            // Update active state
            document.querySelectorAll('.stage').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');

            panel.innerHTML = `
                <h4>${detail.title}</h4>
                <p>${detail.description}</p>
            `;

            panel.classList.add('visible');
        }

        // Toggle command details
        function toggleCommand(card) {
            const isExpanded = card.classList.contains('expanded');

            // Close all other cards
            document.querySelectorAll('.command-card').forEach(c => {
                c.classList.remove('expanded');
            });

            // Toggle current card
            if (!isExpanded) {
                card.classList.add('expanded');
            }
        }

        // Navigation functions
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = '../../../dashboard.html';
            }
        }

        function startQuiz() {
            alert('Git Fundamentals Quiz coming soon! This will test your knowledge of version control concepts and commands.');
            // In production, this would navigate to: window.location.href = '../quizzes/git-quiz.html';
        }

        function completeModule() {
            ModuleProgress.complete('code', 'code-git-basics', {
                returnToDashboard: true
            });
        }

        // Initialize - show first stage detail
        document.addEventListener('DOMContentLoaded', () => {
            const firstStage = document.querySelector('.stage');
            if (firstStage) {
                firstStage.classList.add('active');
                showStageDetail('working');
            }
        });
    </script>
</body>
</html>
