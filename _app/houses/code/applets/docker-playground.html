<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Access Control -->
    <script src="../../../components/AccessGuard.js"></script>
    <script>
        AccessGuard.require('sorted');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Playground - House of the Code</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --house-color: #6366F1;
            --docker-blue: #2496ED;
            --bg-dark: #0a0a12;
            --bg-card: rgba(15, 15, 25, 0.8);
            --text-primary: #e8e8f0;
            --text-secondary: #8888aa;
            --terminal-bg: #1a1a2e;
            --terminal-text: #00ff41;
        }

        body {
            min-height: 100vh;
            background: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        .header {
            padding: 20px 30px;
            background: rgba(10, 10, 18, 0.95);
            border-bottom: 1px solid rgba(99, 102, 241, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid rgba(99, 102, 241, 0.3);
            background: transparent;
            color: var(--house-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 1.2rem;
        }

        .back-btn:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .title {
            font-size: 1rem;
            font-weight: 500;
        }

        .house-badge {
            font-size: 0.7rem;
            padding: 4px 12px;
            background: rgba(99, 102, 241, 0.15);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            color: var(--house-color);
            letter-spacing: 0.1em;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        .intro-banner {
            background: linear-gradient(135deg, rgba(36, 150, 237, 0.1), rgba(99, 102, 241, 0.1));
            border: 1px solid rgba(36, 150, 237, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }

        .intro-banner h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--docker-blue);
        }

        .intro-banner p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .playground-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .terminal-section,
        .visualization-section {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            overflow: hidden;
        }

        .section-header {
            padding: 15px 20px;
            background: rgba(36, 150, 237, 0.1);
            border-bottom: 1px solid rgba(99, 102, 241, 0.2);
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--docker-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal {
            background: var(--terminal-bg);
            padding: 20px;
            min-height: 400px;
            max-height: 500px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .terminal-line {
            margin-bottom: 8px;
            color: var(--terminal-text);
        }

        .terminal-prompt {
            color: #7dd3fc;
        }

        .terminal-command {
            color: #fbbf24;
        }

        .terminal-output {
            color: var(--terminal-text);
            margin-left: 0;
        }

        .terminal-error {
            color: #ef4444;
        }

        .terminal-success {
            color: #10b981;
        }

        .terminal-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(99, 102, 241, 0.2);
        }

        .terminal-input {
            flex: 1;
            background: var(--terminal-bg);
            border: 1px solid rgba(36, 150, 237, 0.3);
            border-radius: 6px;
            padding: 10px 15px;
            color: var(--terminal-text);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .terminal-input:focus {
            outline: none;
            border-color: var(--docker-blue);
        }

        .execute-btn {
            padding: 10px 20px;
            background: var(--docker-blue);
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .execute-btn:hover {
            background: #1e7bb8;
            transform: translateY(-1px);
        }

        .clear-btn {
            padding: 10px 20px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 6px;
            color: #ef4444;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clear-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .visualization-area {
            padding: 20px;
            min-height: 400px;
        }

        .vis-section {
            margin-bottom: 25px;
        }

        .vis-section h3 {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .images-grid,
        .containers-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .image-card,
        .container-card {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 8px;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .image-card:hover,
        .container-card:hover {
            border-color: var(--docker-blue);
            background: rgba(36, 150, 237, 0.05);
        }

        .card-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-icon {
            font-size: 1.5rem;
        }

        .card-info h4 {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 3px;
        }

        .card-info p {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .status-running {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-stopped {
            background: rgba(107, 114, 128, 0.2);
            color: #9ca3af;
            border: 1px solid rgba(107, 114, 128, 0.3);
        }

        .quick-commands {
            background: var(--bg-card);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 25px;
        }

        .quick-commands h3 {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--house-color);
        }

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .quick-cmd-btn {
            padding: 12px 16px;
            background: rgba(36, 150, 237, 0.1);
            border: 1px solid rgba(36, 150, 237, 0.3);
            border-radius: 8px;
            color: var(--docker-blue);
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .quick-cmd-btn:hover {
            background: rgba(36, 150, 237, 0.2);
            border-color: var(--docker-blue);
            transform: translateX(3px);
        }

        .empty-state {
            text-align: center;
            padding: 30px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        @media (max-width: 968px) {
            .playground-layout {
                grid-template-columns: 1fr;
            }

            .command-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Custom Scrollbar */
        .terminal::-webkit-scrollbar {
            width: 8px;
        }

        .terminal::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
        }

        .terminal::-webkit-scrollbar-thumb {
            background: rgba(36, 150, 237, 0.3);
            border-radius: 4px;
        }

        .terminal::-webkit-scrollbar-thumb:hover {
            background: rgba(36, 150, 237, 0.5);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <span class="title">Docker Playground</span>
        </div>
        <span class="house-badge">HOUSE OF THE CODE</span>
    </header>

    <div class="container">
        <div class="intro-banner">
            <h1>üê≥ Docker Playground</h1>
            <p>Practice Docker commands in a safe, simulated environment. No installation required!</p>
        </div>

        <div class="playground-layout">
            <!-- Terminal Section -->
            <div class="terminal-section">
                <div class="section-header">
                    <span>üíª</span>
                    <span>Docker CLI Terminal</span>
                </div>
                <div class="terminal" id="terminal">
                    <div class="terminal-line terminal-success">
                        Welcome to Docker Playground! Type commands below or use quick commands.
                    </div>
                    <div class="terminal-line terminal-output">
                        Try: docker pull nginx, docker images, docker run, docker ps
                    </div>
                    <div class="terminal-line" style="margin-top: 10px;">
                        <span class="terminal-prompt">docker@playground:~$</span>
                    </div>
                </div>
                <div class="terminal-input-container">
                    <input
                        type="text"
                        class="terminal-input"
                        id="commandInput"
                        placeholder="Enter Docker command..."
                        autocomplete="off"
                    >
                    <button class="execute-btn" onclick="executeCommand()">Execute</button>
                    <button class="clear-btn" onclick="clearTerminal()">Clear</button>
                </div>
            </div>

            <!-- Visualization Section -->
            <div class="visualization-section">
                <div class="section-header">
                    <span>üìä</span>
                    <span>Visual Container Monitor</span>
                </div>
                <div class="visualization-area">
                    <div class="vis-section">
                        <h3>Docker Images</h3>
                        <div class="images-grid" id="imagesGrid">
                            <div class="empty-state">
                                <div class="empty-state-icon">üì¶</div>
                                <div>No images pulled yet. Try: docker pull nginx</div>
                            </div>
                        </div>
                    </div>

                    <div class="vis-section">
                        <h3>Running Containers</h3>
                        <div class="containers-grid" id="containersGrid">
                            <div class="empty-state">
                                <div class="empty-state-icon">üöÄ</div>
                                <div>No containers running. Try: docker run -d nginx</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Commands -->
        <div class="quick-commands">
            <h3>Quick Commands</h3>
            <div class="command-grid">
                <button class="quick-cmd-btn" onclick="quickCommand('docker pull nginx')">docker pull nginx</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker pull ubuntu')">docker pull ubuntu</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker images')">docker images</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker run -d --name web nginx')">docker run -d nginx</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker run -d --name db postgres')">docker run -d postgres</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker ps')">docker ps</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker ps -a')">docker ps -a</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker stop web')">docker stop web</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker start web')">docker start web</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker logs web')">docker logs web</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker rm web')">docker rm web</button>
                <button class="quick-cmd-btn" onclick="quickCommand('docker build -t myapp .')">docker build -t myapp .</button>
            </div>
        </div>
    </div>

    <script>
        // Simulated Docker state
        const dockerState = {
            images: [],
            containers: [],
            nextContainerId: 1
        };

        // Available images for pulling
        const availableImages = {
            'nginx': { name: 'nginx', tag: 'latest', size: '142 MB' },
            'ubuntu': { name: 'ubuntu', tag: '22.04', size: '77 MB' },
            'postgres': { name: 'postgres', tag: '14', size: '376 MB' },
            'node': { name: 'node', tag: '18', size: '995 MB' },
            'redis': { name: 'redis', tag: 'alpine', size: '29 MB' },
            'mysql': { name: 'mysql', tag: '8.0', size: '521 MB' }
        };

        // Generate random container ID
        function generateContainerId() {
            return Math.random().toString(36).substr(2, 12);
        }

        // Add line to terminal
        function addTerminalLine(content, type = 'output') {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = `terminal-line terminal-${type}`;
            line.innerHTML = content;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Execute Docker command
        function executeCommand() {
            const input = document.getElementById('commandInput');
            const command = input.value.trim();

            if (!command) return;

            // Show command in terminal
            addTerminalLine(`<span class="terminal-prompt">docker@playground:~$</span> <span class="terminal-command">${command}</span>`, 'command');

            // Parse and execute
            const parts = command.split(/\s+/);
            const cmd = parts[0];

            if (cmd !== 'docker') {
                addTerminalLine('Error: Command not found. Try: docker &lt;command&gt;', 'error');
                input.value = '';
                return;
            }

            const subcommand = parts[1];
            const args = parts.slice(2);

            // Route to appropriate handler
            switch(subcommand) {
                case 'pull':
                    handlePull(args);
                    break;
                case 'images':
                    handleImages();
                    break;
                case 'run':
                    handleRun(args);
                    break;
                case 'ps':
                    handlePs(args);
                    break;
                case 'stop':
                    handleStop(args);
                    break;
                case 'start':
                    handleStart(args);
                    break;
                case 'rm':
                    handleRm(args);
                    break;
                case 'logs':
                    handleLogs(args);
                    break;
                case 'build':
                    handleBuild(args);
                    break;
                case 'help':
                    handleHelp();
                    break;
                default:
                    addTerminalLine(`Error: Unknown command '${subcommand}'. Type 'docker help' for available commands.`, 'error');
            }

            input.value = '';
            updateVisualizations();
        }

        // Handle docker pull
        function handlePull(args) {
            if (args.length === 0) {
                addTerminalLine('Error: "docker pull" requires at least 1 argument.', 'error');
                return;
            }

            const imageName = args[0].split(':')[0];
            const image = availableImages[imageName];

            if (!image) {
                addTerminalLine(`Error: Image '${imageName}' not found in registry`, 'error');
                addTerminalLine(`Available: ${Object.keys(availableImages).join(', ')}`, 'output');
                return;
            }

            // Check if already pulled
            if (dockerState.images.find(img => img.name === image.name)) {
                addTerminalLine(`Image '${image.name}:${image.tag}' already exists`, 'output');
                return;
            }

            // Simulate pull
            addTerminalLine(`Pulling ${image.name}:${image.tag}...`, 'output');
            setTimeout(() => {
                addTerminalLine(`‚úì Successfully pulled ${image.name}:${image.tag} (${image.size})`, 'success');
                dockerState.images.push({...image, id: generateContainerId()});
                updateVisualizations();
            }, 800);
        }

        // Handle docker images
        function handleImages() {
            if (dockerState.images.length === 0) {
                addTerminalLine('No images found. Try: docker pull nginx', 'output');
                return;
            }

            addTerminalLine('REPOSITORY          TAG       IMAGE ID       SIZE', 'output');
            dockerState.images.forEach(img => {
                addTerminalLine(`${img.name.padEnd(20)}${img.tag.padEnd(10)}${img.id.substr(0, 12).padEnd(15)}${img.size}`, 'output');
            });
        }

        // Handle docker run
        function handleRun(args) {
            let detached = false;
            let containerName = null;
            let imageName = null;

            // Parse arguments
            for (let i = 0; i < args.length; i++) {
                if (args[i] === '-d') {
                    detached = true;
                } else if (args[i] === '--name') {
                    containerName = args[++i];
                } else if (!args[i].startsWith('-')) {
                    imageName = args[i].split(':')[0];
                }
            }

            if (!imageName) {
                addTerminalLine('Error: No image specified', 'error');
                return;
            }

            // Check if image exists
            const image = dockerState.images.find(img => img.name === imageName);
            if (!image) {
                addTerminalLine(`Error: Image '${imageName}' not found locally`, 'error');
                addTerminalLine(`Hint: Try 'docker pull ${imageName}' first`, 'output');
                return;
            }

            // Generate container name if not provided
            if (!containerName) {
                containerName = `${imageName}_${dockerState.nextContainerId++}`;
            }

            // Check if container name exists
            if (dockerState.containers.find(c => c.name === containerName)) {
                addTerminalLine(`Error: Container name '${containerName}' already in use`, 'error');
                return;
            }

            // Create container
            const containerId = generateContainerId();
            const container = {
                id: containerId,
                name: containerName,
                image: imageName,
                status: 'running',
                created: new Date().toISOString()
            };

            dockerState.containers.push(container);

            if (detached) {
                addTerminalLine(`${containerId}`, 'success');
            } else {
                addTerminalLine(`Container '${containerName}' started (use -d for detached mode)`, 'success');
            }
        }

        // Handle docker ps
        function handlePs(args) {
            const showAll = args.includes('-a');
            const containers = showAll
                ? dockerState.containers
                : dockerState.containers.filter(c => c.status === 'running');

            if (containers.length === 0) {
                addTerminalLine(showAll ? 'No containers found' : 'No running containers', 'output');
                return;
            }

            addTerminalLine('CONTAINER ID   IMAGE        STATUS     NAMES', 'output');
            containers.forEach(c => {
                addTerminalLine(`${c.id.substr(0, 12).padEnd(15)}${c.image.padEnd(13)}${c.status.padEnd(11)}${c.name}`, 'output');
            });
        }

        // Handle docker stop
        function handleStop(args) {
            if (args.length === 0) {
                addTerminalLine('Error: Container name/id required', 'error');
                return;
            }

            const identifier = args[0];
            const container = dockerState.containers.find(c =>
                c.name === identifier || c.id.startsWith(identifier)
            );

            if (!container) {
                addTerminalLine(`Error: No such container: ${identifier}`, 'error');
                return;
            }

            if (container.status === 'stopped') {
                addTerminalLine(`Container '${container.name}' is already stopped`, 'output');
                return;
            }

            container.status = 'stopped';
            addTerminalLine(`${container.name}`, 'success');
        }

        // Handle docker start
        function handleStart(args) {
            if (args.length === 0) {
                addTerminalLine('Error: Container name/id required', 'error');
                return;
            }

            const identifier = args[0];
            const container = dockerState.containers.find(c =>
                c.name === identifier || c.id.startsWith(identifier)
            );

            if (!container) {
                addTerminalLine(`Error: No such container: ${identifier}`, 'error');
                return;
            }

            if (container.status === 'running') {
                addTerminalLine(`Container '${container.name}' is already running`, 'output');
                return;
            }

            container.status = 'running';
            addTerminalLine(`${container.name}`, 'success');
        }

        // Handle docker rm
        function handleRm(args) {
            if (args.length === 0) {
                addTerminalLine('Error: Container name/id required', 'error');
                return;
            }

            const identifier = args[0];
            const index = dockerState.containers.findIndex(c =>
                c.name === identifier || c.id.startsWith(identifier)
            );

            if (index === -1) {
                addTerminalLine(`Error: No such container: ${identifier}`, 'error');
                return;
            }

            const container = dockerState.containers[index];
            if (container.status === 'running' && !args.includes('-f')) {
                addTerminalLine(`Error: Cannot remove running container. Stop it first or use -f`, 'error');
                return;
            }

            dockerState.containers.splice(index, 1);
            addTerminalLine(`${container.name}`, 'success');
        }

        // Handle docker logs
        function handleLogs(args) {
            if (args.length === 0) {
                addTerminalLine('Error: Container name/id required', 'error');
                return;
            }

            const identifier = args[0];
            const container = dockerState.containers.find(c =>
                c.name === identifier || c.id.startsWith(identifier)
            );

            if (!container) {
                addTerminalLine(`Error: No such container: ${identifier}`, 'error');
                return;
            }

            // Simulate logs
            addTerminalLine(`[${container.name}] Server started successfully`, 'output');
            addTerminalLine(`[${container.name}] Listening on port 80`, 'output');
            addTerminalLine(`[${container.name}] Ready to accept connections`, 'output');
        }

        // Handle docker build
        function handleBuild(args) {
            let tag = 'latest';

            for (let i = 0; i < args.length; i++) {
                if (args[i] === '-t') {
                    tag = args[++i];
                }
            }

            addTerminalLine('Building image...', 'output');
            setTimeout(() => {
                addTerminalLine('Step 1/5: FROM node:18-alpine', 'output');
                setTimeout(() => {
                    addTerminalLine('Step 2/5: WORKDIR /app', 'output');
                    setTimeout(() => {
                        addTerminalLine('Step 3/5: COPY . .', 'output');
                        setTimeout(() => {
                            addTerminalLine('Step 4/5: RUN npm install', 'output');
                            setTimeout(() => {
                                addTerminalLine('Step 5/5: CMD ["npm", "start"]', 'output');
                                addTerminalLine(`‚úì Successfully built and tagged ${tag}`, 'success');

                                const [name, version] = tag.split(':');
                                dockerState.images.push({
                                    name: name,
                                    tag: version || 'latest',
                                    size: '245 MB',
                                    id: generateContainerId()
                                });
                                updateVisualizations();
                            }, 400);
                        }, 400);
                    }, 400);
                }, 400);
            }, 400);
        }

        // Handle help
        function handleHelp() {
            addTerminalLine('Available Docker commands:', 'output');
            addTerminalLine('  pull      - Pull an image from registry', 'output');
            addTerminalLine('  images    - List all images', 'output');
            addTerminalLine('  run       - Create and start a container', 'output');
            addTerminalLine('  ps        - List containers (-a for all)', 'output');
            addTerminalLine('  stop      - Stop a running container', 'output');
            addTerminalLine('  start     - Start a stopped container', 'output');
            addTerminalLine('  rm        - Remove a container', 'output');
            addTerminalLine('  logs      - View container logs', 'output');
            addTerminalLine('  build     - Build image from Dockerfile', 'output');
        }

        // Update visualizations
        function updateVisualizations() {
            // Update images grid
            const imagesGrid = document.getElementById('imagesGrid');
            if (dockerState.images.length === 0) {
                imagesGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üì¶</div>
                        <div>No images pulled yet. Try: docker pull nginx</div>
                    </div>
                `;
            } else {
                imagesGrid.innerHTML = dockerState.images.map(img => `
                    <div class="image-card">
                        <div class="card-left">
                            <div class="card-icon">üì¶</div>
                            <div class="card-info">
                                <h4>${img.name}:${img.tag}</h4>
                                <p>ID: ${img.id.substr(0, 12)} ‚Ä¢ ${img.size}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            // Update containers grid
            const containersGrid = document.getElementById('containersGrid');
            const runningContainers = dockerState.containers.filter(c => c.status === 'running');

            if (runningContainers.length === 0) {
                containersGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üöÄ</div>
                        <div>No containers running. Try: docker run -d nginx</div>
                    </div>
                `;
            } else {
                containersGrid.innerHTML = runningContainers.map(c => `
                    <div class="container-card">
                        <div class="card-left">
                            <div class="card-icon">üöÄ</div>
                            <div class="card-info">
                                <h4>${c.name}</h4>
                                <p>${c.image} ‚Ä¢ ${c.id.substr(0, 12)}</p>
                            </div>
                        </div>
                        <div class="status-badge status-${c.status}">${c.status}</div>
                    </div>
                `).join('');
            }
        }

        // Clear terminal
        function clearTerminal() {
            const terminal = document.getElementById('terminal');
            terminal.innerHTML = `
                <div class="terminal-line terminal-success">
                    Terminal cleared. Docker state preserved.
                </div>
                <div class="terminal-line" style="margin-top: 10px;">
                    <span class="terminal-prompt">docker@playground:~$</span>
                </div>
            `;
        }

        // Quick command
        function quickCommand(cmd) {
            document.getElementById('commandInput').value = cmd;
            executeCommand();
        }

        // Navigate back
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = '../../../dashboard.html';
            }
        }

        // Handle Enter key
        document.getElementById('commandInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                executeCommand();
            }
        });

        // Focus input on load
        window.addEventListener('load', () => {
            document.getElementById('commandInput').focus();
        });
    </script>
<script src="../../../components/FluxCapacitor.js"></script>
</body>
</html>
