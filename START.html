<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <title>Hexworth Prime</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0a0a0a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        .loader {
            text-align: center;
            color: #888;
            position: relative;
            z-index: 10;
        }

        .loader-text {
            font-size: 0.9rem;
            letter-spacing: 0.3em;
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .loader-dots {
            margin-top: 20px;
        }

        .loader-dots span {
            display: inline-block;
            width: 8px;
            height: 8px;
            margin: 0 4px;
            background: #444;
            border-radius: 50%;
            animation: pulse 1.4s infinite ease-in-out both;
        }

        .loader-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loader-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loader-dots span:nth-child(3) { animation-delay: 0; }

        @keyframes pulse {
            0%, 80%, 100% {
                transform: scale(0.6);
                background: #333;
            }
            40% {
                transform: scale(1);
                background: #666;
            }
        }
    </style>
</head>
<body>
    <div class="loader">
        <div class="loader-text">INITIALIZING</div>
        <div class="loader-dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Load configuration -->
    <script src="_app/config/cipher.js"></script>
    <script src="_app/config/paths.js"></script>

    <!-- Digital Life - Pre-load and show brief ambient -->
    <!-- Core -->
    <script src="_app/digital-life/core/Firefly.js"></script>
    <script src="_app/digital-life/core/Ecosystem.js"></script>
    <!-- Effects -->
    <script src="_app/digital-life/effects/Particles.js"></script>
    <script src="_app/digital-life/effects/ShootingStar.js"></script>
    <script src="_app/digital-life/effects/AmbientEffects.js"></script>
    <script src="_app/digital-life/effects/Trails.js"></script>
    <!-- Entities -->
    <script src="_app/digital-life/entities/BlackHole.js"></script>
    <script src="_app/digital-life/entities/Moon.js"></script>
    <script src="_app/digital-life/entities/Planet.js"></script>
    <script src="_app/digital-life/entities/EnergyWell.js"></script>
    <script src="_app/digital-life/entities/PredatorStar.js"></script>
    <script src="_app/digital-life/entities/ShadowFirefly.js"></script>
    <script src="_app/digital-life/entities/VoidSerpent.js"></script>
    <script src="_app/digital-life/entities/Parasite.js"></script>
    <script src="_app/digital-life/entities/Portal.js"></script>
    <script src="_app/digital-life/entities/Sanctuary.js"></script>
    <!-- Interactions -->
    <script src="_app/digital-life/interactions/PlayerTools.js"></script>
    <!-- Behaviors -->
    <script src="_app/digital-life/behaviors/Hunting.js"></script>
    <script src="_app/digital-life/behaviors/Swarming.js"></script>
    <script src="_app/digital-life/behaviors/Constellation.js"></script>
    <script src="_app/digital-life/behaviors/Reproduction.js"></script>
    <script src="_app/digital-life/behaviors/HousePersonality.js"></script>
    <script src="_app/digital-life/behaviors/RareFireflies.js"></script>
    <script src="_app/digital-life/behaviors/InteractionSystem.js"></script>
    <script src="_app/digital-life/behaviors/EnvironmentalSystem.js"></script>
    <script src="_app/digital-life/behaviors/Genetics.js"></script>
    <script src="_app/digital-life/behaviors/Pheromones.js"></script>
    <script src="_app/digital-life/behaviors/PredatorManager.js"></script>
    <!-- Cosmic Events -->
    <script src="_app/digital-life/events/CosmicEventManager.js"></script>
    <script src="_app/digital-life/events/SolarFlare.js"></script>
    <script src="_app/digital-life/events/MeteorShower.js"></script>
    <script src="_app/digital-life/events/VoidStorm.js"></script>
    <script src="_app/digital-life/events/Eclipse.js"></script>
    <script src="_app/digital-life/events/NebulaDrift.js"></script>
    <!-- Meta Systems -->
    <script src="_app/digital-life/meta/Achievements.js"></script>
    <script src="_app/digital-life/meta/Statistics.js"></script>
    <script src="_app/digital-life/meta/EventLog.js"></script>
    <!-- Audio -->
    <script src="_app/digital-life/audio/SoundManager.js"></script>
    <script src="_app/digital-life/audio/EventSounds.js"></script>
    <script src="_app/digital-life/audio/AmbientLayer.js"></script>
    <!-- Main -->
    <script src="_app/digital-life/index.js"></script>

    <script>
        // Single entry point - redirects to main application
        // This file exists so users see only ONE thing to click

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize minimal Digital Life for loading screen
            // Uses fewer fireflies for a subtle hint of magic
            const digitalLife = DigitalLife.createAmbient({
                population: {
                    initial: 8,   // Very few - just a hint
                    min: 5,
                    max: 12
                },
                shootingStars: {
                    enabled: false  // No shooting stars during brief load
                },
                cosmicEvents: {
                    enabled: false  // No events during load
                },
                blackHole: {
                    enabled: false  // No black hole
                },
                predators: {
                    enabled: false  // No predators
                }
            });
            digitalLife.init(document.body);

            // Brief delay for loading animation, then redirect to main app
            // Slightly longer to appreciate the fireflies and pre-cache scripts
            setTimeout(function() {
                // Navigate to the Choose Your Reality screen
                window.location.href = '_app/index.html';
            }, 1500);
        });
    </script>
</body>
</html>
